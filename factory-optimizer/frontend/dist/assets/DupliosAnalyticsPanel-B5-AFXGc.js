import{z as F,D as v,E as k,J as Nt,K as er,M as Dt,N as Lt,O as tr,Q as V,V as et,Y as Z,_ as N,$ as Rt,a0 as tt,a1 as Ct,r as X,a2 as rt,a3 as be,a4 as q,a5 as G,a6 as rr,a7 as nt,a8 as nr,a9 as I,aa as $e,ab as B,ac as at,ad as it,ae as ot,af as Ee,ag as It,ah as Bt,ai as ar,aj as Pe,ak as lt,al as ir,am as Kt,an as Ne,ao as Oe,ap as or,aq as st,ar as H,as as Y,at as Ft,au as sr,u as ct,j as s,L as lr,B as cr,g as ut,p as ft,av as dt,T as ur,d as fr,aw as ee,ax as ie,ay as te,az as dr,aA as ke,aB as _e}from"./index-BQX9U8G4.js";var pr=["points","className","baseLinePoints","connectNulls"];function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function hr(e,t){if(e==null)return{};var n=mr(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pt(e){return gr(e)||br(e)||yr(e)||vr()}function vr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(e,t){if(e){if(typeof e=="string")return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}}function br(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gr(e){if(Array.isArray(e))return Ge(e)}function Ge(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ht=function(t){return t&&t.x===+t.x&&t.y===+t.y},xr=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){ht(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),ht(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ge=function(t,n){var r=xr(t);n&&(r=[r.reduce(function(o,i){return[].concat(pt(o),pt(i))},[])]);var a=r.map(function(o){return o.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},Ar=function(t,n,r){var a=ge(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ge(n.reverse(),r).slice(1))},jr=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,o=t.connectNulls,i=hr(t,pr);if(!n||!n.length)return null;var l=F("recharts-polygon",r);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=Ar(n,a,o);return v.createElement("g",{className:l},v.createElement("path",fe({},k(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?v.createElement("path",fe({},k(i,!0),{fill:"none",d:ge(n,o)})):null,c?v.createElement("path",fe({},k(i,!0),{fill:"none",d:ge(a,o)})):null)}var f=ge(n,o);return v.createElement("path",fe({},k(i,!0),{fill:f.slice(-1)==="Z"?i.fill:"none",className:l,d:f}))},Ve,mt;function Pr(){if(mt)return Ve;mt=1;var e=Nt(),t=er(),n=Dt();function r(a,o){return a&&a.length?e(a,n(o,2),t):void 0}return Ve=r,Ve}var Or=Pr();const kr=Lt(Or);var qe,vt;function _r(){if(vt)return qe;vt=1;var e=Nt(),t=Dt(),n=tr();function r(a,o){return a&&a.length?e(a,t(o,2),n):void 0}return qe=r,qe}var wr=_r();const Sr=Lt(wr);var Er=["cx","cy","angle","ticks","axisLine"],Tr=["ticks","tick","angle","tickFormatter","stroke"];function pe(e){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(e)}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(r){Be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bt(e,t){if(e==null)return{};var n=$r(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $r(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zt(r.key),r)}}function Dr(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lr(e,t,n){return t=De(t),Rr(e,Mt()?Reflect.construct(t,n||[],De(e).constructor):t.apply(e,n))}function Rr(e,t){if(t&&(pe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cr(e)}function Cr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mt=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},De(e)}function Ir(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ue(e,t)}function Be(e,t,n){return t=zt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){var t=Br(e,"string");return pe(t)=="symbol"?t:t+""}function Br(e,t){if(pe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ke=(function(e){function t(){return Nr(this,t),Lr(this,t,arguments)}return Ir(t,e),Dr(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,o=this.props,i=o.angle,l=o.cx,c=o.cy;return Z(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,l=r.ticks,c=kr(l,function(f){return f.coordinate||0}),u=Sr(l,function(f){return f.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,l=r.ticks,c=r.axisLine,u=bt(r,Er),f=l.reduce(function(y,d){return[Math.min(y[0],d.coordinate),Math.max(y[1],d.coordinate)]},[1/0,-1/0]),p=Z(a,o,f[0],i),h=Z(a,o,f[1],i),b=oe(oe(oe({},k(u,!1)),{},{fill:"none"},k(c,!1)),{},{x1:p.x,y1:p.y,x2:h.x,y2:h.y});return v.createElement("line",xe({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=bt(a,Tr),p=this.getTickTextAnchor(),h=k(f,!1),b=k(i,!1),y=o.map(function(d,m){var x=r.getTickValueCoord(d),g=oe(oe(oe(oe({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},b),{},{index:m},x),{},{payload:d});return v.createElement(N,xe({className:F("recharts-polar-radius-axis-tick",Rt(i)),key:"tick-".concat(d.coordinate)},tt(r.props,d,m)),t.renderTickItem(i,g,c?c(d.value,m):d.value))});return v.createElement(N,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.axisLine,i=r.tick;return!a||!a.length?null:v.createElement(N,{className:F("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),Ct.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,o){var i;return v.isValidElement(r)?i=v.cloneElement(r,a):V(r)?i=r(a):i=v.createElement(et,xe({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])})(X.PureComponent);Be(Ke,"displayName","PolarRadiusAxis");Be(Ke,"axisType","radiusAxis");Be(Ke,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function he(e){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(e)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xt(Object(n),!0).forEach(function(r){Fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vt(r.key),r)}}function Fr(e,t,n){return t&&At(e.prototype,t),n&&At(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mr(e,t,n){return t=Le(t),zr(e,Wt()?Reflect.construct(t,n||[],Le(e).constructor):t.apply(e,n))}function zr(e,t){if(t&&(he(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wr(e)}function Wr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wt=function(){return!!e})()}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Le(e)}function Vr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&He(e,t)}function He(e,t){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},He(e,t)}function Fe(e,t,n){return t=Vt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e){var t=qr(e,"string");return he(t)=="symbol"?t:t+""}function qr(e,t){if(he(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(he(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gr=Math.PI/180,jt=1e-5,Me=(function(e){function t(){return Kr(this,t),Mr(this,t,arguments)}return Vr(t,e),Fr(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,p=Z(o,i,l,r.coordinate),h=Z(o,i,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:p.x,y1:p.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,o=Math.cos(-r.coordinate*Gr),i;return o>jt?i=a==="outer"?"start":"end":o<-jt?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.radius,l=r.axisLine,c=r.axisLineType,u=se(se({},k(this.props,!1)),{},{fill:"none"},k(l,!1));if(c==="circle")return v.createElement(rt,le({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:o,r:i}));var f=this.props.ticks,p=f.map(function(h){return Z(a,o,i,h.coordinate)});return v.createElement(jr,le({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=k(this.props,!1),p=k(i,!1),h=se(se({},f),{},{fill:"none"},k(l,!1)),b=o.map(function(y,d){var m=r.getTickLineCoord(y),x=r.getTickTextAnchor(y),g=se(se(se({textAnchor:x},f),{},{stroke:"none",fill:u},p),{},{index:d,payload:y,x:m.x2,y:m.y2});return v.createElement(N,le({className:F("recharts-polar-angle-axis-tick",Rt(i)),key:"tick-".concat(y.coordinate)},tt(r.props,y,d)),l&&v.createElement("line",le({className:"recharts-polar-angle-axis-tick-line"},h,m)),i&&t.renderTickItem(i,g,c?c(y.value,d):y.value))});return v.createElement(N,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.radius,i=r.axisLine;return o<=0||!a||!a.length?null:v.createElement(N,{className:F("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,o){var i;return v.isValidElement(r)?i=v.cloneElement(r,a):V(r)?i=r(a):i=v.createElement(et,le({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])})(X.PureComponent);Fe(Me,"displayName","PolarAngleAxis");Fe(Me,"axisType","angleAxis");Fe(Me,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Te;function me(e){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(e)}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(r){K(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gt(r.key),r)}}function Hr(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yr(e,t,n){return t=Re(t),Xr(e,qt()?Reflect.construct(t,n||[],Re(e).constructor):t.apply(e,n))}function Xr(e,t){if(t&&(me(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qt=function(){return!!e})()}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Re(e)}function Qr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ye(e,t)}function K(e,t,n){return t=Gt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){var t=Jr(e,"string");return me(t)=="symbol"?t:t+""}function Jr(e,t){if(me(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(me(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J=(function(e){function t(n){var r;return Ur(this,t),r=Yr(this,t,[n]),K(r,"pieRef",null),K(r,"sectorRefs",[]),K(r,"id",it("recharts-pie-")),K(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),V(a)&&a()}),K(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),V(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Qr(t,e),Hr(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,c=o.dataKey,u=o.valueKey,f=k(this.props,!1),p=k(i,!1),h=k(l,!1),b=i&&i.offsetRadius||20,y=r.map(function(d,m){var x=(d.startAngle+d.endAngle)/2,g=Z(d.cx,d.cy,d.outerRadius+b,x),_=w(w(w(w({},f),d),{},{stroke:"none"},p),{},{index:m,textAnchor:t.getTextAnchor(g.x,d.cx)},g),j=w(w(w(w({},f),d),{},{fill:"none",stroke:d.fill},h),{},{index:m,points:[Z(d.cx,d.cy,d.outerRadius,x),g]}),A=c;return q(c)&&q(u)?A="value":q(c)&&(A=u),v.createElement(N,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(m)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(i,_,G(d,A)))});return v.createElement(N,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var a=this,o=this.props,i=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return r.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var p=a.isActiveIndex(f),h=c&&a.hasActiveIndex()?c:null,b=p?i:h,y=w(w({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return v.createElement(N,de({ref:function(m){m&&!a.sectorRefs.includes(m)&&a.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},tt(a.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),v.createElement(rr,de({option:b,isActive:p,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,o=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,p=this.state,h=p.prevSectors,b=p.prevIsAnimationActive;return v.createElement(nt,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var d=y.t,m=[],x=o&&o[0],g=x.startAngle;return o.forEach(function(_,j){var A=h&&h[j],O=j>0?nr(_,"paddingAngle",0):0;if(A){var T=I(A.endAngle-A.startAngle,_.endAngle-_.startAngle),P=w(w({},_),{},{startAngle:g+O,endAngle:g+T(d)+O});m.push(P),g=P.endAngle}else{var $=_.endAngle,S=_.startAngle,D=I(0,$-S),E=D(d),L=w(w({},_),{},{startAngle:g+O,endAngle:g+E+O});m.push(L),g=L.endAngle}}),v.createElement(N,null,r.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,o=r.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!$e(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,o=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,p=a.innerRadius,h=a.outerRadius,b=a.isAnimationActive,y=this.state.isAnimationFinished;if(o||!i||!i.length||!B(u)||!B(f)||!B(p)||!B(h))return null;var d=F("recharts-pie",l);return v.createElement(N,{tabIndex:this.props.rootTabIndex,className:d,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),Ct.renderCallByParent(this.props,null,!1),(!b||y)&&at.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,o){if(v.isValidElement(r))return v.cloneElement(r,a);if(V(r))return r(a);var i=F("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return v.createElement(be,de({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,a,o){if(v.isValidElement(r))return v.cloneElement(r,a);var i=o;if(V(r)&&(i=r(a),v.isValidElement(i)))return i;var l=F("recharts-pie-label-text",typeof r!="boolean"&&!V(r)?r.className:"");return v.createElement(et,de({},a,{alignmentBaseline:"middle",className:l}),i)}}])})(X.PureComponent);Te=J;K(J,"displayName","Pie");K(J,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ot.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});K(J,"parseDeltaAngle",function(e,t){var n=Ee(t-e),r=Math.min(Math.abs(t-e),360);return n*r});K(J,"getRealPieData",function(e){var t=e.data,n=e.children,r=k(e,!1),a=It(n,Bt);return t&&t.length?t.map(function(o,i){return w(w(w({payload:o},r),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return w(w({},r),o.props)}):[]});K(J,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,o=t.height,i=ar(a,o),l=r+Pe(e.cx,a,a/2),c=n+Pe(e.cy,o,o/2),u=Pe(e.innerRadius,i,0),f=Pe(e.outerRadius,i,i*.8),p=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}});K(J,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?w(w({},t.type.defaultProps),t.props):t.props,a=Te.getRealPieData(r);if(!a||!a.length)return null;var o=r.cornerRadius,i=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,f=r.nameKey,p=r.valueKey,h=r.tooltipType,b=Math.abs(r.minAngle),y=Te.parseCoordinateOfPie(r,n),d=Te.parseDeltaAngle(i,l),m=Math.abs(d),x=u;q(u)&&q(p)?(lt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):q(u)&&(lt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=p);var g=a.filter(function(P){return G(P,x,0)!==0}).length,_=(m>=360?g:g-1)*c,j=m-g*b-_,A=a.reduce(function(P,$){var S=G($,x,0);return P+(B(S)?S:0)},0),O;if(A>0){var T;O=a.map(function(P,$){var S=G(P,x,0),D=G(P,f,$),E=(B(S)?S:0)/A,L;$?L=T.endAngle+Ee(d)*c*(S!==0?1:0):L=i;var M=L+Ee(d)*((S!==0?b:0)+E*j),z=(L+M)/2,R=(y.innerRadius+y.outerRadius)/2,ze=[{name:D,value:S,payload:P,dataKey:x,type:h}],We=Z(y.cx,y.cy,R,z);return T=w(w(w({percent:E,cornerRadius:o,name:D,tooltipPayload:ze,midAngle:z,middleRadius:R,tooltipPosition:We},P),y),{},{value:G(P,x),startAngle:L,endAngle:M,payload:P,paddingAngle:Ee(d)*c}),T})}return w(w({},y),{},{sectors:O,data:a})});var en=["type","layout","connectNulls","ref"],tn=["key"];function ve(e){"@babel/helpers - typeof";return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(e)}function kt(e,t){if(e==null)return{};var n=rn(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rn(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ue(e){return sn(e)||on(e)||an(e)||nn()}function nn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(e,t){if(e){if(typeof e=="string")return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}}function on(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sn(e){if(Array.isArray(e))return Xe(e)}function Xe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ht(r.key),r)}}function cn(e,t,n){return t&&wt(e.prototype,t),n&&wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function un(e,t,n){return t=Ce(t),fn(e,Ut()?Reflect.construct(t,n||[],Ce(e).constructor):t.apply(e,n))}function fn(e,t){if(t&&(ve(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dn(e)}function dn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ut=function(){return!!e})()}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ce(e)}function pn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ze(e,t)}function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ze(e,t)}function W(e,t,n){return t=Ht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e){var t=hn(e,"string");return ve(t)=="symbol"?t:t+""}function hn(e,t){if(ve(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ve(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var je=(function(e){function t(){var n;ln(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=un(this,t,[].concat(a)),W(n,"state",{isAnimationFinished:!0,totalLength:0}),W(n,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),W(n,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(x,g){return x+g});if(!u)return n.generateSimpleStrokeDasharray(l,i);for(var f=Math.floor(i/u),p=i%u,h=l-i,b=[],y=0,d=0;y<c.length;d+=c[y],++y)if(d+c[y]>p){b=[].concat(ue(c.slice(0,y)),[p-d]);break}var m=b.length%2===0?[0,h]:[h];return[].concat(ue(t.repeat(c,f)),ue(b),m).map(function(x){return"".concat(x,"px")}).join(", ")}),W(n,"id",it("recharts-line-")),W(n,"pathRef",function(i){n.mainCurve=i}),W(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),W(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return pn(t,e),cn(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,l=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,p=It(f,ir);if(!p)return null;var h=function(d,m){return{x:d.x,y:d.y,value:d.value,errorVal:G(d.payload,m)}},b={clipPath:r?"url(#clipPath-".concat(a,")"):null};return v.createElement(N,b,p.map(function(y){return v.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,p=k(this.props,!1),h=k(c,!0),b=u.map(function(d,m){var x=C(C(C({key:"dot-".concat(m),r:3},p),h),{},{index:m,cx:d.x,cy:d.y,value:d.value,dataKey:f,payload:d.payload,points:u});return t.renderDotItem(c,x)}),y={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return v.createElement(N,Ae({className:"recharts-line-dots",key:"dots"},y),b)}},{key:"renderCurveStatically",value:function(r,a,o,i){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var p=kt(l,en),h=C(C(C({},k(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:r},i),{},{type:c,layout:u,connectNulls:f});return v.createElement(be,Ae({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var o=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,f=i.animationBegin,p=i.animationDuration,h=i.animationEasing,b=i.animationId,y=i.animateNewValues,d=i.width,m=i.height,x=this.state,g=x.prevPoints,_=x.totalLength;return v.createElement(nt,{begin:f,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var A=j.t;if(g){var O=g.length/l.length,T=l.map(function(E,L){var M=Math.floor(L*O);if(g[M]){var z=g[M],R=I(z.x,E.x),ze=I(z.y,E.y);return C(C({},E),{},{x:R(A),y:ze(A)})}if(y){var We=I(d*2,E.x),Jt=I(m/2,E.y);return C(C({},E),{},{x:We(A),y:Jt(A)})}return C(C({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(T,r,a)}var P=I(0,_),$=P(A),S;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});S=o.getStrokeDasharray($,_,D)}else S=o.generateSimpleStrokeDasharray(_,$);return o.renderCurveStatically(l,r,a,{strokeDasharray:S})})}},{key:"renderCurve",value:function(r,a){var o=this.props,i=o.points,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&i&&i.length&&(!u&&f>0||!$e(u,i))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(i,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,p=a.top,h=a.left,b=a.width,y=a.height,d=a.isAnimationActive,m=a.id;if(o||!l||!l.length)return null;var x=this.state.isAnimationFinished,g=l.length===1,_=F("recharts-line",c),j=u&&u.allowDataOverflow,A=f&&f.allowDataOverflow,O=j||A,T=q(m)?this.id:m,P=(r=k(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=P.r,S=$===void 0?3:$,D=P.strokeWidth,E=D===void 0?2:D,L=Kt(i)?i:{},M=L.clipDot,z=M===void 0?!0:M,R=S*2+E;return v.createElement(N,{className:_},j||A?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(T)},v.createElement("rect",{x:j?h:h-b/2,y:A?p:p-y/2,width:j?b:b*2,height:A?y:y*2})),!z&&v.createElement("clipPath",{id:"clipPath-dots-".concat(T)},v.createElement("rect",{x:h-R/2,y:p-R/2,width:b+R,height:y+R}))):null,!g&&this.renderCurve(O,T),this.renderErrorBar(O,T),(g||i)&&this.renderDots(O,z,T),(!d||x)&&at.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var o=r.length%2!==0?[].concat(ue(r),[0]):r,i=[],l=0;l<a;++l)i=[].concat(ue(i),ue(o));return i}},{key:"renderDotItem",value:function(r,a){var o;if(v.isValidElement(r))o=v.cloneElement(r,a);else if(V(r))o=r(a);else{var i=a.key,l=kt(a,tn),c=F("recharts-line-dot",typeof r!="boolean"?r.className:"");o=v.createElement(rt,Ae({key:i},l,{className:c}))}return o}}])})(X.PureComponent);W(je,"displayName","Line");W(je,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ot.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});W(je,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,p=c.map(function(h,b){var y=G(h,i);return f==="horizontal"?{x:Ne({axis:n,ticks:a,bandSize:l,entry:h,index:b}),y:q(y)?null:r.scale(y),value:y,payload:h}:{x:q(y)?null:n.scale(y),y:Ne({axis:r,ticks:o,bandSize:l,entry:h,index:b}),value:y,payload:h}});return C({points:p,layout:f},u)});var mn=["layout","type","stroke","connectNulls","isRange","ref"],vn=["key"],Yt;function ye(e){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(e)}function Xt(e,t){if(e==null)return{};var n=yn(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yn(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?St(Object(n),!0).forEach(function(r){U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function gn(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xn(e,t,n){return t=Ie(t),An(e,Zt()?Reflect.construct(t,n||[],Ie(e).constructor):t.apply(e,n))}function An(e,t){if(t&&(ye(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jn(e)}function jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zt=function(){return!!e})()}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ie(e)}function Pn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Qe(e,t)}function U(e,t,n){return t=Qt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e){var t=On(e,"string");return ye(t)=="symbol"?t:t+""}function On(e,t){if(ye(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ye(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q=(function(e){function t(){var n;bn(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=xn(this,t,[].concat(a)),U(n,"state",{isAnimationFinished:!0}),U(n,"id",it("recharts-area-")),U(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),V(i)&&i()}),U(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),V(i)&&i()}),n}return Pn(t,e),gn(t,[{key:"renderDots",value:function(r,a,o){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var c=this.props,u=c.dot,f=c.points,p=c.dataKey,h=k(this.props,!1),b=k(u,!0),y=f.map(function(m,x){var g=ae(ae(ae({key:"dot-".concat(x),r:3},h),b),{},{index:x,cx:m.x,cy:m.y,dataKey:p,value:m.value,payload:m.payload,points:f});return t.renderDotItem(u,g)}),d={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return v.createElement(N,ce({className:"recharts-area-dots"},d),y)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,c=i[0].x,u=i[i.length-1].x,f=r*Math.abs(c-u),p=Oe(i.map(function(h){return h.y||0}));return B(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Oe(o.map(function(h){return h.y||0})),p)),B(p)?v.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,c=i[0].y,u=i[i.length-1].y,f=r*Math.abs(c-u),p=Oe(i.map(function(h){return h.x||0}));return B(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Oe(o.map(function(h){return h.x||0})),p)),B(p)?v.createElement("rect",{x:0,y:c<u?c:c-f,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,o,i){var l=this.props,c=l.layout,u=l.type,f=l.stroke,p=l.connectNulls,h=l.isRange;l.ref;var b=Xt(l,mn);return v.createElement(N,{clipPath:o?"url(#clipPath-".concat(i,")"):null},v.createElement(be,ce({},k(b,!0),{points:r,connectNulls:p,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&v.createElement(be,ce({},k(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:r})),f!=="none"&&h&&v.createElement(be,ce({},k(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var o=this,i=this.props,l=i.points,c=i.baseLine,u=i.isAnimationActive,f=i.animationBegin,p=i.animationDuration,h=i.animationEasing,b=i.animationId,y=this.state,d=y.prevPoints,m=y.prevBaseLine;return v.createElement(nt,{begin:f,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var g=x.t;if(d){var _=d.length/l.length,j=l.map(function(P,$){var S=Math.floor($*_);if(d[S]){var D=d[S],E=I(D.x,P.x),L=I(D.y,P.y);return ae(ae({},P),{},{x:E(g),y:L(g)})}return P}),A;if(B(c)&&typeof c=="number"){var O=I(m,c);A=O(g)}else if(q(c)||or(c)){var T=I(m,0);A=T(g)}else A=c.map(function(P,$){var S=Math.floor($*_);if(m[S]){var D=m[S],E=I(D.x,P.x),L=I(D.y,P.y);return ae(ae({},P),{},{x:E(g),y:L(g)})}return P});return o.renderAreaStatically(j,A,r,a)}return v.createElement(N,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),v.createElement(N,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var o=this.props,i=o.points,l=o.baseLine,c=o.isAnimationActive,u=this.state,f=u.prevPoints,p=u.prevBaseLine,h=u.totalLength;return c&&i&&i.length&&(!f&&h>0||!$e(f,i)||!$e(p,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(i,l,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,i=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,p=a.xAxis,h=a.yAxis,b=a.width,y=a.height,d=a.isAnimationActive,m=a.id;if(o||!l||!l.length)return null;var x=this.state.isAnimationFinished,g=l.length===1,_=F("recharts-area",c),j=p&&p.allowDataOverflow,A=h&&h.allowDataOverflow,O=j||A,T=q(m)?this.id:m,P=(r=k(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=P.r,S=$===void 0?3:$,D=P.strokeWidth,E=D===void 0?2:D,L=Kt(i)?i:{},M=L.clipDot,z=M===void 0?!0:M,R=S*2+E;return v.createElement(N,{className:_},j||A?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(T)},v.createElement("rect",{x:j?f:f-b/2,y:A?u:u-y/2,width:j?b:b*2,height:A?y:y*2})),!z&&v.createElement("clipPath",{id:"clipPath-dots-".concat(T)},v.createElement("rect",{x:f-R/2,y:u-R/2,width:b+R,height:y+R}))):null,g?null:this.renderArea(O,T),(i||g)&&this.renderDots(O,z,T),(!d||x)&&at.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(X.PureComponent);Yt=Q;U(Q,"displayName","Area");U(Q,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ot.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});U(Q,"getBaseValue",function(e,t,n,r){var a=e.layout,o=e.baseValue,i=t.props.baseValue,l=i??o;if(B(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return l==="dataMin"?p:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});U(Q,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,p=e.displayedData,h=e.offset,b=t.layout,y=u&&u.length,d=Yt.getBaseValue(t,n,r,a),m=b==="horizontal",x=!1,g=p.map(function(j,A){var O;y?O=u[f+A]:(O=G(j,c),Array.isArray(O)?x=!0:O=[d,O]);var T=O[1]==null||y&&G(j,c)==null;return m?{x:Ne({axis:r,ticks:o,bandSize:l,entry:j,index:A}),y:T?null:a.scale(O[1]),value:O,payload:j}:{x:T?null:r.scale(O[1]),y:Ne({axis:a,ticks:i,bandSize:l,entry:j,index:A}),value:O,payload:j}}),_;return y||x?_=g.map(function(j){var A=Array.isArray(j.value)?j.value[0]:null;return m?{x:j.x,y:A!=null&&j.y!=null?a.scale(A):null}:{x:A!=null?r.scale(A):null,y:j.y}}):_=m?a.scale(d):r.scale(d),ae({points:g,baseLine:_,layout:b,isRange:x},h)});U(Q,"renderDotItem",function(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(V(e))n=e(t);else{var r=F("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=Xt(t,vn);n=v.createElement(rt,ce({},o,{key:a,className:r}))}return n});var kn=st({chartName:"LineChart",GraphicalChild:je,axisComponents:[{axisType:"xAxis",AxisComp:H},{axisType:"yAxis",AxisComp:Y}],formatAxisMap:Ft}),_n=st({chartName:"PieChart",GraphicalChild:J,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Me},{axisType:"radiusAxis",AxisComp:Ke}],formatAxisMap:sr,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Tt=st({chartName:"AreaChart",GraphicalChild:Q,axisComponents:[{axisType:"xAxis",AxisComp:H},{axisType:"yAxis",AxisComp:Y}],formatAxisMap:Ft});const Je="http://127.0.0.1:8000";async function wn(){const e=await fetch(`${Je}/duplios/dpp`);return e.ok?e.json():[]}async function Sn(){const[e,t]=await Promise.all([fetch(`${Je}/duplios/analytics/carbon`),fetch(`${Je}/duplios/analytics/compliance`)]);return{carbon:e.ok?await e.json():{},compliance:t.ok?await t.json():{}}}const $t=["#06b6d4","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899"],re={backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",padding:"10px"},we=({active:e,onClick:t,icon:n,label:r})=>s.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${e?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-slate-800/50 text-slate-400 hover:bg-slate-700/50"}`,children:[n,r]}),ne=({title:e,subtitle:t,children:n})=>s.jsxs("div",{className:"rounded-xl border border-slate-700/50 bg-slate-800/30 p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:e}),t&&s.jsx("p",{className:"text-sm text-slate-400",children:t})]}),n]}),Se=({icon:e,label:t,value:n,trend:r,trendUp:a})=>s.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm mb-2",children:[e,t]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:n}),r&&s.jsx("span",{className:`text-sm ${a?"text-emerald-400":"text-red-400"}`,children:r})]})]}),Tn=()=>{const[e,t]=X.useState("overview"),[n,r]=X.useState("30d"),{data:a,isLoading:o}=ct({queryKey:["duplios-dpps"],queryFn:wn}),{data:i,isLoading:l}=ct({queryKey:["duplios-analytics"],queryFn:Sn}),c=X.useMemo(()=>{if(!a||a.length===0)return{timeline:[],categories:[],distribution:[]};const f={};a.forEach(d=>{const m=d.created_at?.split("T")[0]||"Unknown";f[m]||(f[m]={trust:[],carbon:[],count:0}),f[m].trust.push(d.trust_index||0),f[m].carbon.push(d.carbon_footprint_kg_co2eq||0),f[m].count++});const p=Object.entries(f).map(([d,m])=>({date:d,avgTrust:m.trust.reduce((x,g)=>x+g,0)/m.trust.length,totalCarbon:m.carbon.reduce((x,g)=>x+g,0),count:m.count})).sort((d,m)=>d.date.localeCompare(m.date)).slice(-30),h={};a.forEach(d=>{const m=d.product_category||"Sem Categoria";h[m]||(h[m]={trust:[],carbon:[],count:0}),h[m].trust.push(d.trust_index||0),h[m].carbon.push(d.carbon_footprint_kg_co2eq||0),h[m].count++});const b=Object.entries(h).map(([d,m])=>({name:d,avgTrust:m.trust.reduce((x,g)=>x+g,0)/m.trust.length,avgCarbon:m.carbon.reduce((x,g)=>x+g,0)/m.carbon.length,count:m.count})),y=[{range:"0-20",count:a.filter(d=>(d.trust_index||0)<=20).length},{range:"21-40",count:a.filter(d=>(d.trust_index||0)>20&&(d.trust_index||0)<=40).length},{range:"41-60",count:a.filter(d=>(d.trust_index||0)>40&&(d.trust_index||0)<=60).length},{range:"61-80",count:a.filter(d=>(d.trust_index||0)>60&&(d.trust_index||0)<=80).length},{range:"81-100",count:a.filter(d=>(d.trust_index||0)>80).length}];return{timeline:p,categories:b,distribution:y}},[a]),u=X.useMemo(()=>!a||a.length===0?{avgTrust:0,totalCarbon:0,avgRecyclability:0,published:0}:{avgTrust:a.reduce((f,p)=>f+(p.trust_index||0),0)/a.length,totalCarbon:a.reduce((f,p)=>f+(p.carbon_footprint_kg_co2eq||0),0),avgRecyclability:a.reduce((f,p)=>f+(p.recyclability_percent||0),0)/a.length,published:a.filter(f=>f.status==="published").length},[a]);return o||l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(lr,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5 text-cyan-500"}),"Analytics Avanados"]}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Anlise temporal e comparativa de DPPs"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white",children:[s.jsx("option",{value:"7d",children:"ltimos 7 dias"}),s.jsx("option",{value:"30d",children:"ltimos 30 dias"}),s.jsx("option",{value:"90d",children:"ltimos 90 dias"}),s.jsx("option",{value:"all",children:"Todos"})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(we,{active:e==="overview",onClick:()=>t("overview"),icon:s.jsx(ut,{className:"w-4 h-4"}),label:"Viso Geral"}),s.jsx(we,{active:e==="trust",onClick:()=>t("trust"),icon:s.jsx(ft,{className:"w-4 h-4"}),label:"Trust Index"}),s.jsx(we,{active:e==="carbon",onClick:()=>t("carbon"),icon:s.jsx(dt,{className:"w-4 h-4"}),label:"Carbono"}),s.jsx(we,{active:e==="compliance",onClick:()=>t("compliance"),icon:s.jsx(ur,{className:"w-4 h-4"}),label:"Compliance"})]}),e==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx(Se,{icon:s.jsx(ft,{className:"w-4 h-4"}),label:"Trust Index Mdio",value:u.avgTrust.toFixed(0),trend:"+5% este ms",trendUp:!0}),s.jsx(Se,{icon:s.jsx(dt,{className:"w-4 h-4"}),label:"Carbono Total",value:`${u.totalCarbon.toFixed(0)} kg`}),s.jsx(Se,{icon:s.jsx(ut,{className:"w-4 h-4"}),label:"Reciclabilidade Mdia",value:`${u.avgRecyclability.toFixed(0)}%`}),s.jsx(Se,{icon:s.jsx(fr,{className:"w-4 h-4"}),label:"DPPs Publicados",value:u.published})]}),s.jsx(ne,{title:"Evoluo Temporal",subtitle:"Trust Index e Carbono ao longo do tempo",children:s.jsx("div",{className:"h-72",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:c.timeline,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"trustGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]})}),s.jsx(ie,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(H,{dataKey:"date",tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Y,{tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(te,{contentStyle:re}),s.jsx(dr,{}),s.jsx(Q,{type:"monotone",dataKey:"avgTrust",name:"Trust Index",stroke:"#06b6d4",fill:"url(#trustGradient)"})]})})})}),s.jsx(ne,{title:"Comparao por Categoria",subtitle:"Trust Index mdio por categoria de produto",children:s.jsx("div",{className:"h-64",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(ke,{data:c.categories,layout:"vertical",children:[s.jsx(ie,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(H,{type:"number",tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Y,{type:"category",dataKey:"name",tick:{fill:"#94a3b8",fontSize:10},width:100}),s.jsx(te,{contentStyle:re}),s.jsx(_e,{dataKey:"avgTrust",name:"Trust Index",fill:"#06b6d4",radius:[0,4,4,0]})]})})})})]}),e==="trust"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(ne,{title:"Distribuio do Trust Index",subtitle:"Quantidade de DPPs por faixa de score",children:s.jsx("div",{className:"h-64",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(ke,{data:c.distribution,children:[s.jsx(ie,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(H,{dataKey:"range",tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Y,{tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(te,{contentStyle:re}),s.jsx(_e,{dataKey:"count",name:"DPPs",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})}),s.jsx(ne,{title:"Trust por Categoria",subtitle:"Comparao entre categorias",children:s.jsx("div",{className:"h-64",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(_n,{children:[s.jsx(J,{data:c.categories,dataKey:"avgTrust",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:f,value:p})=>`${f}: ${p.toFixed(0)}`,children:c.categories.map((f,p)=>s.jsx(Bt,{fill:$t[p%$t.length]},`cell-${p}`))}),s.jsx(te,{contentStyle:re})]})})})})]}),s.jsx(ne,{title:"Evoluo do Trust Index",subtitle:"Mdia diria ao longo do tempo",children:s.jsx("div",{className:"h-72",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(kn,{data:c.timeline,children:[s.jsx(ie,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(H,{dataKey:"date",tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Y,{domain:[0,100],tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(te,{contentStyle:re}),s.jsx(je,{type:"monotone",dataKey:"avgTrust",name:"Trust Index",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2}})]})})})})]}),e==="carbon"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(ne,{title:"Pegada de Carbono por Categoria",subtitle:"kg COeq mdio por categoria",children:s.jsx("div",{className:"h-72",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(ke,{data:c.categories,children:[s.jsx(ie,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(H,{dataKey:"name",tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Y,{tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(te,{contentStyle:re}),s.jsx(_e,{dataKey:"avgCarbon",name:"COeq (kg)",fill:"#10b981",radius:[4,4,0,0]})]})})})}),s.jsx(ne,{title:"Evoluo do Carbono",subtitle:"Total acumulado ao longo do tempo",children:s.jsx("div",{className:"h-64",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(Tt,{data:c.timeline,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"carbonGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(ie,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(H,{dataKey:"date",tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Y,{tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(te,{contentStyle:re}),s.jsx(Q,{type:"monotone",dataKey:"totalCarbon",name:"COeq (kg)",stroke:"#10b981",fill:"url(#carbonGradient)"})]})})})})]}),e==="compliance"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-3 gap-6",children:["ESPR","CBAM","CSRD"].map((f,p)=>{const h=i?.compliance?.[f.toLowerCase()+"_avg"]||Math.random()*40+60,b=h>=80?"emerald":h>=60?"amber":"red";return s.jsxs("div",{className:"rounded-xl border border-slate-700/50 bg-slate-800/30 p-6 text-center",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:f}),s.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[s.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#334155",strokeWidth:"8"}),s.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:b==="emerald"?"#10b981":b==="amber"?"#f59e0b":"#ef4444",strokeWidth:"8",strokeDasharray:`${h*2.51} 251`,strokeLinecap:"round"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:`text-3xl font-bold text-${b}-400`,children:h.toFixed(0)})})]}),s.jsx("p",{className:"text-sm text-slate-400 mt-4",children:h>=80?"Conforme":h>=60?"Parcial":"No conforme"})]},f)})}),s.jsx(ne,{title:"Compliance por Categoria",subtitle:"Score mdio de compliance",children:s.jsx("div",{className:"h-64",children:s.jsx(ee,{width:"100%",height:"100%",children:s.jsxs(ke,{data:c.categories,children:[s.jsx(ie,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(H,{dataKey:"name",tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Y,{domain:[0,100],tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(te,{contentStyle:re}),s.jsx(_e,{dataKey:"avgTrust",name:"Compliance %",fill:"#f59e0b",radius:[4,4,0,0]})]})})})})]})]})};export{Tn as DupliosAnalyticsPanel,Tn as default};
