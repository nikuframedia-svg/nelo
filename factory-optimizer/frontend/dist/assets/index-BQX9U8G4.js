const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PreventionGuardPanel-B8Hc5onx.js","assets/save-C9NKLrmT.js","assets/SHIDTTrainingPanel-CVWNqs92.js","assets/bar-chart-2-BZmnfMR_.js","assets/MRPForecastPanel-DCnfNu59.js","assets/WorkInstructionsAdmin-MnSbQzdQ.js"])))=>i.map(i=>d[i]);
function NB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wg={exports:{}},ou={},Ng={exports:{}},Ye={};var UP;function _B(){if(UP)return Ye;UP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function b(B,V,I){this.props=B,this.context=V,this.refs=v,this.updater=I||g}b.prototype.isReactComponent={},b.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=b.prototype;function S(B,V,I){this.props=B,this.context=V,this.refs=v,this.updater=I||g}var k=S.prototype=new w;k.constructor=S,y(k,b.prototype),k.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(B,V,I){var ae,ye={},be=null,we=null;if(V!=null)for(ae in V.ref!==void 0&&(we=V.ref),V.key!==void 0&&(be=""+V.key),V)P.call(V,ae)&&!T.hasOwnProperty(ae)&&(ye[ae]=V[ae]);var ke=arguments.length-2;if(ke===1)ye.children=I;else if(1<ke){for(var se=Array(ke),ve=0;ve<ke;ve++)se[ve]=arguments[ve+2];ye.children=se}if(B&&B.defaultProps)for(ae in ke=B.defaultProps,ke)ye[ae]===void 0&&(ye[ae]=ke[ae]);return{$$typeof:e,type:B,key:be,ref:we,props:ye,_owner:_.current}}function L(B,V){return{$$typeof:e,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function F(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(I){return V[I]})}var q=/\/+/g;function H(B,V){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):V.toString(36)}function K(B,V,I,ae,ye){var be=typeof B;(be==="undefined"||be==="boolean")&&(B=null);var we=!1;if(B===null)we=!0;else switch(be){case"string":case"number":we=!0;break;case"object":switch(B.$$typeof){case e:case t:we=!0}}if(we)return we=B,ye=ye(we),B=ae===""?"."+H(we,0):ae,E(ye)?(I="",B!=null&&(I=B.replace(q,"$&/")+"/"),K(ye,V,I,"",function(ve){return ve})):ye!=null&&(M(ye)&&(ye=L(ye,I+(!ye.key||we&&we.key===ye.key?"":(""+ye.key).replace(q,"$&/")+"/")+B)),V.push(ye)),1;if(we=0,ae=ae===""?".":ae+":",E(B))for(var ke=0;ke<B.length;ke++){be=B[ke];var se=ae+H(be,ke);we+=K(be,V,I,se,ye)}else if(se=p(B),typeof se=="function")for(B=se.call(B),ke=0;!(be=B.next()).done;)be=be.value,se=ae+H(be,ke++),we+=K(be,V,I,se,ye);else if(be==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return we}function W(B,V,I){if(B==null)return B;var ae=[],ye=0;return K(B,ae,"","",function(be){return V.call(I,be,ye++)}),ae}function $(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(I){(B._status===0||B._status===-1)&&(B._status=1,B._result=I)},function(I){(B._status===0||B._status===-1)&&(B._status=2,B._result=I)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var Q={current:null},Y={transition:null},X={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:Y,ReactCurrentOwner:_};function R(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:W,forEach:function(B,V,I){W(B,function(){V.apply(this,arguments)},I)},count:function(B){var V=0;return W(B,function(){V++}),V},toArray:function(B){return W(B,function(V){return V})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ye.Component=b,Ye.Fragment=r,Ye.Profiler=a,Ye.PureComponent=S,Ye.StrictMode=n,Ye.Suspense=u,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ye.act=R,Ye.cloneElement=function(B,V,I){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ae=y({},B.props),ye=B.key,be=B.ref,we=B._owner;if(V!=null){if(V.ref!==void 0&&(be=V.ref,we=_.current),V.key!==void 0&&(ye=""+V.key),B.type&&B.type.defaultProps)var ke=B.type.defaultProps;for(se in V)P.call(V,se)&&!T.hasOwnProperty(se)&&(ae[se]=V[se]===void 0&&ke!==void 0?ke[se]:V[se])}var se=arguments.length-2;if(se===1)ae.children=I;else if(1<se){ke=Array(se);for(var ve=0;ve<se;ve++)ke[ve]=arguments[ve+2];ae.children=ke}return{$$typeof:e,type:B.type,key:ye,ref:be,props:ae,_owner:we}},Ye.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},Ye.createElement=D,Ye.createFactory=function(B){var V=D.bind(null,B);return V.type=B,V},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(B){return{$$typeof:l,render:B}},Ye.isValidElement=M,Ye.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:$}},Ye.memo=function(B,V){return{$$typeof:d,type:B,compare:V===void 0?null:V}},Ye.startTransition=function(B){var V=Y.transition;Y.transition={};try{B()}finally{Y.transition=V}},Ye.unstable_act=R,Ye.useCallback=function(B,V){return Q.current.useCallback(B,V)},Ye.useContext=function(B){return Q.current.useContext(B)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(B){return Q.current.useDeferredValue(B)},Ye.useEffect=function(B,V){return Q.current.useEffect(B,V)},Ye.useId=function(){return Q.current.useId()},Ye.useImperativeHandle=function(B,V,I){return Q.current.useImperativeHandle(B,V,I)},Ye.useInsertionEffect=function(B,V){return Q.current.useInsertionEffect(B,V)},Ye.useLayoutEffect=function(B,V){return Q.current.useLayoutEffect(B,V)},Ye.useMemo=function(B,V){return Q.current.useMemo(B,V)},Ye.useReducer=function(B,V,I){return Q.current.useReducer(B,V,I)},Ye.useRef=function(B){return Q.current.useRef(B)},Ye.useState=function(B){return Q.current.useState(B)},Ye.useSyncExternalStore=function(B,V,I){return Q.current.useSyncExternalStore(B,V,I)},Ye.useTransition=function(){return Q.current.useTransition()},Ye.version="18.3.1",Ye}var VP;function $N(){return VP||(VP=1,Ng.exports=_B()),Ng.exports}var WP;function SB(){if(WP)return ou;WP=1;var e=$N(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var h,m={},p=null,g=null;d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(g=u.ref);for(h in u)n.call(u,h)&&!s.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:t,type:l,key:p,ref:g,props:m,_owner:a.current}}return ou.Fragment=r,ou.jsx=o,ou.jsxs=o,ou}var HP;function kB(){return HP||(HP=1,wg.exports=SB()),wg.exports}var i=kB(),O=$N();const z=ot(O),PB=NB({__proto__:null,default:z},[O]);var Nh={},_g={exports:{}},ln={},Sg={exports:{}},kg={};var KP;function CB(){return KP||(KP=1,(function(e){function t(Y,X){var R=Y.length;Y.push(X);e:for(;0<R;){var B=R-1>>>1,V=Y[B];if(0<a(V,X))Y[B]=X,Y[R]=V,R=B;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var X=Y[0],R=Y.pop();if(R!==X){Y[0]=R;e:for(var B=0,V=Y.length,I=V>>>1;B<I;){var ae=2*(B+1)-1,ye=Y[ae],be=ae+1,we=Y[be];if(0>a(ye,R))be<V&&0>a(we,ye)?(Y[B]=we,Y[be]=R,B=be):(Y[B]=ye,Y[ae]=R,B=ae);else if(be<V&&0>a(we,R))Y[B]=we,Y[be]=R,B=be;else break e}}return X}function a(Y,X){var R=Y.sortIndex-X.sortIndex;return R!==0?R:Y.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,m=null,p=3,g=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Y){for(var X=r(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=Y)n(d),X.sortIndex=X.expirationTime,t(u,X);else break;X=r(d)}}function E(Y){if(v=!1,k(Y),!y)if(r(u)!==null)y=!0,$(P);else{var X=r(d);X!==null&&Q(E,X.startTime-Y)}}function P(Y,X){y=!1,v&&(v=!1,w(D),D=-1),g=!0;var R=p;try{for(k(X),m=r(u);m!==null&&(!(m.expirationTime>X)||Y&&!F());){var B=m.callback;if(typeof B=="function"){m.callback=null,p=m.priorityLevel;var V=B(m.expirationTime<=X);X=e.unstable_now(),typeof V=="function"?m.callback=V:m===r(u)&&n(u),k(X)}else n(u);m=r(u)}if(m!==null)var I=!0;else{var ae=r(d);ae!==null&&Q(E,ae.startTime-X),I=!1}return I}finally{m=null,p=R,g=!1}}var _=!1,T=null,D=-1,L=5,M=-1;function F(){return!(e.unstable_now()-M<L)}function q(){if(T!==null){var Y=e.unstable_now();M=Y;var X=!0;try{X=T(!0,Y)}finally{X?H():(_=!1,T=null)}}else _=!1}var H;if(typeof S=="function")H=function(){S(q)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=q,H=function(){W.postMessage(null)}}else H=function(){b(q,0)};function $(Y){T=Y,_||(_=!0,H())}function Q(Y,X){D=b(function(){Y(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,$(P))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var R=p;p=X;try{return Y()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var R=p;p=Y;try{return X()}finally{p=R}},e.unstable_scheduleCallback=function(Y,X,R){var B=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=R+V,Y={id:h++,callback:X,priorityLevel:Y,startTime:R,expirationTime:V,sortIndex:-1},R>B?(Y.sortIndex=R,t(d,Y),r(u)===null&&Y===r(d)&&(v?(w(D),D=-1):v=!0,Q(E,R-B))):(Y.sortIndex=V,t(u,Y),y||g||(y=!0,$(P))),Y},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(Y){var X=p;return function(){var R=p;p=X;try{return Y.apply(this,arguments)}finally{p=R}}}})(kg)),kg}var GP;function EB(){return GP||(GP=1,Sg.exports=CB()),Sg.exports}var YP;function OB(){if(YP)return ln;YP=1;var e=$N(),t=EB();function r(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(c,f){o(c,f),o(c+"Capture",f)}function o(c,f){for(a[c]=f,c=0;c<f.length;c++)n.add(f[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function p(c){return u.call(m,c)?!0:u.call(h,c)?!1:d.test(c)?m[c]=!0:(h[c]=!0,!1)}function g(c,f,x,j){if(x!==null&&x.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return j?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function y(c,f,x,j){if(f===null||typeof f>"u"||g(c,f,x,j))return!0;if(j)return!1;if(x!==null)switch(x.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function v(c,f,x,j,N,C,A){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=j,this.attributeNamespace=N,this.mustUseProperty=x,this.propertyName=c,this.type=f,this.sanitizeURL=C,this.removeEmptyString=A}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){b[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];b[f]=new v(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){b[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){b[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){b[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){b[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){b[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){b[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){b[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(w,S);b[f]=new v(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(w,S);b[f]=new v(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(w,S);b[f]=new v(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function k(c,f,x,j){var N=b.hasOwnProperty(f)?b[f]:null;(N!==null?N.type!==0:j||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(y(f,x,N,j)&&(x=null),j||N===null?p(f)&&(x===null?c.removeAttribute(f):c.setAttribute(f,""+x)):N.mustUseProperty?c[N.propertyName]=x===null?N.type===3?!1:"":x:(f=N.attributeName,j=N.attributeNamespace,x===null?c.removeAttribute(f):(N=N.type,x=N===3||N===4&&x===!0?"":""+x,j?c.setAttributeNS(j,f,x):c.setAttribute(f,x))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),Y=Symbol.iterator;function X(c){return c===null||typeof c!="object"?null:(c=Y&&c[Y]||c["@@iterator"],typeof c=="function"?c:null)}var R=Object.assign,B;function V(c){if(B===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);B=f&&f[1]||""}return`
`+B+c}var I=!1;function ae(c,f){if(!c||I)return"";I=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(te){var j=te}Reflect.construct(c,[],f)}else{try{f.call()}catch(te){j=te}c.call(f.prototype)}else{try{throw Error()}catch(te){j=te}c()}}catch(te){if(te&&j&&typeof te.stack=="string"){for(var N=te.stack.split(`
`),C=j.stack.split(`
`),A=N.length-1,U=C.length-1;1<=A&&0<=U&&N[A]!==C[U];)U--;for(;1<=A&&0<=U;A--,U--)if(N[A]!==C[U]){if(A!==1||U!==1)do if(A--,U--,0>U||N[A]!==C[U]){var G=`
`+N[A].replace(" at new "," at ");return c.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",c.displayName)),G}while(1<=A&&0<=U);break}}}finally{I=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?V(c):""}function ye(c){switch(c.tag){case 5:return V(c.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return c=ae(c.type,!1),c;case 11:return c=ae(c.type.render,!1),c;case 1:return c=ae(c.type,!0),c;default:return""}}function be(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case T:return"Fragment";case _:return"Portal";case L:return"Profiler";case D:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case F:return(c.displayName||"Context")+".Consumer";case M:return(c._context.displayName||"Context")+".Provider";case q:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case W:return f=c.displayName||null,f!==null?f:be(c.type)||"Memo";case $:f=c._payload,c=c._init;try{return be(c(f))}catch{}}return null}function we(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(f);case 8:return f===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function ke(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function se(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ve(c){var f=se(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),j=""+c[f];if(!c.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var N=x.get,C=x.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return N.call(this)},set:function(A){j=""+A,C.call(this,A)}}),Object.defineProperty(c,f,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(A){j=""+A},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Oe(c){c._valueTracker||(c._valueTracker=ve(c))}function oe(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var x=f.getValue(),j="";return c&&(j=se(c)?c.checked?"true":"false":c.value),c=j,c!==x?(f.setValue(c),!0):!1}function Ze(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Be(c,f){var x=f.checked;return R({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function xt(c,f){var x=f.defaultValue==null?"":f.defaultValue,j=f.checked!=null?f.checked:f.defaultChecked;x=ke(f.value!=null?f.value:x),c._wrapperState={initialChecked:j,initialValue:x,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function ht(c,f){f=f.checked,f!=null&&k(c,"checked",f,!1)}function Tt(c,f){ht(c,f);var x=ke(f.value),j=f.type;if(x!=null)j==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?Br(c,f.type,x):f.hasOwnProperty("defaultValue")&&Br(c,f.type,ke(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function hr(c,f,x){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var j=f.type;if(!(j!=="submit"&&j!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,x||f===c.value||(c.value=f),c.defaultValue=f}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Br(c,f,x){(f!=="number"||Ze(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var _r=Array.isArray;function $t(c,f,x,j){if(c=c.options,f){f={};for(var N=0;N<x.length;N++)f["$"+x[N]]=!0;for(x=0;x<c.length;x++)N=f.hasOwnProperty("$"+c[x].value),c[x].selected!==N&&(c[x].selected=N),N&&j&&(c[x].defaultSelected=!0)}else{for(x=""+ke(x),f=null,N=0;N<c.length;N++){if(c[N].value===x){c[N].selected=!0,j&&(c[N].defaultSelected=!0);return}f!==null||c[N].disabled||(f=c[N])}f!==null&&(f.selected=!0)}}function Sr(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return R({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function kr(c,f){var x=f.value;if(x==null){if(x=f.children,f=f.defaultValue,x!=null){if(f!=null)throw Error(r(92));if(_r(x)){if(1<x.length)throw Error(r(93));x=x[0]}f=x}f==null&&(f=""),x=f}c._wrapperState={initialValue:ke(x)}}function Hi(c,f){var x=ke(f.value),j=ke(f.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),f.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),j!=null&&(c.defaultValue=""+j)}function Ki(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function ne(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?ne(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Ie,He=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,x,j,N){MSApp.execUnsafeLocalFunction(function(){return c(f,x,j,N)})}:c})(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(Ie=Ie||document.createElement("div"),Ie.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Ie.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function Ge(c,f){if(f){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=f;return}}c.textContent=f}var Qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},En=["Webkit","ms","Moz","O"];Object.keys(Qt).forEach(function(c){En.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),Qt[f]=Qt[c]})});function Pr(c,f,x){return f==null||typeof f=="boolean"||f===""?"":x||typeof f!="number"||f===0||Qt.hasOwnProperty(c)&&Qt[c]?(""+f).trim():f+"px"}function Ur(c,f){c=c.style;for(var x in f)if(f.hasOwnProperty(x)){var j=x.indexOf("--")===0,N=Pr(x,f[x],j);x==="float"&&(x="cssFloat"),j?c.setProperty(x,N):c[x]=N}}var wi=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(c,f){if(f){if(wi[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function On(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vr=null;function Oo(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var To=null,Aa=null,Ni=null;function ei(c){if(c=Hc(c)){if(typeof To!="function")throw Error(r(280));var f=c.stateNode;f&&(f=$f(f),To(c.stateNode,c.type,f))}}function mf(c){Aa?Ni?Ni.push(c):Ni=[c]:Aa=c}function ze(){if(Aa){var c=Aa,f=Ni;if(Ni=Aa=null,ei(c),f)for(c=0;c<f.length;c++)ei(f[c])}}function st(c,f){return c(f)}function gt(){}var Wr=!1;function en(c,f,x){if(Wr)return c(f,x);Wr=!0;try{return st(c,f,x)}finally{Wr=!1,(Aa!==null||Ni!==null)&&(gt(),ze())}}function tn(c,f){var x=c.stateNode;if(x===null)return null;var j=$f(x);if(j===null)return null;x=j[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(r(231,f,typeof x));return x}var ti=!1;if(l)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){ti=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{ti=!1}function _i(c,f,x,j,N,C,A,U,G){var te=Array.prototype.slice.call(arguments,3);try{f.apply(x,te)}catch(ce){this.onError(ce)}}var Pc=!1,pf=null,xf=!1,qx=null,O8={onError:function(c){Pc=!0,pf=c}};function T8(c,f,x,j,N,C,A,U,G){Pc=!1,pf=null,_i.apply(O8,arguments)}function A8(c,f,x,j,N,C,A,U,G){if(T8.apply(this,arguments),Pc){if(Pc){var te=pf;Pc=!1,pf=null}else throw Error(r(198));xf||(xf=!0,qx=te)}}function Ss(c){var f=c,x=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(x=f.return),c=f.return;while(c)}return f.tag===3?x:null}function fS(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function hS(c){if(Ss(c)!==c)throw Error(r(188))}function M8(c){var f=c.alternate;if(!f){if(f=Ss(c),f===null)throw Error(r(188));return f!==c?null:c}for(var x=c,j=f;;){var N=x.return;if(N===null)break;var C=N.alternate;if(C===null){if(j=N.return,j!==null){x=j;continue}break}if(N.child===C.child){for(C=N.child;C;){if(C===x)return hS(N),c;if(C===j)return hS(N),f;C=C.sibling}throw Error(r(188))}if(x.return!==j.return)x=N,j=C;else{for(var A=!1,U=N.child;U;){if(U===x){A=!0,x=N,j=C;break}if(U===j){A=!0,j=N,x=C;break}U=U.sibling}if(!A){for(U=C.child;U;){if(U===x){A=!0,x=C,j=N;break}if(U===j){A=!0,j=C,x=N;break}U=U.sibling}if(!A)throw Error(r(189))}}if(x.alternate!==j)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?c:f}function mS(c){return c=M8(c),c!==null?pS(c):null}function pS(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=pS(c);if(f!==null)return f;c=c.sibling}return null}var xS=t.unstable_scheduleCallback,gS=t.unstable_cancelCallback,R8=t.unstable_shouldYield,D8=t.unstable_requestPaint,Bt=t.unstable_now,I8=t.unstable_getCurrentPriorityLevel,Bx=t.unstable_ImmediatePriority,yS=t.unstable_UserBlockingPriority,gf=t.unstable_NormalPriority,$8=t.unstable_LowPriority,vS=t.unstable_IdlePriority,yf=null,Si=null;function F8(c){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(yf,c,void 0,(c.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:q8,L8=Math.log,z8=Math.LN2;function q8(c){return c>>>=0,c===0?32:31-(L8(c)/z8|0)|0}var vf=64,bf=4194304;function Cc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function jf(c,f){var x=c.pendingLanes;if(x===0)return 0;var j=0,N=c.suspendedLanes,C=c.pingedLanes,A=x&268435455;if(A!==0){var U=A&~N;U!==0?j=Cc(U):(C&=A,C!==0&&(j=Cc(C)))}else A=x&~N,A!==0?j=Cc(A):C!==0&&(j=Cc(C));if(j===0)return 0;if(f!==0&&f!==j&&(f&N)===0&&(N=j&-j,C=f&-f,N>=C||N===16&&(C&4194240)!==0))return f;if((j&4)!==0&&(j|=x&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=j;0<f;)x=31-ri(f),N=1<<x,j|=c[x],f&=~N;return j}function B8(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U8(c,f){for(var x=c.suspendedLanes,j=c.pingedLanes,N=c.expirationTimes,C=c.pendingLanes;0<C;){var A=31-ri(C),U=1<<A,G=N[A];G===-1?((U&x)===0||(U&j)!==0)&&(N[A]=B8(U,f)):G<=f&&(c.expiredLanes|=U),C&=~U}}function Ux(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function bS(){var c=vf;return vf<<=1,(vf&4194240)===0&&(vf=64),c}function Vx(c){for(var f=[],x=0;31>x;x++)f.push(c);return f}function Ec(c,f,x){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-ri(f),c[f]=x}function V8(c,f){var x=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<x;){var N=31-ri(x),C=1<<N;f[N]=0,j[N]=-1,c[N]=-1,x&=~C}}function Wx(c,f){var x=c.entangledLanes|=f;for(c=c.entanglements;x;){var j=31-ri(x),N=1<<j;N&f|c[j]&f&&(c[j]|=f),x&=~N}}var dt=0;function jS(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var wS,Hx,NS,_S,SS,Kx=!1,wf=[],Ma=null,Ra=null,Da=null,Oc=new Map,Tc=new Map,Ia=[],W8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kS(c,f){switch(c){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Oc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(f.pointerId)}}function Ac(c,f,x,j,N,C){return c===null||c.nativeEvent!==C?(c={blockedOn:f,domEventName:x,eventSystemFlags:j,nativeEvent:C,targetContainers:[N]},f!==null&&(f=Hc(f),f!==null&&Hx(f)),c):(c.eventSystemFlags|=j,f=c.targetContainers,N!==null&&f.indexOf(N)===-1&&f.push(N),c)}function H8(c,f,x,j,N){switch(f){case"focusin":return Ma=Ac(Ma,c,f,x,j,N),!0;case"dragenter":return Ra=Ac(Ra,c,f,x,j,N),!0;case"mouseover":return Da=Ac(Da,c,f,x,j,N),!0;case"pointerover":var C=N.pointerId;return Oc.set(C,Ac(Oc.get(C)||null,c,f,x,j,N)),!0;case"gotpointercapture":return C=N.pointerId,Tc.set(C,Ac(Tc.get(C)||null,c,f,x,j,N)),!0}return!1}function PS(c){var f=ks(c.target);if(f!==null){var x=Ss(f);if(x!==null){if(f=x.tag,f===13){if(f=fS(x),f!==null){c.blockedOn=f,SS(c.priority,function(){NS(x)});return}}else if(f===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Nf(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var x=Yx(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);Vr=j,x.target.dispatchEvent(j),Vr=null}else return f=Hc(x),f!==null&&Hx(f),c.blockedOn=x,!1;f.shift()}return!0}function CS(c,f,x){Nf(c)&&x.delete(f)}function K8(){Kx=!1,Ma!==null&&Nf(Ma)&&(Ma=null),Ra!==null&&Nf(Ra)&&(Ra=null),Da!==null&&Nf(Da)&&(Da=null),Oc.forEach(CS),Tc.forEach(CS)}function Mc(c,f){c.blockedOn===f&&(c.blockedOn=null,Kx||(Kx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,K8)))}function Rc(c){function f(N){return Mc(N,c)}if(0<wf.length){Mc(wf[0],c);for(var x=1;x<wf.length;x++){var j=wf[x];j.blockedOn===c&&(j.blockedOn=null)}}for(Ma!==null&&Mc(Ma,c),Ra!==null&&Mc(Ra,c),Da!==null&&Mc(Da,c),Oc.forEach(f),Tc.forEach(f),x=0;x<Ia.length;x++)j=Ia[x],j.blockedOn===c&&(j.blockedOn=null);for(;0<Ia.length&&(x=Ia[0],x.blockedOn===null);)PS(x),x.blockedOn===null&&Ia.shift()}var Ao=E.ReactCurrentBatchConfig,_f=!0;function G8(c,f,x,j){var N=dt,C=Ao.transition;Ao.transition=null;try{dt=1,Gx(c,f,x,j)}finally{dt=N,Ao.transition=C}}function Y8(c,f,x,j){var N=dt,C=Ao.transition;Ao.transition=null;try{dt=4,Gx(c,f,x,j)}finally{dt=N,Ao.transition=C}}function Gx(c,f,x,j){if(_f){var N=Yx(c,f,x,j);if(N===null)f0(c,f,j,Sf,x),kS(c,j);else if(H8(N,c,f,x,j))j.stopPropagation();else if(kS(c,j),f&4&&-1<W8.indexOf(c)){for(;N!==null;){var C=Hc(N);if(C!==null&&wS(C),C=Yx(c,f,x,j),C===null&&f0(c,f,j,Sf,x),C===N)break;N=C}N!==null&&j.stopPropagation()}else f0(c,f,j,null,x)}}var Sf=null;function Yx(c,f,x,j){if(Sf=null,c=Oo(j),c=ks(c),c!==null)if(f=Ss(c),f===null)c=null;else if(x=f.tag,x===13){if(c=fS(f),c!==null)return c;c=null}else if(x===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return Sf=c,null}function ES(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I8()){case Bx:return 1;case yS:return 4;case gf:case $8:return 16;case vS:return 536870912;default:return 16}default:return 16}}var $a=null,Qx=null,kf=null;function OS(){if(kf)return kf;var c,f=Qx,x=f.length,j,N="value"in $a?$a.value:$a.textContent,C=N.length;for(c=0;c<x&&f[c]===N[c];c++);var A=x-c;for(j=1;j<=A&&f[x-j]===N[C-j];j++);return kf=N.slice(c,1<j?1-j:void 0)}function Pf(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function Cf(){return!0}function TS(){return!1}function gn(c){function f(x,j,N,C,A){this._reactName=x,this._targetInst=N,this.type=j,this.nativeEvent=C,this.target=A,this.currentTarget=null;for(var U in c)c.hasOwnProperty(U)&&(x=c[U],this[U]=x?x(C):C[U]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Cf:TS,this.isPropagationStopped=TS,this}return R(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),f}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xx=gn(Mo),Dc=R({},Mo,{view:0,detail:0}),Q8=gn(Dc),Jx,Zx,Ic,Ef=R({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ic&&(Ic&&c.type==="mousemove"?(Jx=c.screenX-Ic.screenX,Zx=c.screenY-Ic.screenY):Zx=Jx=0,Ic=c),Jx)},movementY:function(c){return"movementY"in c?c.movementY:Zx}}),AS=gn(Ef),X8=R({},Ef,{dataTransfer:0}),J8=gn(X8),Z8=R({},Dc,{relatedTarget:0}),e0=gn(Z8),eq=R({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),tq=gn(eq),rq=R({},Mo,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),nq=gn(rq),iq=R({},Mo,{data:0}),MS=gn(iq),aq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lq(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=oq[c])?!!f[c]:!1}function t0(){return lq}var cq=R({},Dc,{key:function(c){if(c.key){var f=aq[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Pf(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?sq[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(c){return c.type==="keypress"?Pf(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Pf(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),uq=gn(cq),dq=R({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RS=gn(dq),fq=R({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),hq=gn(fq),mq=R({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),pq=gn(mq),xq=R({},Ef,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),gq=gn(xq),yq=[9,13,27,32],r0=l&&"CompositionEvent"in window,$c=null;l&&"documentMode"in document&&($c=document.documentMode);var vq=l&&"TextEvent"in window&&!$c,DS=l&&(!r0||$c&&8<$c&&11>=$c),IS=" ",$S=!1;function FS(c,f){switch(c){case"keyup":return yq.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LS(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ro=!1;function bq(c,f){switch(c){case"compositionend":return LS(f);case"keypress":return f.which!==32?null:($S=!0,IS);case"textInput":return c=f.data,c===IS&&$S?null:c;default:return null}}function jq(c,f){if(Ro)return c==="compositionend"||!r0&&FS(c,f)?(c=OS(),kf=Qx=$a=null,Ro=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return DS&&f.locale!=="ko"?null:f.data;default:return null}}var wq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zS(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!wq[c.type]:f==="textarea"}function qS(c,f,x,j){mf(j),f=Rf(f,"onChange"),0<f.length&&(x=new Xx("onChange","change",null,x,j),c.push({event:x,listeners:f}))}var Fc=null,Lc=null;function Nq(c){ak(c,0)}function Of(c){var f=Lo(c);if(oe(f))return c}function _q(c,f){if(c==="change")return f}var BS=!1;if(l){var n0;if(l){var i0="oninput"in document;if(!i0){var US=document.createElement("div");US.setAttribute("oninput","return;"),i0=typeof US.oninput=="function"}n0=i0}else n0=!1;BS=n0&&(!document.documentMode||9<document.documentMode)}function VS(){Fc&&(Fc.detachEvent("onpropertychange",WS),Lc=Fc=null)}function WS(c){if(c.propertyName==="value"&&Of(Lc)){var f=[];qS(f,Lc,c,Oo(c)),en(Nq,f)}}function Sq(c,f,x){c==="focusin"?(VS(),Fc=f,Lc=x,Fc.attachEvent("onpropertychange",WS)):c==="focusout"&&VS()}function kq(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Of(Lc)}function Pq(c,f){if(c==="click")return Of(f)}function Cq(c,f){if(c==="input"||c==="change")return Of(f)}function Eq(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var ni=typeof Object.is=="function"?Object.is:Eq;function zc(c,f){if(ni(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var x=Object.keys(c),j=Object.keys(f);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var N=x[j];if(!u.call(f,N)||!ni(c[N],f[N]))return!1}return!0}function HS(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function KS(c,f){var x=HS(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=f&&j>=f)return{node:x,offset:f-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=HS(x)}}function GS(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?GS(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function YS(){for(var c=window,f=Ze();f instanceof c.HTMLIFrameElement;){try{var x=typeof f.contentWindow.location.href=="string"}catch{x=!1}if(x)c=f.contentWindow;else break;f=Ze(c.document)}return f}function a0(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function Oq(c){var f=YS(),x=c.focusedElem,j=c.selectionRange;if(f!==x&&x&&x.ownerDocument&&GS(x.ownerDocument.documentElement,x)){if(j!==null&&a0(x)){if(f=j.start,c=j.end,c===void 0&&(c=f),"selectionStart"in x)x.selectionStart=f,x.selectionEnd=Math.min(c,x.value.length);else if(c=(f=x.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var N=x.textContent.length,C=Math.min(j.start,N);j=j.end===void 0?C:Math.min(j.end,N),!c.extend&&C>j&&(N=j,j=C,C=N),N=KS(x,C);var A=KS(x,j);N&&A&&(c.rangeCount!==1||c.anchorNode!==N.node||c.anchorOffset!==N.offset||c.focusNode!==A.node||c.focusOffset!==A.offset)&&(f=f.createRange(),f.setStart(N.node,N.offset),c.removeAllRanges(),C>j?(c.addRange(f),c.extend(A.node,A.offset)):(f.setEnd(A.node,A.offset),c.addRange(f)))}}for(f=[],c=x;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<f.length;x++)c=f[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Tq=l&&"documentMode"in document&&11>=document.documentMode,Do=null,s0=null,qc=null,o0=!1;function QS(c,f,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;o0||Do==null||Do!==Ze(j)||(j=Do,"selectionStart"in j&&a0(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),qc&&zc(qc,j)||(qc=j,j=Rf(s0,"onSelect"),0<j.length&&(f=new Xx("onSelect","select",null,f,x),c.push({event:f,listeners:j}),f.target=Do)))}function Tf(c,f){var x={};return x[c.toLowerCase()]=f.toLowerCase(),x["Webkit"+c]="webkit"+f,x["Moz"+c]="moz"+f,x}var Io={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},l0={},XS={};l&&(XS=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Af(c){if(l0[c])return l0[c];if(!Io[c])return c;var f=Io[c],x;for(x in f)if(f.hasOwnProperty(x)&&x in XS)return l0[c]=f[x];return c}var JS=Af("animationend"),ZS=Af("animationiteration"),ek=Af("animationstart"),tk=Af("transitionend"),rk=new Map,nk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(c,f){rk.set(c,f),s(f,[c])}for(var c0=0;c0<nk.length;c0++){var u0=nk[c0],Aq=u0.toLowerCase(),Mq=u0[0].toUpperCase()+u0.slice(1);Fa(Aq,"on"+Mq)}Fa(JS,"onAnimationEnd"),Fa(ZS,"onAnimationIteration"),Fa(ek,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(tk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function ik(c,f,x){var j=c.type||"unknown-event";c.currentTarget=x,A8(j,f,void 0,c),c.currentTarget=null}function ak(c,f){f=(f&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],N=j.event;j=j.listeners;e:{var C=void 0;if(f)for(var A=j.length-1;0<=A;A--){var U=j[A],G=U.instance,te=U.currentTarget;if(U=U.listener,G!==C&&N.isPropagationStopped())break e;ik(N,U,te),C=G}else for(A=0;A<j.length;A++){if(U=j[A],G=U.instance,te=U.currentTarget,U=U.listener,G!==C&&N.isPropagationStopped())break e;ik(N,U,te),C=G}}}if(xf)throw c=qx,xf=!1,qx=null,c}function _t(c,f){var x=f[y0];x===void 0&&(x=f[y0]=new Set);var j=c+"__bubble";x.has(j)||(sk(f,c,2,!1),x.add(j))}function d0(c,f,x){var j=0;f&&(j|=4),sk(x,c,j,f)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Uc(c){if(!c[Mf]){c[Mf]=!0,n.forEach(function(x){x!=="selectionchange"&&(Rq.has(x)||d0(x,!1,c),d0(x,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Mf]||(f[Mf]=!0,d0("selectionchange",!1,f))}}function sk(c,f,x,j){switch(ES(f)){case 1:var N=G8;break;case 4:N=Y8;break;default:N=Gx}x=N.bind(null,f,x,c),N=void 0,!ti||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(N=!0),j?N!==void 0?c.addEventListener(f,x,{capture:!0,passive:N}):c.addEventListener(f,x,!0):N!==void 0?c.addEventListener(f,x,{passive:N}):c.addEventListener(f,x,!1)}function f0(c,f,x,j,N){var C=j;if((f&1)===0&&(f&2)===0&&j!==null)e:for(;;){if(j===null)return;var A=j.tag;if(A===3||A===4){var U=j.stateNode.containerInfo;if(U===N||U.nodeType===8&&U.parentNode===N)break;if(A===4)for(A=j.return;A!==null;){var G=A.tag;if((G===3||G===4)&&(G=A.stateNode.containerInfo,G===N||G.nodeType===8&&G.parentNode===N))return;A=A.return}for(;U!==null;){if(A=ks(U),A===null)return;if(G=A.tag,G===5||G===6){j=C=A;continue e}U=U.parentNode}}j=j.return}en(function(){var te=C,ce=Oo(x),ue=[];e:{var le=rk.get(c);if(le!==void 0){var je=Xx,Se=c;switch(c){case"keypress":if(Pf(x)===0)break e;case"keydown":case"keyup":je=uq;break;case"focusin":Se="focus",je=e0;break;case"focusout":Se="blur",je=e0;break;case"beforeblur":case"afterblur":je=e0;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=AS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=J8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=hq;break;case JS:case ZS:case ek:je=tq;break;case tk:je=pq;break;case"scroll":je=Q8;break;case"wheel":je=gq;break;case"copy":case"cut":case"paste":je=nq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=RS}var Pe=(f&4)!==0,Ut=!Pe&&c==="scroll",Z=Pe?le!==null?le+"Capture":null:le;Pe=[];for(var J=te,ee;J!==null;){ee=J;var pe=ee.stateNode;if(ee.tag===5&&pe!==null&&(ee=pe,Z!==null&&(pe=tn(J,Z),pe!=null&&Pe.push(Vc(J,pe,ee)))),Ut)break;J=J.return}0<Pe.length&&(le=new je(le,Se,null,x,ce),ue.push({event:le,listeners:Pe}))}}if((f&7)===0){e:{if(le=c==="mouseover"||c==="pointerover",je=c==="mouseout"||c==="pointerout",le&&x!==Vr&&(Se=x.relatedTarget||x.fromElement)&&(ks(Se)||Se[Gi]))break e;if((je||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,je?(Se=x.relatedTarget||x.toElement,je=te,Se=Se?ks(Se):null,Se!==null&&(Ut=Ss(Se),Se!==Ut||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(je=null,Se=te),je!==Se)){if(Pe=AS,pe="onMouseLeave",Z="onMouseEnter",J="mouse",(c==="pointerout"||c==="pointerover")&&(Pe=RS,pe="onPointerLeave",Z="onPointerEnter",J="pointer"),Ut=je==null?le:Lo(je),ee=Se==null?le:Lo(Se),le=new Pe(pe,J+"leave",je,x,ce),le.target=Ut,le.relatedTarget=ee,pe=null,ks(ce)===te&&(Pe=new Pe(Z,J+"enter",Se,x,ce),Pe.target=ee,Pe.relatedTarget=Ut,pe=Pe),Ut=pe,je&&Se)t:{for(Pe=je,Z=Se,J=0,ee=Pe;ee;ee=$o(ee))J++;for(ee=0,pe=Z;pe;pe=$o(pe))ee++;for(;0<J-ee;)Pe=$o(Pe),J--;for(;0<ee-J;)Z=$o(Z),ee--;for(;J--;){if(Pe===Z||Z!==null&&Pe===Z.alternate)break t;Pe=$o(Pe),Z=$o(Z)}Pe=null}else Pe=null;je!==null&&ok(ue,le,je,Pe,!1),Se!==null&&Ut!==null&&ok(ue,Ut,Se,Pe,!0)}}e:{if(le=te?Lo(te):window,je=le.nodeName&&le.nodeName.toLowerCase(),je==="select"||je==="input"&&le.type==="file")var Ee=_q;else if(zS(le))if(BS)Ee=Cq;else{Ee=kq;var Ae=Sq}else(je=le.nodeName)&&je.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ee=Pq);if(Ee&&(Ee=Ee(c,te))){qS(ue,Ee,x,ce);break e}Ae&&Ae(c,le,te),c==="focusout"&&(Ae=le._wrapperState)&&Ae.controlled&&le.type==="number"&&Br(le,"number",le.value)}switch(Ae=te?Lo(te):window,c){case"focusin":(zS(Ae)||Ae.contentEditable==="true")&&(Do=Ae,s0=te,qc=null);break;case"focusout":qc=s0=Do=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,QS(ue,x,ce);break;case"selectionchange":if(Tq)break;case"keydown":case"keyup":QS(ue,x,ce)}var Me;if(r0)e:{switch(c){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ro?FS(c,x)&&(Le="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(Le="onCompositionStart");Le&&(DS&&x.locale!=="ko"&&(Ro||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ro&&(Me=OS()):($a=ce,Qx="value"in $a?$a.value:$a.textContent,Ro=!0)),Ae=Rf(te,Le),0<Ae.length&&(Le=new MS(Le,c,null,x,ce),ue.push({event:Le,listeners:Ae}),Me?Le.data=Me:(Me=LS(x),Me!==null&&(Le.data=Me)))),(Me=vq?bq(c,x):jq(c,x))&&(te=Rf(te,"onBeforeInput"),0<te.length&&(ce=new MS("onBeforeInput","beforeinput",null,x,ce),ue.push({event:ce,listeners:te}),ce.data=Me))}ak(ue,f)})}function Vc(c,f,x){return{instance:c,listener:f,currentTarget:x}}function Rf(c,f){for(var x=f+"Capture",j=[];c!==null;){var N=c,C=N.stateNode;N.tag===5&&C!==null&&(N=C,C=tn(c,x),C!=null&&j.unshift(Vc(c,C,N)),C=tn(c,f),C!=null&&j.push(Vc(c,C,N))),c=c.return}return j}function $o(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function ok(c,f,x,j,N){for(var C=f._reactName,A=[];x!==null&&x!==j;){var U=x,G=U.alternate,te=U.stateNode;if(G!==null&&G===j)break;U.tag===5&&te!==null&&(U=te,N?(G=tn(x,C),G!=null&&A.unshift(Vc(x,G,U))):N||(G=tn(x,C),G!=null&&A.push(Vc(x,G,U)))),x=x.return}A.length!==0&&c.push({event:f,listeners:A})}var Dq=/\r\n?/g,Iq=/\u0000|\uFFFD/g;function lk(c){return(typeof c=="string"?c:""+c).replace(Dq,`
`).replace(Iq,"")}function Df(c,f,x){if(f=lk(f),lk(c)!==f&&x)throw Error(r(425))}function If(){}var h0=null,m0=null;function p0(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var x0=typeof setTimeout=="function"?setTimeout:void 0,$q=typeof clearTimeout=="function"?clearTimeout:void 0,ck=typeof Promise=="function"?Promise:void 0,Fq=typeof queueMicrotask=="function"?queueMicrotask:typeof ck<"u"?function(c){return ck.resolve(null).then(c).catch(Lq)}:x0;function Lq(c){setTimeout(function(){throw c})}function g0(c,f){var x=f,j=0;do{var N=x.nextSibling;if(c.removeChild(x),N&&N.nodeType===8)if(x=N.data,x==="/$"){if(j===0){c.removeChild(N),Rc(f);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=N}while(x);Rc(f)}function La(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function uk(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(f===0)return c;f--}else x==="/$"&&f++}c=c.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),ki="__reactFiber$"+Fo,Wc="__reactProps$"+Fo,Gi="__reactContainer$"+Fo,y0="__reactEvents$"+Fo,zq="__reactListeners$"+Fo,qq="__reactHandles$"+Fo;function ks(c){var f=c[ki];if(f)return f;for(var x=c.parentNode;x;){if(f=x[Gi]||x[ki]){if(x=f.alternate,f.child!==null||x!==null&&x.child!==null)for(c=uk(c);c!==null;){if(x=c[ki])return x;c=uk(c)}return f}c=x,x=c.parentNode}return null}function Hc(c){return c=c[ki]||c[Gi],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Lo(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function $f(c){return c[Wc]||null}var v0=[],zo=-1;function za(c){return{current:c}}function St(c){0>zo||(c.current=v0[zo],v0[zo]=null,zo--)}function bt(c,f){zo++,v0[zo]=c.current,c.current=f}var qa={},Cr=za(qa),rn=za(!1),Ps=qa;function qo(c,f){var x=c.type.contextTypes;if(!x)return qa;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===f)return j.__reactInternalMemoizedMaskedChildContext;var N={},C;for(C in x)N[C]=f[C];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=N),N}function nn(c){return c=c.childContextTypes,c!=null}function Ff(){St(rn),St(Cr)}function dk(c,f,x){if(Cr.current!==qa)throw Error(r(168));bt(Cr,f),bt(rn,x)}function fk(c,f,x){var j=c.stateNode;if(f=f.childContextTypes,typeof j.getChildContext!="function")return x;j=j.getChildContext();for(var N in j)if(!(N in f))throw Error(r(108,we(c)||"Unknown",N));return R({},x,j)}function Lf(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||qa,Ps=Cr.current,bt(Cr,c),bt(rn,rn.current),!0}function hk(c,f,x){var j=c.stateNode;if(!j)throw Error(r(169));x?(c=fk(c,f,Ps),j.__reactInternalMemoizedMergedChildContext=c,St(rn),St(Cr),bt(Cr,c)):St(rn),bt(rn,x)}var Yi=null,zf=!1,b0=!1;function mk(c){Yi===null?Yi=[c]:Yi.push(c)}function Bq(c){zf=!0,mk(c)}function Ba(){if(!b0&&Yi!==null){b0=!0;var c=0,f=dt;try{var x=Yi;for(dt=1;c<x.length;c++){var j=x[c];do j=j(!0);while(j!==null)}Yi=null,zf=!1}catch(N){throw Yi!==null&&(Yi=Yi.slice(c+1)),xS(Bx,Ba),N}finally{dt=f,b0=!1}}return null}var Bo=[],Uo=0,qf=null,Bf=0,Tn=[],An=0,Cs=null,Qi=1,Xi="";function Es(c,f){Bo[Uo++]=Bf,Bo[Uo++]=qf,qf=c,Bf=f}function pk(c,f,x){Tn[An++]=Qi,Tn[An++]=Xi,Tn[An++]=Cs,Cs=c;var j=Qi;c=Xi;var N=32-ri(j)-1;j&=~(1<<N),x+=1;var C=32-ri(f)+N;if(30<C){var A=N-N%5;C=(j&(1<<A)-1).toString(32),j>>=A,N-=A,Qi=1<<32-ri(f)+N|x<<N|j,Xi=C+c}else Qi=1<<C|x<<N|j,Xi=c}function j0(c){c.return!==null&&(Es(c,1),pk(c,1,0))}function w0(c){for(;c===qf;)qf=Bo[--Uo],Bo[Uo]=null,Bf=Bo[--Uo],Bo[Uo]=null;for(;c===Cs;)Cs=Tn[--An],Tn[An]=null,Xi=Tn[--An],Tn[An]=null,Qi=Tn[--An],Tn[An]=null}var yn=null,vn=null,Et=!1,ii=null;function xk(c,f){var x=In(5,null,null,0);x.elementType="DELETED",x.stateNode=f,x.return=c,f=c.deletions,f===null?(c.deletions=[x],c.flags|=16):f.push(x)}function gk(c,f){switch(c.tag){case 5:var x=c.type;return f=f.nodeType!==1||x.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,yn=c,vn=La(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,yn=c,vn=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(x=Cs!==null?{id:Qi,overflow:Xi}:null,c.memoizedState={dehydrated:f,treeContext:x,retryLane:1073741824},x=In(18,null,null,0),x.stateNode=f,x.return=c,c.child=x,yn=c,vn=null,!0):!1;default:return!1}}function N0(c){return(c.mode&1)!==0&&(c.flags&128)===0}function _0(c){if(Et){var f=vn;if(f){var x=f;if(!gk(c,f)){if(N0(c))throw Error(r(418));f=La(x.nextSibling);var j=yn;f&&gk(c,f)?xk(j,x):(c.flags=c.flags&-4097|2,Et=!1,yn=c)}}else{if(N0(c))throw Error(r(418));c.flags=c.flags&-4097|2,Et=!1,yn=c}}}function yk(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;yn=c}function Uf(c){if(c!==yn)return!1;if(!Et)return yk(c),Et=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!p0(c.type,c.memoizedProps)),f&&(f=vn)){if(N0(c))throw vk(),Error(r(418));for(;f;)xk(c,f),f=La(f.nextSibling)}if(yk(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(f===0){vn=La(c.nextSibling);break e}f--}else x!=="$"&&x!=="$!"&&x!=="$?"||f++}c=c.nextSibling}vn=null}}else vn=yn?La(c.stateNode.nextSibling):null;return!0}function vk(){for(var c=vn;c;)c=La(c.nextSibling)}function Vo(){vn=yn=null,Et=!1}function S0(c){ii===null?ii=[c]:ii.push(c)}var Uq=E.ReactCurrentBatchConfig;function Kc(c,f,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var j=x.stateNode}if(!j)throw Error(r(147,c));var N=j,C=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===C?f.ref:(f=function(A){var U=N.refs;A===null?delete U[C]:U[C]=A},f._stringRef=C,f)}if(typeof c!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,c))}return c}function Vf(c,f){throw c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function bk(c){var f=c._init;return f(c._payload)}function jk(c){function f(Z,J){if(c){var ee=Z.deletions;ee===null?(Z.deletions=[J],Z.flags|=16):ee.push(J)}}function x(Z,J){if(!c)return null;for(;J!==null;)f(Z,J),J=J.sibling;return null}function j(Z,J){for(Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function N(Z,J){return Z=Qa(Z,J),Z.index=0,Z.sibling=null,Z}function C(Z,J,ee){return Z.index=ee,c?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<J?(Z.flags|=2,J):ee):(Z.flags|=2,J)):(Z.flags|=1048576,J)}function A(Z){return c&&Z.alternate===null&&(Z.flags|=2),Z}function U(Z,J,ee,pe){return J===null||J.tag!==6?(J=xg(ee,Z.mode,pe),J.return=Z,J):(J=N(J,ee),J.return=Z,J)}function G(Z,J,ee,pe){var Ee=ee.type;return Ee===T?ce(Z,J,ee.props.children,pe,ee.key):J!==null&&(J.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===$&&bk(Ee)===J.type)?(pe=N(J,ee.props),pe.ref=Kc(Z,J,ee),pe.return=Z,pe):(pe=mh(ee.type,ee.key,ee.props,null,Z.mode,pe),pe.ref=Kc(Z,J,ee),pe.return=Z,pe)}function te(Z,J,ee,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ee.containerInfo||J.stateNode.implementation!==ee.implementation?(J=gg(ee,Z.mode,pe),J.return=Z,J):(J=N(J,ee.children||[]),J.return=Z,J)}function ce(Z,J,ee,pe,Ee){return J===null||J.tag!==7?(J=$s(ee,Z.mode,pe,Ee),J.return=Z,J):(J=N(J,ee),J.return=Z,J)}function ue(Z,J,ee){if(typeof J=="string"&&J!==""||typeof J=="number")return J=xg(""+J,Z.mode,ee),J.return=Z,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return ee=mh(J.type,J.key,J.props,null,Z.mode,ee),ee.ref=Kc(Z,null,J),ee.return=Z,ee;case _:return J=gg(J,Z.mode,ee),J.return=Z,J;case $:var pe=J._init;return ue(Z,pe(J._payload),ee)}if(_r(J)||X(J))return J=$s(J,Z.mode,ee,null),J.return=Z,J;Vf(Z,J)}return null}function le(Z,J,ee,pe){var Ee=J!==null?J.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ee!==null?null:U(Z,J,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ee.key===Ee?G(Z,J,ee,pe):null;case _:return ee.key===Ee?te(Z,J,ee,pe):null;case $:return Ee=ee._init,le(Z,J,Ee(ee._payload),pe)}if(_r(ee)||X(ee))return Ee!==null?null:ce(Z,J,ee,pe,null);Vf(Z,ee)}return null}function je(Z,J,ee,pe,Ee){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Z=Z.get(ee)||null,U(J,Z,""+pe,Ee);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case P:return Z=Z.get(pe.key===null?ee:pe.key)||null,G(J,Z,pe,Ee);case _:return Z=Z.get(pe.key===null?ee:pe.key)||null,te(J,Z,pe,Ee);case $:var Ae=pe._init;return je(Z,J,ee,Ae(pe._payload),Ee)}if(_r(pe)||X(pe))return Z=Z.get(ee)||null,ce(J,Z,pe,Ee,null);Vf(J,pe)}return null}function Se(Z,J,ee,pe){for(var Ee=null,Ae=null,Me=J,Le=J=0,cr=null;Me!==null&&Le<ee.length;Le++){Me.index>Le?(cr=Me,Me=null):cr=Me.sibling;var it=le(Z,Me,ee[Le],pe);if(it===null){Me===null&&(Me=cr);break}c&&Me&&it.alternate===null&&f(Z,Me),J=C(it,J,Le),Ae===null?Ee=it:Ae.sibling=it,Ae=it,Me=cr}if(Le===ee.length)return x(Z,Me),Et&&Es(Z,Le),Ee;if(Me===null){for(;Le<ee.length;Le++)Me=ue(Z,ee[Le],pe),Me!==null&&(J=C(Me,J,Le),Ae===null?Ee=Me:Ae.sibling=Me,Ae=Me);return Et&&Es(Z,Le),Ee}for(Me=j(Z,Me);Le<ee.length;Le++)cr=je(Me,Z,Le,ee[Le],pe),cr!==null&&(c&&cr.alternate!==null&&Me.delete(cr.key===null?Le:cr.key),J=C(cr,J,Le),Ae===null?Ee=cr:Ae.sibling=cr,Ae=cr);return c&&Me.forEach(function(Xa){return f(Z,Xa)}),Et&&Es(Z,Le),Ee}function Pe(Z,J,ee,pe){var Ee=X(ee);if(typeof Ee!="function")throw Error(r(150));if(ee=Ee.call(ee),ee==null)throw Error(r(151));for(var Ae=Ee=null,Me=J,Le=J=0,cr=null,it=ee.next();Me!==null&&!it.done;Le++,it=ee.next()){Me.index>Le?(cr=Me,Me=null):cr=Me.sibling;var Xa=le(Z,Me,it.value,pe);if(Xa===null){Me===null&&(Me=cr);break}c&&Me&&Xa.alternate===null&&f(Z,Me),J=C(Xa,J,Le),Ae===null?Ee=Xa:Ae.sibling=Xa,Ae=Xa,Me=cr}if(it.done)return x(Z,Me),Et&&Es(Z,Le),Ee;if(Me===null){for(;!it.done;Le++,it=ee.next())it=ue(Z,it.value,pe),it!==null&&(J=C(it,J,Le),Ae===null?Ee=it:Ae.sibling=it,Ae=it);return Et&&Es(Z,Le),Ee}for(Me=j(Z,Me);!it.done;Le++,it=ee.next())it=je(Me,Z,Le,it.value,pe),it!==null&&(c&&it.alternate!==null&&Me.delete(it.key===null?Le:it.key),J=C(it,J,Le),Ae===null?Ee=it:Ae.sibling=it,Ae=it);return c&&Me.forEach(function(wB){return f(Z,wB)}),Et&&Es(Z,Le),Ee}function Ut(Z,J,ee,pe){if(typeof ee=="object"&&ee!==null&&ee.type===T&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:e:{for(var Ee=ee.key,Ae=J;Ae!==null;){if(Ae.key===Ee){if(Ee=ee.type,Ee===T){if(Ae.tag===7){x(Z,Ae.sibling),J=N(Ae,ee.props.children),J.return=Z,Z=J;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===$&&bk(Ee)===Ae.type){x(Z,Ae.sibling),J=N(Ae,ee.props),J.ref=Kc(Z,Ae,ee),J.return=Z,Z=J;break e}x(Z,Ae);break}else f(Z,Ae);Ae=Ae.sibling}ee.type===T?(J=$s(ee.props.children,Z.mode,pe,ee.key),J.return=Z,Z=J):(pe=mh(ee.type,ee.key,ee.props,null,Z.mode,pe),pe.ref=Kc(Z,J,ee),pe.return=Z,Z=pe)}return A(Z);case _:e:{for(Ae=ee.key;J!==null;){if(J.key===Ae)if(J.tag===4&&J.stateNode.containerInfo===ee.containerInfo&&J.stateNode.implementation===ee.implementation){x(Z,J.sibling),J=N(J,ee.children||[]),J.return=Z,Z=J;break e}else{x(Z,J);break}else f(Z,J);J=J.sibling}J=gg(ee,Z.mode,pe),J.return=Z,Z=J}return A(Z);case $:return Ae=ee._init,Ut(Z,J,Ae(ee._payload),pe)}if(_r(ee))return Se(Z,J,ee,pe);if(X(ee))return Pe(Z,J,ee,pe);Vf(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,J!==null&&J.tag===6?(x(Z,J.sibling),J=N(J,ee),J.return=Z,Z=J):(x(Z,J),J=xg(ee,Z.mode,pe),J.return=Z,Z=J),A(Z)):x(Z,J)}return Ut}var Wo=jk(!0),wk=jk(!1),Wf=za(null),Hf=null,Ho=null,k0=null;function P0(){k0=Ho=Hf=null}function C0(c){var f=Wf.current;St(Wf),c._currentValue=f}function E0(c,f,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,j!==null&&(j.childLanes|=f)):j!==null&&(j.childLanes&f)!==f&&(j.childLanes|=f),c===x)break;c=c.return}}function Ko(c,f){Hf=c,k0=Ho=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(an=!0),c.firstContext=null)}function Mn(c){var f=c._currentValue;if(k0!==c)if(c={context:c,memoizedValue:f,next:null},Ho===null){if(Hf===null)throw Error(r(308));Ho=c,Hf.dependencies={lanes:0,firstContext:c}}else Ho=Ho.next=c;return f}var Os=null;function O0(c){Os===null?Os=[c]:Os.push(c)}function Nk(c,f,x,j){var N=f.interleaved;return N===null?(x.next=x,O0(f)):(x.next=N.next,N.next=x),f.interleaved=x,Ji(c,j)}function Ji(c,f){c.lanes|=f;var x=c.alternate;for(x!==null&&(x.lanes|=f),x=c,c=c.return;c!==null;)c.childLanes|=f,x=c.alternate,x!==null&&(x.childLanes|=f),x=c,c=c.return;return x.tag===3?x.stateNode:null}var Ua=!1;function T0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _k(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Zi(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Va(c,f,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(nt&2)!==0){var N=j.pending;return N===null?f.next=f:(f.next=N.next,N.next=f),j.pending=f,Ji(c,x)}return N=j.interleaved,N===null?(f.next=f,O0(j)):(f.next=N.next,N.next=f),j.interleaved=f,Ji(c,x)}function Kf(c,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194240)!==0)){var j=f.lanes;j&=c.pendingLanes,x|=j,f.lanes=x,Wx(c,x)}}function Sk(c,f){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var N=null,C=null;if(x=x.firstBaseUpdate,x!==null){do{var A={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};C===null?N=C=A:C=C.next=A,x=x.next}while(x!==null);C===null?N=C=f:C=C.next=f}else N=C=f;x={baseState:j.baseState,firstBaseUpdate:N,lastBaseUpdate:C,shared:j.shared,effects:j.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=f:c.next=f,x.lastBaseUpdate=f}function Gf(c,f,x,j){var N=c.updateQueue;Ua=!1;var C=N.firstBaseUpdate,A=N.lastBaseUpdate,U=N.shared.pending;if(U!==null){N.shared.pending=null;var G=U,te=G.next;G.next=null,A===null?C=te:A.next=te,A=G;var ce=c.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==A&&(U===null?ce.firstBaseUpdate=te:U.next=te,ce.lastBaseUpdate=G))}if(C!==null){var ue=N.baseState;A=0,ce=te=G=null,U=C;do{var le=U.lane,je=U.eventTime;if((j&le)===le){ce!==null&&(ce=ce.next={eventTime:je,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=c,Pe=U;switch(le=f,je=x,Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){ue=Se.call(je,ue,le);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,le=typeof Se=="function"?Se.call(je,ue,le):Se,le==null)break e;ue=R({},ue,le);break e;case 2:Ua=!0}}U.callback!==null&&U.lane!==0&&(c.flags|=64,le=N.effects,le===null?N.effects=[U]:le.push(U))}else je={eventTime:je,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(te=ce=je,G=ue):ce=ce.next=je,A|=le;if(U=U.next,U===null){if(U=N.shared.pending,U===null)break;le=U,U=le.next,le.next=null,N.lastBaseUpdate=le,N.shared.pending=null}}while(!0);if(ce===null&&(G=ue),N.baseState=G,N.firstBaseUpdate=te,N.lastBaseUpdate=ce,f=N.shared.interleaved,f!==null){N=f;do A|=N.lane,N=N.next;while(N!==f)}else C===null&&(N.shared.lanes=0);Ms|=A,c.lanes=A,c.memoizedState=ue}}function kk(c,f,x){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var j=c[f],N=j.callback;if(N!==null){if(j.callback=null,j=x,typeof N!="function")throw Error(r(191,N));N.call(j)}}}var Gc={},Pi=za(Gc),Yc=za(Gc),Qc=za(Gc);function Ts(c){if(c===Gc)throw Error(r(174));return c}function A0(c,f){switch(bt(Qc,f),bt(Yc,c),bt(Pi,Gc),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:he(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=he(f,c)}St(Pi),bt(Pi,f)}function Go(){St(Pi),St(Yc),St(Qc)}function Pk(c){Ts(Qc.current);var f=Ts(Pi.current),x=he(f,c.type);f!==x&&(bt(Yc,c),bt(Pi,x))}function M0(c){Yc.current===c&&(St(Pi),St(Yc))}var At=za(0);function Yf(c){for(var f=c;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var R0=[];function D0(){for(var c=0;c<R0.length;c++)R0[c]._workInProgressVersionPrimary=null;R0.length=0}var Qf=E.ReactCurrentDispatcher,I0=E.ReactCurrentBatchConfig,As=0,Mt=null,Xt=null,or=null,Xf=!1,Xc=!1,Jc=0,Vq=0;function Er(){throw Error(r(321))}function $0(c,f){if(f===null)return!1;for(var x=0;x<f.length&&x<c.length;x++)if(!ni(c[x],f[x]))return!1;return!0}function F0(c,f,x,j,N,C){if(As=C,Mt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Qf.current=c===null||c.memoizedState===null?Gq:Yq,c=x(j,N),Xc){C=0;do{if(Xc=!1,Jc=0,25<=C)throw Error(r(301));C+=1,or=Xt=null,f.updateQueue=null,Qf.current=Qq,c=x(j,N)}while(Xc)}if(Qf.current=eh,f=Xt!==null&&Xt.next!==null,As=0,or=Xt=Mt=null,Xf=!1,f)throw Error(r(300));return c}function L0(){var c=Jc!==0;return Jc=0,c}function Ci(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Mt.memoizedState=or=c:or=or.next=c,or}function Rn(){if(Xt===null){var c=Mt.alternate;c=c!==null?c.memoizedState:null}else c=Xt.next;var f=or===null?Mt.memoizedState:or.next;if(f!==null)or=f,Xt=c;else{if(c===null)throw Error(r(310));Xt=c,c={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},or===null?Mt.memoizedState=or=c:or=or.next=c}return or}function Zc(c,f){return typeof f=="function"?f(c):f}function z0(c){var f=Rn(),x=f.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var j=Xt,N=j.baseQueue,C=x.pending;if(C!==null){if(N!==null){var A=N.next;N.next=C.next,C.next=A}j.baseQueue=N=C,x.pending=null}if(N!==null){C=N.next,j=j.baseState;var U=A=null,G=null,te=C;do{var ce=te.lane;if((As&ce)===ce)G!==null&&(G=G.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),j=te.hasEagerState?te.eagerState:c(j,te.action);else{var ue={lane:ce,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};G===null?(U=G=ue,A=j):G=G.next=ue,Mt.lanes|=ce,Ms|=ce}te=te.next}while(te!==null&&te!==C);G===null?A=j:G.next=U,ni(j,f.memoizedState)||(an=!0),f.memoizedState=j,f.baseState=A,f.baseQueue=G,x.lastRenderedState=j}if(c=x.interleaved,c!==null){N=c;do C=N.lane,Mt.lanes|=C,Ms|=C,N=N.next;while(N!==c)}else N===null&&(x.lanes=0);return[f.memoizedState,x.dispatch]}function q0(c){var f=Rn(),x=f.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var j=x.dispatch,N=x.pending,C=f.memoizedState;if(N!==null){x.pending=null;var A=N=N.next;do C=c(C,A.action),A=A.next;while(A!==N);ni(C,f.memoizedState)||(an=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),x.lastRenderedState=C}return[C,j]}function Ck(){}function Ek(c,f){var x=Mt,j=Rn(),N=f(),C=!ni(j.memoizedState,N);if(C&&(j.memoizedState=N,an=!0),j=j.queue,B0(Ak.bind(null,x,j,c),[c]),j.getSnapshot!==f||C||or!==null&&or.memoizedState.tag&1){if(x.flags|=2048,eu(9,Tk.bind(null,x,j,N,f),void 0,null),lr===null)throw Error(r(349));(As&30)!==0||Ok(x,f,N)}return N}function Ok(c,f,x){c.flags|=16384,c={getSnapshot:f,value:x},f=Mt.updateQueue,f===null?(f={lastEffect:null,stores:null},Mt.updateQueue=f,f.stores=[c]):(x=f.stores,x===null?f.stores=[c]:x.push(c))}function Tk(c,f,x,j){f.value=x,f.getSnapshot=j,Mk(f)&&Rk(c)}function Ak(c,f,x){return x(function(){Mk(f)&&Rk(c)})}function Mk(c){var f=c.getSnapshot;c=c.value;try{var x=f();return!ni(c,x)}catch{return!0}}function Rk(c){var f=Ji(c,1);f!==null&&li(f,c,1,-1)}function Dk(c){var f=Ci();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:c},f.queue=c,c=c.dispatch=Kq.bind(null,Mt,c),[f.memoizedState,c]}function eu(c,f,x,j){return c={tag:c,create:f,destroy:x,deps:j,next:null},f=Mt.updateQueue,f===null?(f={lastEffect:null,stores:null},Mt.updateQueue=f,f.lastEffect=c.next=c):(x=f.lastEffect,x===null?f.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,f.lastEffect=c)),c}function Ik(){return Rn().memoizedState}function Jf(c,f,x,j){var N=Ci();Mt.flags|=c,N.memoizedState=eu(1|f,x,void 0,j===void 0?null:j)}function Zf(c,f,x,j){var N=Rn();j=j===void 0?null:j;var C=void 0;if(Xt!==null){var A=Xt.memoizedState;if(C=A.destroy,j!==null&&$0(j,A.deps)){N.memoizedState=eu(f,x,C,j);return}}Mt.flags|=c,N.memoizedState=eu(1|f,x,C,j)}function $k(c,f){return Jf(8390656,8,c,f)}function B0(c,f){return Zf(2048,8,c,f)}function Fk(c,f){return Zf(4,2,c,f)}function Lk(c,f){return Zf(4,4,c,f)}function zk(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function qk(c,f,x){return x=x!=null?x.concat([c]):null,Zf(4,4,zk.bind(null,f,c),x)}function U0(){}function Bk(c,f){var x=Rn();f=f===void 0?null:f;var j=x.memoizedState;return j!==null&&f!==null&&$0(f,j[1])?j[0]:(x.memoizedState=[c,f],c)}function Uk(c,f){var x=Rn();f=f===void 0?null:f;var j=x.memoizedState;return j!==null&&f!==null&&$0(f,j[1])?j[0]:(c=c(),x.memoizedState=[c,f],c)}function Vk(c,f,x){return(As&21)===0?(c.baseState&&(c.baseState=!1,an=!0),c.memoizedState=x):(ni(x,f)||(x=bS(),Mt.lanes|=x,Ms|=x,c.baseState=!0),f)}function Wq(c,f){var x=dt;dt=x!==0&&4>x?x:4,c(!0);var j=I0.transition;I0.transition={};try{c(!1),f()}finally{dt=x,I0.transition=j}}function Wk(){return Rn().memoizedState}function Hq(c,f,x){var j=Ga(c);if(x={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null},Hk(c))Kk(f,x);else if(x=Nk(c,f,x,j),x!==null){var N=Kr();li(x,c,j,N),Gk(x,f,j)}}function Kq(c,f,x){var j=Ga(c),N={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null};if(Hk(c))Kk(f,N);else{var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var A=f.lastRenderedState,U=C(A,x);if(N.hasEagerState=!0,N.eagerState=U,ni(U,A)){var G=f.interleaved;G===null?(N.next=N,O0(f)):(N.next=G.next,G.next=N),f.interleaved=N;return}}catch{}finally{}x=Nk(c,f,N,j),x!==null&&(N=Kr(),li(x,c,j,N),Gk(x,f,j))}}function Hk(c){var f=c.alternate;return c===Mt||f!==null&&f===Mt}function Kk(c,f){Xc=Xf=!0;var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}function Gk(c,f,x){if((x&4194240)!==0){var j=f.lanes;j&=c.pendingLanes,x|=j,f.lanes=x,Wx(c,x)}}var eh={readContext:Mn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},Gq={readContext:Mn,useCallback:function(c,f){return Ci().memoizedState=[c,f===void 0?null:f],c},useContext:Mn,useEffect:$k,useImperativeHandle:function(c,f,x){return x=x!=null?x.concat([c]):null,Jf(4194308,4,zk.bind(null,f,c),x)},useLayoutEffect:function(c,f){return Jf(4194308,4,c,f)},useInsertionEffect:function(c,f){return Jf(4,2,c,f)},useMemo:function(c,f){var x=Ci();return f=f===void 0?null:f,c=c(),x.memoizedState=[c,f],c},useReducer:function(c,f,x){var j=Ci();return f=x!==void 0?x(f):f,j.memoizedState=j.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},j.queue=c,c=c.dispatch=Hq.bind(null,Mt,c),[j.memoizedState,c]},useRef:function(c){var f=Ci();return c={current:c},f.memoizedState=c},useState:Dk,useDebugValue:U0,useDeferredValue:function(c){return Ci().memoizedState=c},useTransition:function(){var c=Dk(!1),f=c[0];return c=Wq.bind(null,c[1]),Ci().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,x){var j=Mt,N=Ci();if(Et){if(x===void 0)throw Error(r(407));x=x()}else{if(x=f(),lr===null)throw Error(r(349));(As&30)!==0||Ok(j,f,x)}N.memoizedState=x;var C={value:x,getSnapshot:f};return N.queue=C,$k(Ak.bind(null,j,C,c),[c]),j.flags|=2048,eu(9,Tk.bind(null,j,C,x,f),void 0,null),x},useId:function(){var c=Ci(),f=lr.identifierPrefix;if(Et){var x=Xi,j=Qi;x=(j&~(1<<32-ri(j)-1)).toString(32)+x,f=":"+f+"R"+x,x=Jc++,0<x&&(f+="H"+x.toString(32)),f+=":"}else x=Vq++,f=":"+f+"r"+x.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},Yq={readContext:Mn,useCallback:Bk,useContext:Mn,useEffect:B0,useImperativeHandle:qk,useInsertionEffect:Fk,useLayoutEffect:Lk,useMemo:Uk,useReducer:z0,useRef:Ik,useState:function(){return z0(Zc)},useDebugValue:U0,useDeferredValue:function(c){var f=Rn();return Vk(f,Xt.memoizedState,c)},useTransition:function(){var c=z0(Zc)[0],f=Rn().memoizedState;return[c,f]},useMutableSource:Ck,useSyncExternalStore:Ek,useId:Wk,unstable_isNewReconciler:!1},Qq={readContext:Mn,useCallback:Bk,useContext:Mn,useEffect:B0,useImperativeHandle:qk,useInsertionEffect:Fk,useLayoutEffect:Lk,useMemo:Uk,useReducer:q0,useRef:Ik,useState:function(){return q0(Zc)},useDebugValue:U0,useDeferredValue:function(c){var f=Rn();return Xt===null?f.memoizedState=c:Vk(f,Xt.memoizedState,c)},useTransition:function(){var c=q0(Zc)[0],f=Rn().memoizedState;return[c,f]},useMutableSource:Ck,useSyncExternalStore:Ek,useId:Wk,unstable_isNewReconciler:!1};function ai(c,f){if(c&&c.defaultProps){f=R({},f),c=c.defaultProps;for(var x in c)f[x]===void 0&&(f[x]=c[x]);return f}return f}function V0(c,f,x,j){f=c.memoizedState,x=x(j,f),x=x==null?f:R({},f,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var th={isMounted:function(c){return(c=c._reactInternals)?Ss(c)===c:!1},enqueueSetState:function(c,f,x){c=c._reactInternals;var j=Kr(),N=Ga(c),C=Zi(j,N);C.payload=f,x!=null&&(C.callback=x),f=Va(c,C,N),f!==null&&(li(f,c,N,j),Kf(f,c,N))},enqueueReplaceState:function(c,f,x){c=c._reactInternals;var j=Kr(),N=Ga(c),C=Zi(j,N);C.tag=1,C.payload=f,x!=null&&(C.callback=x),f=Va(c,C,N),f!==null&&(li(f,c,N,j),Kf(f,c,N))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var x=Kr(),j=Ga(c),N=Zi(x,j);N.tag=2,f!=null&&(N.callback=f),f=Va(c,N,j),f!==null&&(li(f,c,j,x),Kf(f,c,j))}};function Yk(c,f,x,j,N,C,A){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,C,A):f.prototype&&f.prototype.isPureReactComponent?!zc(x,j)||!zc(N,C):!0}function Qk(c,f,x){var j=!1,N=qa,C=f.contextType;return typeof C=="object"&&C!==null?C=Mn(C):(N=nn(f)?Ps:Cr.current,j=f.contextTypes,C=(j=j!=null)?qo(c,N):qa),f=new f(x,C),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=th,c.stateNode=f,f._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=N,c.__reactInternalMemoizedMaskedChildContext=C),f}function Xk(c,f,x,j){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,j),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,j),f.state!==c&&th.enqueueReplaceState(f,f.state,null)}function W0(c,f,x,j){var N=c.stateNode;N.props=x,N.state=c.memoizedState,N.refs={},T0(c);var C=f.contextType;typeof C=="object"&&C!==null?N.context=Mn(C):(C=nn(f)?Ps:Cr.current,N.context=qo(c,C)),N.state=c.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(V0(c,f,C,x),N.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(f=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),f!==N.state&&th.enqueueReplaceState(N,N.state,null),Gf(c,x,N,j),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308)}function Yo(c,f){try{var x="",j=f;do x+=ye(j),j=j.return;while(j);var N=x}catch(C){N=`
Error generating stack: `+C.message+`
`+C.stack}return{value:c,source:f,stack:N,digest:null}}function H0(c,f,x){return{value:c,source:null,stack:x??null,digest:f??null}}function K0(c,f){try{console.error(f.value)}catch(x){setTimeout(function(){throw x})}}var Xq=typeof WeakMap=="function"?WeakMap:Map;function Jk(c,f,x){x=Zi(-1,x),x.tag=3,x.payload={element:null};var j=f.value;return x.callback=function(){lh||(lh=!0,lg=j),K0(c,f)},x}function Zk(c,f,x){x=Zi(-1,x),x.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var N=f.value;x.payload=function(){return j(N)},x.callback=function(){K0(c,f)}}var C=c.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(x.callback=function(){K0(c,f),typeof j!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var A=f.stack;this.componentDidCatch(f.value,{componentStack:A!==null?A:""})}),x}function eP(c,f,x){var j=c.pingCache;if(j===null){j=c.pingCache=new Xq;var N=new Set;j.set(f,N)}else N=j.get(f),N===void 0&&(N=new Set,j.set(f,N));N.has(x)||(N.add(x),c=dB.bind(null,c,f,x),f.then(c,c))}function tP(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function rP(c,f,x,j,N){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(f=Zi(-1,1),f.tag=2,Va(x,f,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=N,c)}var Jq=E.ReactCurrentOwner,an=!1;function Hr(c,f,x,j){f.child=c===null?wk(f,null,x,j):Wo(f,c.child,x,j)}function nP(c,f,x,j,N){x=x.render;var C=f.ref;return Ko(f,N),j=F0(c,f,x,j,C,N),x=L0(),c!==null&&!an?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~N,ea(c,f,N)):(Et&&x&&j0(f),f.flags|=1,Hr(c,f,j,N),f.child)}function iP(c,f,x,j,N){if(c===null){var C=x.type;return typeof C=="function"&&!pg(C)&&C.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(f.tag=15,f.type=C,aP(c,f,C,j,N)):(c=mh(x.type,null,j,f,f.mode,N),c.ref=f.ref,c.return=f,f.child=c)}if(C=c.child,(c.lanes&N)===0){var A=C.memoizedProps;if(x=x.compare,x=x!==null?x:zc,x(A,j)&&c.ref===f.ref)return ea(c,f,N)}return f.flags|=1,c=Qa(C,j),c.ref=f.ref,c.return=f,f.child=c}function aP(c,f,x,j,N){if(c!==null){var C=c.memoizedProps;if(zc(C,j)&&c.ref===f.ref)if(an=!1,f.pendingProps=j=C,(c.lanes&N)!==0)(c.flags&131072)!==0&&(an=!0);else return f.lanes=c.lanes,ea(c,f,N)}return G0(c,f,x,j,N)}function sP(c,f,x){var j=f.pendingProps,N=j.children,C=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Xo,bn),bn|=x;else{if((x&1073741824)===0)return c=C!==null?C.baseLanes|x:x,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,bt(Xo,bn),bn|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=C!==null?C.baseLanes:x,bt(Xo,bn),bn|=j}else C!==null?(j=C.baseLanes|x,f.memoizedState=null):j=x,bt(Xo,bn),bn|=j;return Hr(c,f,N,x),f.child}function oP(c,f){var x=f.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(f.flags|=512,f.flags|=2097152)}function G0(c,f,x,j,N){var C=nn(x)?Ps:Cr.current;return C=qo(f,C),Ko(f,N),x=F0(c,f,x,j,C,N),j=L0(),c!==null&&!an?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~N,ea(c,f,N)):(Et&&j&&j0(f),f.flags|=1,Hr(c,f,x,N),f.child)}function lP(c,f,x,j,N){if(nn(x)){var C=!0;Lf(f)}else C=!1;if(Ko(f,N),f.stateNode===null)nh(c,f),Qk(f,x,j),W0(f,x,j,N),j=!0;else if(c===null){var A=f.stateNode,U=f.memoizedProps;A.props=U;var G=A.context,te=x.contextType;typeof te=="object"&&te!==null?te=Mn(te):(te=nn(x)?Ps:Cr.current,te=qo(f,te));var ce=x.getDerivedStateFromProps,ue=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function";ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==j||G!==te)&&Xk(f,A,j,te),Ua=!1;var le=f.memoizedState;A.state=le,Gf(f,j,A,N),G=f.memoizedState,U!==j||le!==G||rn.current||Ua?(typeof ce=="function"&&(V0(f,x,ce,j),G=f.memoizedState),(U=Ua||Yk(f,x,U,j,le,G,te))?(ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(f.flags|=4194308)):(typeof A.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=j,f.memoizedState=G),A.props=j,A.state=G,A.context=te,j=U):(typeof A.componentDidMount=="function"&&(f.flags|=4194308),j=!1)}else{A=f.stateNode,_k(c,f),U=f.memoizedProps,te=f.type===f.elementType?U:ai(f.type,U),A.props=te,ue=f.pendingProps,le=A.context,G=x.contextType,typeof G=="object"&&G!==null?G=Mn(G):(G=nn(x)?Ps:Cr.current,G=qo(f,G));var je=x.getDerivedStateFromProps;(ce=typeof je=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==ue||le!==G)&&Xk(f,A,j,G),Ua=!1,le=f.memoizedState,A.state=le,Gf(f,j,A,N);var Se=f.memoizedState;U!==ue||le!==Se||rn.current||Ua?(typeof je=="function"&&(V0(f,x,je,j),Se=f.memoizedState),(te=Ua||Yk(f,x,te,j,le,Se,G)||!1)?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(j,Se,G),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(j,Se,G)),typeof A.componentDidUpdate=="function"&&(f.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===c.memoizedProps&&le===c.memoizedState||(f.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===c.memoizedProps&&le===c.memoizedState||(f.flags|=1024),f.memoizedProps=j,f.memoizedState=Se),A.props=j,A.state=Se,A.context=G,j=te):(typeof A.componentDidUpdate!="function"||U===c.memoizedProps&&le===c.memoizedState||(f.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===c.memoizedProps&&le===c.memoizedState||(f.flags|=1024),j=!1)}return Y0(c,f,x,j,C,N)}function Y0(c,f,x,j,N,C){oP(c,f);var A=(f.flags&128)!==0;if(!j&&!A)return N&&hk(f,x,!1),ea(c,f,C);j=f.stateNode,Jq.current=f;var U=A&&typeof x.getDerivedStateFromError!="function"?null:j.render();return f.flags|=1,c!==null&&A?(f.child=Wo(f,c.child,null,C),f.child=Wo(f,null,U,C)):Hr(c,f,U,C),f.memoizedState=j.state,N&&hk(f,x,!0),f.child}function cP(c){var f=c.stateNode;f.pendingContext?dk(c,f.pendingContext,f.pendingContext!==f.context):f.context&&dk(c,f.context,!1),A0(c,f.containerInfo)}function uP(c,f,x,j,N){return Vo(),S0(N),f.flags|=256,Hr(c,f,x,j),f.child}var Q0={dehydrated:null,treeContext:null,retryLane:0};function X0(c){return{baseLanes:c,cachePool:null,transitions:null}}function dP(c,f,x){var j=f.pendingProps,N=At.current,C=!1,A=(f.flags&128)!==0,U;if((U=A)||(U=c!==null&&c.memoizedState===null?!1:(N&2)!==0),U?(C=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(N|=1),bt(At,N&1),c===null)return _0(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:c.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(A=j.children,c=j.fallback,C?(j=f.mode,C=f.child,A={mode:"hidden",children:A},(j&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=A):C=ph(A,j,0,null),c=$s(c,j,x,null),C.return=f,c.return=f,C.sibling=c,f.child=C,f.child.memoizedState=X0(x),f.memoizedState=Q0,c):J0(f,A));if(N=c.memoizedState,N!==null&&(U=N.dehydrated,U!==null))return Zq(c,f,A,j,U,N,x);if(C){C=j.fallback,A=f.mode,N=c.child,U=N.sibling;var G={mode:"hidden",children:j.children};return(A&1)===0&&f.child!==N?(j=f.child,j.childLanes=0,j.pendingProps=G,f.deletions=null):(j=Qa(N,G),j.subtreeFlags=N.subtreeFlags&14680064),U!==null?C=Qa(U,C):(C=$s(C,A,x,null),C.flags|=2),C.return=f,j.return=f,j.sibling=C,f.child=j,j=C,C=f.child,A=c.child.memoizedState,A=A===null?X0(x):{baseLanes:A.baseLanes|x,cachePool:null,transitions:A.transitions},C.memoizedState=A,C.childLanes=c.childLanes&~x,f.memoizedState=Q0,j}return C=c.child,c=C.sibling,j=Qa(C,{mode:"visible",children:j.children}),(f.mode&1)===0&&(j.lanes=x),j.return=f,j.sibling=null,c!==null&&(x=f.deletions,x===null?(f.deletions=[c],f.flags|=16):x.push(c)),f.child=j,f.memoizedState=null,j}function J0(c,f){return f=ph({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function rh(c,f,x,j){return j!==null&&S0(j),Wo(f,c.child,null,x),c=J0(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Zq(c,f,x,j,N,C,A){if(x)return f.flags&256?(f.flags&=-257,j=H0(Error(r(422))),rh(c,f,A,j)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(C=j.fallback,N=f.mode,j=ph({mode:"visible",children:j.children},N,0,null),C=$s(C,N,A,null),C.flags|=2,j.return=f,C.return=f,j.sibling=C,f.child=j,(f.mode&1)!==0&&Wo(f,c.child,null,A),f.child.memoizedState=X0(A),f.memoizedState=Q0,C);if((f.mode&1)===0)return rh(c,f,A,null);if(N.data==="$!"){if(j=N.nextSibling&&N.nextSibling.dataset,j)var U=j.dgst;return j=U,C=Error(r(419)),j=H0(C,j,void 0),rh(c,f,A,j)}if(U=(A&c.childLanes)!==0,an||U){if(j=lr,j!==null){switch(A&-A){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(j.suspendedLanes|A))!==0?0:N,N!==0&&N!==C.retryLane&&(C.retryLane=N,Ji(c,N),li(j,c,N,-1))}return mg(),j=H0(Error(r(421))),rh(c,f,A,j)}return N.data==="$?"?(f.flags|=128,f.child=c.child,f=fB.bind(null,c),N._reactRetry=f,null):(c=C.treeContext,vn=La(N.nextSibling),yn=f,Et=!0,ii=null,c!==null&&(Tn[An++]=Qi,Tn[An++]=Xi,Tn[An++]=Cs,Qi=c.id,Xi=c.overflow,Cs=f),f=J0(f,j.children),f.flags|=4096,f)}function fP(c,f,x){c.lanes|=f;var j=c.alternate;j!==null&&(j.lanes|=f),E0(c.return,f,x)}function Z0(c,f,x,j,N){var C=c.memoizedState;C===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:N}:(C.isBackwards=f,C.rendering=null,C.renderingStartTime=0,C.last=j,C.tail=x,C.tailMode=N)}function hP(c,f,x){var j=f.pendingProps,N=j.revealOrder,C=j.tail;if(Hr(c,f,j.children,x),j=At.current,(j&2)!==0)j=j&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&fP(c,x,f);else if(c.tag===19)fP(c,x,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(bt(At,j),(f.mode&1)===0)f.memoizedState=null;else switch(N){case"forwards":for(x=f.child,N=null;x!==null;)c=x.alternate,c!==null&&Yf(c)===null&&(N=x),x=x.sibling;x=N,x===null?(N=f.child,f.child=null):(N=x.sibling,x.sibling=null),Z0(f,!1,N,x,C);break;case"backwards":for(x=null,N=f.child,f.child=null;N!==null;){if(c=N.alternate,c!==null&&Yf(c)===null){f.child=N;break}c=N.sibling,N.sibling=x,x=N,N=c}Z0(f,!0,x,null,C);break;case"together":Z0(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function nh(c,f){(f.mode&1)===0&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function ea(c,f,x){if(c!==null&&(f.dependencies=c.dependencies),Ms|=f.lanes,(x&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,x=Qa(c,c.pendingProps),f.child=x,x.return=f;c.sibling!==null;)c=c.sibling,x=x.sibling=Qa(c,c.pendingProps),x.return=f;x.sibling=null}return f.child}function eB(c,f,x){switch(f.tag){case 3:cP(f),Vo();break;case 5:Pk(f);break;case 1:nn(f.type)&&Lf(f);break;case 4:A0(f,f.stateNode.containerInfo);break;case 10:var j=f.type._context,N=f.memoizedProps.value;bt(Wf,j._currentValue),j._currentValue=N;break;case 13:if(j=f.memoizedState,j!==null)return j.dehydrated!==null?(bt(At,At.current&1),f.flags|=128,null):(x&f.child.childLanes)!==0?dP(c,f,x):(bt(At,At.current&1),c=ea(c,f,x),c!==null?c.sibling:null);bt(At,At.current&1);break;case 19:if(j=(x&f.childLanes)!==0,(c.flags&128)!==0){if(j)return hP(c,f,x);f.flags|=128}if(N=f.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),bt(At,At.current),j)break;return null;case 22:case 23:return f.lanes=0,sP(c,f,x)}return ea(c,f,x)}var mP,eg,pP,xP;mP=function(c,f){for(var x=f.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},eg=function(){},pP=function(c,f,x,j){var N=c.memoizedProps;if(N!==j){c=f.stateNode,Ts(Pi.current);var C=null;switch(x){case"input":N=Be(c,N),j=Be(c,j),C=[];break;case"select":N=R({},N,{value:void 0}),j=R({},j,{value:void 0}),C=[];break;case"textarea":N=Sr(c,N),j=Sr(c,j),C=[];break;default:typeof N.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=If)}Ct(x,j);var A;x=null;for(te in N)if(!j.hasOwnProperty(te)&&N.hasOwnProperty(te)&&N[te]!=null)if(te==="style"){var U=N[te];for(A in U)U.hasOwnProperty(A)&&(x||(x={}),x[A]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(a.hasOwnProperty(te)?C||(C=[]):(C=C||[]).push(te,null));for(te in j){var G=j[te];if(U=N?.[te],j.hasOwnProperty(te)&&G!==U&&(G!=null||U!=null))if(te==="style")if(U){for(A in U)!U.hasOwnProperty(A)||G&&G.hasOwnProperty(A)||(x||(x={}),x[A]="");for(A in G)G.hasOwnProperty(A)&&U[A]!==G[A]&&(x||(x={}),x[A]=G[A])}else x||(C||(C=[]),C.push(te,x)),x=G;else te==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,U=U?U.__html:void 0,G!=null&&U!==G&&(C=C||[]).push(te,G)):te==="children"?typeof G!="string"&&typeof G!="number"||(C=C||[]).push(te,""+G):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(a.hasOwnProperty(te)?(G!=null&&te==="onScroll"&&_t("scroll",c),C||U===G||(C=[])):(C=C||[]).push(te,G))}x&&(C=C||[]).push("style",x);var te=C;(f.updateQueue=te)&&(f.flags|=4)}},xP=function(c,f,x,j){x!==j&&(f.flags|=4)};function tu(c,f){if(!Et)switch(c.tailMode){case"hidden":f=c.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function Or(c){var f=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(f)for(var N=c.child;N!==null;)x|=N.lanes|N.childLanes,j|=N.subtreeFlags&14680064,j|=N.flags&14680064,N.return=c,N=N.sibling;else for(N=c.child;N!==null;)x|=N.lanes|N.childLanes,j|=N.subtreeFlags,j|=N.flags,N.return=c,N=N.sibling;return c.subtreeFlags|=j,c.childLanes=x,f}function tB(c,f,x){var j=f.pendingProps;switch(w0(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(f),null;case 1:return nn(f.type)&&Ff(),Or(f),null;case 3:return j=f.stateNode,Go(),St(rn),St(Cr),D0(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(Uf(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,ii!==null&&(dg(ii),ii=null))),eg(c,f),Or(f),null;case 5:M0(f);var N=Ts(Qc.current);if(x=f.type,c!==null&&f.stateNode!=null)pP(c,f,x,j,N),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!j){if(f.stateNode===null)throw Error(r(166));return Or(f),null}if(c=Ts(Pi.current),Uf(f)){j=f.stateNode,x=f.type;var C=f.memoizedProps;switch(j[ki]=f,j[Wc]=C,c=(f.mode&1)!==0,x){case"dialog":_t("cancel",j),_t("close",j);break;case"iframe":case"object":case"embed":_t("load",j);break;case"video":case"audio":for(N=0;N<Bc.length;N++)_t(Bc[N],j);break;case"source":_t("error",j);break;case"img":case"image":case"link":_t("error",j),_t("load",j);break;case"details":_t("toggle",j);break;case"input":xt(j,C),_t("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!C.multiple},_t("invalid",j);break;case"textarea":kr(j,C),_t("invalid",j)}Ct(x,C),N=null;for(var A in C)if(C.hasOwnProperty(A)){var U=C[A];A==="children"?typeof U=="string"?j.textContent!==U&&(C.suppressHydrationWarning!==!0&&Df(j.textContent,U,c),N=["children",U]):typeof U=="number"&&j.textContent!==""+U&&(C.suppressHydrationWarning!==!0&&Df(j.textContent,U,c),N=["children",""+U]):a.hasOwnProperty(A)&&U!=null&&A==="onScroll"&&_t("scroll",j)}switch(x){case"input":Oe(j),hr(j,C,!0);break;case"textarea":Oe(j),Ki(j);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(j.onclick=If)}j=N,f.updateQueue=j,j!==null&&(f.flags|=4)}else{A=N.nodeType===9?N:N.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=ne(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=A.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=A.createElement(x,{is:j.is}):(c=A.createElement(x),x==="select"&&(A=c,j.multiple?A.multiple=!0:j.size&&(A.size=j.size))):c=A.createElementNS(c,x),c[ki]=f,c[Wc]=j,mP(c,f,!1,!1),f.stateNode=c;e:{switch(A=On(x,j),x){case"dialog":_t("cancel",c),_t("close",c),N=j;break;case"iframe":case"object":case"embed":_t("load",c),N=j;break;case"video":case"audio":for(N=0;N<Bc.length;N++)_t(Bc[N],c);N=j;break;case"source":_t("error",c),N=j;break;case"img":case"image":case"link":_t("error",c),_t("load",c),N=j;break;case"details":_t("toggle",c),N=j;break;case"input":xt(c,j),N=Be(c,j),_t("invalid",c);break;case"option":N=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},N=R({},j,{value:void 0}),_t("invalid",c);break;case"textarea":kr(c,j),N=Sr(c,j),_t("invalid",c);break;default:N=j}Ct(x,N),U=N;for(C in U)if(U.hasOwnProperty(C)){var G=U[C];C==="style"?Ur(c,G):C==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&He(c,G)):C==="children"?typeof G=="string"?(x!=="textarea"||G!=="")&&Ge(c,G):typeof G=="number"&&Ge(c,""+G):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?G!=null&&C==="onScroll"&&_t("scroll",c):G!=null&&k(c,C,G,A))}switch(x){case"input":Oe(c),hr(c,j,!1);break;case"textarea":Oe(c),Ki(c);break;case"option":j.value!=null&&c.setAttribute("value",""+ke(j.value));break;case"select":c.multiple=!!j.multiple,C=j.value,C!=null?$t(c,!!j.multiple,C,!1):j.defaultValue!=null&&$t(c,!!j.multiple,j.defaultValue,!0);break;default:typeof N.onClick=="function"&&(c.onclick=If)}switch(x){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Or(f),null;case 6:if(c&&f.stateNode!=null)xP(c,f,c.memoizedProps,j);else{if(typeof j!="string"&&f.stateNode===null)throw Error(r(166));if(x=Ts(Qc.current),Ts(Pi.current),Uf(f)){if(j=f.stateNode,x=f.memoizedProps,j[ki]=f,(C=j.nodeValue!==x)&&(c=yn,c!==null))switch(c.tag){case 3:Df(j.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Df(j.nodeValue,x,(c.mode&1)!==0)}C&&(f.flags|=4)}else j=(x.nodeType===9?x:x.ownerDocument).createTextNode(j),j[ki]=f,f.stateNode=j}return Or(f),null;case 13:if(St(At),j=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Et&&vn!==null&&(f.mode&1)!==0&&(f.flags&128)===0)vk(),Vo(),f.flags|=98560,C=!1;else if(C=Uf(f),j!==null&&j.dehydrated!==null){if(c===null){if(!C)throw Error(r(318));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[ki]=f}else Vo(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Or(f),C=!1}else ii!==null&&(dg(ii),ii=null),C=!0;if(!C)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=x,f):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(At.current&1)!==0?Jt===0&&(Jt=3):mg())),f.updateQueue!==null&&(f.flags|=4),Or(f),null);case 4:return Go(),eg(c,f),c===null&&Uc(f.stateNode.containerInfo),Or(f),null;case 10:return C0(f.type._context),Or(f),null;case 17:return nn(f.type)&&Ff(),Or(f),null;case 19:if(St(At),C=f.memoizedState,C===null)return Or(f),null;if(j=(f.flags&128)!==0,A=C.rendering,A===null)if(j)tu(C,!1);else{if(Jt!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(A=Yf(c),A!==null){for(f.flags|=128,tu(C,!1),j=A.updateQueue,j!==null&&(f.updateQueue=j,f.flags|=4),f.subtreeFlags=0,j=x,x=f.child;x!==null;)C=x,c=j,C.flags&=14680066,A=C.alternate,A===null?(C.childLanes=0,C.lanes=c,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=A.childLanes,C.lanes=A.lanes,C.child=A.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=A.memoizedProps,C.memoizedState=A.memoizedState,C.updateQueue=A.updateQueue,C.type=A.type,c=A.dependencies,C.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return bt(At,At.current&1|2),f.child}c=c.sibling}C.tail!==null&&Bt()>Jo&&(f.flags|=128,j=!0,tu(C,!1),f.lanes=4194304)}else{if(!j)if(c=Yf(A),c!==null){if(f.flags|=128,j=!0,x=c.updateQueue,x!==null&&(f.updateQueue=x,f.flags|=4),tu(C,!0),C.tail===null&&C.tailMode==="hidden"&&!A.alternate&&!Et)return Or(f),null}else 2*Bt()-C.renderingStartTime>Jo&&x!==1073741824&&(f.flags|=128,j=!0,tu(C,!1),f.lanes=4194304);C.isBackwards?(A.sibling=f.child,f.child=A):(x=C.last,x!==null?x.sibling=A:f.child=A,C.last=A)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=Bt(),f.sibling=null,x=At.current,bt(At,j?x&1|2:x&1),f):(Or(f),null);case 22:case 23:return hg(),j=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(f.flags|=8192),j&&(f.mode&1)!==0?(bn&1073741824)!==0&&(Or(f),f.subtreeFlags&6&&(f.flags|=8192)):Or(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function rB(c,f){switch(w0(f),f.tag){case 1:return nn(f.type)&&Ff(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Go(),St(rn),St(Cr),D0(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return M0(f),null;case 13:if(St(At),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Vo()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return St(At),null;case 4:return Go(),null;case 10:return C0(f.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var ih=!1,Tr=!1,nB=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Qo(c,f){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(j){Ft(c,f,j)}else x.current=null}function tg(c,f,x){try{x()}catch(j){Ft(c,f,j)}}var gP=!1;function iB(c,f){if(h0=_f,c=YS(),a0(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var N=j.anchorOffset,C=j.focusNode;j=j.focusOffset;try{x.nodeType,C.nodeType}catch{x=null;break e}var A=0,U=-1,G=-1,te=0,ce=0,ue=c,le=null;t:for(;;){for(var je;ue!==x||N!==0&&ue.nodeType!==3||(U=A+N),ue!==C||j!==0&&ue.nodeType!==3||(G=A+j),ue.nodeType===3&&(A+=ue.nodeValue.length),(je=ue.firstChild)!==null;)le=ue,ue=je;for(;;){if(ue===c)break t;if(le===x&&++te===N&&(U=A),le===C&&++ce===j&&(G=A),(je=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=je}x=U===-1||G===-1?null:{start:U,end:G}}else x=null}x=x||{start:0,end:0}}else x=null;for(m0={focusedElem:c,selectionRange:x},_f=!1,Ne=f;Ne!==null;)if(f=Ne,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,Ne=c;else for(;Ne!==null;){f=Ne;try{var Se=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Pe=Se.memoizedProps,Ut=Se.memoizedState,Z=f.stateNode,J=Z.getSnapshotBeforeUpdate(f.elementType===f.type?Pe:ai(f.type,Pe),Ut);Z.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ee=f.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){Ft(f,f.return,pe)}if(c=f.sibling,c!==null){c.return=f.return,Ne=c;break}Ne=f.return}return Se=gP,gP=!1,Se}function ru(c,f,x){var j=f.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var N=j=j.next;do{if((N.tag&c)===c){var C=N.destroy;N.destroy=void 0,C!==void 0&&tg(f,x,C)}N=N.next}while(N!==j)}}function ah(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&c)===c){var j=x.create;x.destroy=j()}x=x.next}while(x!==f)}}function rg(c){var f=c.ref;if(f!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof f=="function"?f(c):f.current=c}}function yP(c){var f=c.alternate;f!==null&&(c.alternate=null,yP(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[ki],delete f[Wc],delete f[y0],delete f[zq],delete f[qq])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function vP(c){return c.tag===5||c.tag===3||c.tag===4}function bP(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||vP(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ng(c,f,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,f?x.nodeType===8?x.parentNode.insertBefore(c,f):x.insertBefore(c,f):(x.nodeType===8?(f=x.parentNode,f.insertBefore(c,x)):(f=x,f.appendChild(c)),x=x._reactRootContainer,x!=null||f.onclick!==null||(f.onclick=If));else if(j!==4&&(c=c.child,c!==null))for(ng(c,f,x),c=c.sibling;c!==null;)ng(c,f,x),c=c.sibling}function ig(c,f,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,f?x.insertBefore(c,f):x.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(ig(c,f,x),c=c.sibling;c!==null;)ig(c,f,x),c=c.sibling}var pr=null,si=!1;function Wa(c,f,x){for(x=x.child;x!==null;)jP(c,f,x),x=x.sibling}function jP(c,f,x){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(yf,x)}catch{}switch(x.tag){case 5:Tr||Qo(x,f);case 6:var j=pr,N=si;pr=null,Wa(c,f,x),pr=j,si=N,pr!==null&&(si?(c=pr,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):pr.removeChild(x.stateNode));break;case 18:pr!==null&&(si?(c=pr,x=x.stateNode,c.nodeType===8?g0(c.parentNode,x):c.nodeType===1&&g0(c,x),Rc(c)):g0(pr,x.stateNode));break;case 4:j=pr,N=si,pr=x.stateNode.containerInfo,si=!0,Wa(c,f,x),pr=j,si=N;break;case 0:case 11:case 14:case 15:if(!Tr&&(j=x.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){N=j=j.next;do{var C=N,A=C.destroy;C=C.tag,A!==void 0&&((C&2)!==0||(C&4)!==0)&&tg(x,f,A),N=N.next}while(N!==j)}Wa(c,f,x);break;case 1:if(!Tr&&(Qo(x,f),j=x.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=x.memoizedProps,j.state=x.memoizedState,j.componentWillUnmount()}catch(U){Ft(x,f,U)}Wa(c,f,x);break;case 21:Wa(c,f,x);break;case 22:x.mode&1?(Tr=(j=Tr)||x.memoizedState!==null,Wa(c,f,x),Tr=j):Wa(c,f,x);break;default:Wa(c,f,x)}}function wP(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new nB),f.forEach(function(j){var N=hB.bind(null,c,j);x.has(j)||(x.add(j),j.then(N,N))})}}function oi(c,f){var x=f.deletions;if(x!==null)for(var j=0;j<x.length;j++){var N=x[j];try{var C=c,A=f,U=A;e:for(;U!==null;){switch(U.tag){case 5:pr=U.stateNode,si=!1;break e;case 3:pr=U.stateNode.containerInfo,si=!0;break e;case 4:pr=U.stateNode.containerInfo,si=!0;break e}U=U.return}if(pr===null)throw Error(r(160));jP(C,A,N),pr=null,si=!1;var G=N.alternate;G!==null&&(G.return=null),N.return=null}catch(te){Ft(N,f,te)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)NP(f,c),f=f.sibling}function NP(c,f){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(oi(f,c),Ei(c),j&4){try{ru(3,c,c.return),ah(3,c)}catch(Pe){Ft(c,c.return,Pe)}try{ru(5,c,c.return)}catch(Pe){Ft(c,c.return,Pe)}}break;case 1:oi(f,c),Ei(c),j&512&&x!==null&&Qo(x,x.return);break;case 5:if(oi(f,c),Ei(c),j&512&&x!==null&&Qo(x,x.return),c.flags&32){var N=c.stateNode;try{Ge(N,"")}catch(Pe){Ft(c,c.return,Pe)}}if(j&4&&(N=c.stateNode,N!=null)){var C=c.memoizedProps,A=x!==null?x.memoizedProps:C,U=c.type,G=c.updateQueue;if(c.updateQueue=null,G!==null)try{U==="input"&&C.type==="radio"&&C.name!=null&&ht(N,C),On(U,A);var te=On(U,C);for(A=0;A<G.length;A+=2){var ce=G[A],ue=G[A+1];ce==="style"?Ur(N,ue):ce==="dangerouslySetInnerHTML"?He(N,ue):ce==="children"?Ge(N,ue):k(N,ce,ue,te)}switch(U){case"input":Tt(N,C);break;case"textarea":Hi(N,C);break;case"select":var le=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!C.multiple;var je=C.value;je!=null?$t(N,!!C.multiple,je,!1):le!==!!C.multiple&&(C.defaultValue!=null?$t(N,!!C.multiple,C.defaultValue,!0):$t(N,!!C.multiple,C.multiple?[]:"",!1))}N[Wc]=C}catch(Pe){Ft(c,c.return,Pe)}}break;case 6:if(oi(f,c),Ei(c),j&4){if(c.stateNode===null)throw Error(r(162));N=c.stateNode,C=c.memoizedProps;try{N.nodeValue=C}catch(Pe){Ft(c,c.return,Pe)}}break;case 3:if(oi(f,c),Ei(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{Rc(f.containerInfo)}catch(Pe){Ft(c,c.return,Pe)}break;case 4:oi(f,c),Ei(c);break;case 13:oi(f,c),Ei(c),N=c.child,N.flags&8192&&(C=N.memoizedState!==null,N.stateNode.isHidden=C,!C||N.alternate!==null&&N.alternate.memoizedState!==null||(og=Bt())),j&4&&wP(c);break;case 22:if(ce=x!==null&&x.memoizedState!==null,c.mode&1?(Tr=(te=Tr)||ce,oi(f,c),Tr=te):oi(f,c),Ei(c),j&8192){if(te=c.memoizedState!==null,(c.stateNode.isHidden=te)&&!ce&&(c.mode&1)!==0)for(Ne=c,ce=c.child;ce!==null;){for(ue=Ne=ce;Ne!==null;){switch(le=Ne,je=le.child,le.tag){case 0:case 11:case 14:case 15:ru(4,le,le.return);break;case 1:Qo(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){j=le,x=le.return;try{f=j,Se.props=f.memoizedProps,Se.state=f.memoizedState,Se.componentWillUnmount()}catch(Pe){Ft(j,x,Pe)}}break;case 5:Qo(le,le.return);break;case 22:if(le.memoizedState!==null){kP(ue);continue}}je!==null?(je.return=le,Ne=je):kP(ue)}ce=ce.sibling}e:for(ce=null,ue=c;;){if(ue.tag===5){if(ce===null){ce=ue;try{N=ue.stateNode,te?(C=N.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(U=ue.stateNode,G=ue.memoizedProps.style,A=G!=null&&G.hasOwnProperty("display")?G.display:null,U.style.display=Pr("display",A))}catch(Pe){Ft(c,c.return,Pe)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=te?"":ue.memoizedProps}catch(Pe){Ft(c,c.return,Pe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===c)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===c)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===c)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:oi(f,c),Ei(c),j&4&&wP(c);break;case 21:break;default:oi(f,c),Ei(c)}}function Ei(c){var f=c.flags;if(f&2){try{e:{for(var x=c.return;x!==null;){if(vP(x)){var j=x;break e}x=x.return}throw Error(r(160))}switch(j.tag){case 5:var N=j.stateNode;j.flags&32&&(Ge(N,""),j.flags&=-33);var C=bP(c);ig(c,C,N);break;case 3:case 4:var A=j.stateNode.containerInfo,U=bP(c);ng(c,U,A);break;default:throw Error(r(161))}}catch(G){Ft(c,c.return,G)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function aB(c,f,x){Ne=c,_P(c)}function _P(c,f,x){for(var j=(c.mode&1)!==0;Ne!==null;){var N=Ne,C=N.child;if(N.tag===22&&j){var A=N.memoizedState!==null||ih;if(!A){var U=N.alternate,G=U!==null&&U.memoizedState!==null||Tr;U=ih;var te=Tr;if(ih=A,(Tr=G)&&!te)for(Ne=N;Ne!==null;)A=Ne,G=A.child,A.tag===22&&A.memoizedState!==null?PP(N):G!==null?(G.return=A,Ne=G):PP(N);for(;C!==null;)Ne=C,_P(C),C=C.sibling;Ne=N,ih=U,Tr=te}SP(c)}else(N.subtreeFlags&8772)!==0&&C!==null?(C.return=N,Ne=C):SP(c)}}function SP(c){for(;Ne!==null;){var f=Ne;if((f.flags&8772)!==0){var x=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Tr||ah(5,f);break;case 1:var j=f.stateNode;if(f.flags&4&&!Tr)if(x===null)j.componentDidMount();else{var N=f.elementType===f.type?x.memoizedProps:ai(f.type,x.memoizedProps);j.componentDidUpdate(N,x.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var C=f.updateQueue;C!==null&&kk(f,C,j);break;case 3:var A=f.updateQueue;if(A!==null){if(x=null,f.child!==null)switch(f.child.tag){case 5:x=f.child.stateNode;break;case 1:x=f.child.stateNode}kk(f,A,x)}break;case 5:var U=f.stateNode;if(x===null&&f.flags&4){x=U;var G=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&x.focus();break;case"img":G.src&&(x.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var te=f.alternate;if(te!==null){var ce=te.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&Rc(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Tr||f.flags&512&&rg(f)}catch(le){Ft(f,f.return,le)}}if(f===c){Ne=null;break}if(x=f.sibling,x!==null){x.return=f.return,Ne=x;break}Ne=f.return}}function kP(c){for(;Ne!==null;){var f=Ne;if(f===c){Ne=null;break}var x=f.sibling;if(x!==null){x.return=f.return,Ne=x;break}Ne=f.return}}function PP(c){for(;Ne!==null;){var f=Ne;try{switch(f.tag){case 0:case 11:case 15:var x=f.return;try{ah(4,f)}catch(G){Ft(f,x,G)}break;case 1:var j=f.stateNode;if(typeof j.componentDidMount=="function"){var N=f.return;try{j.componentDidMount()}catch(G){Ft(f,N,G)}}var C=f.return;try{rg(f)}catch(G){Ft(f,C,G)}break;case 5:var A=f.return;try{rg(f)}catch(G){Ft(f,A,G)}}}catch(G){Ft(f,f.return,G)}if(f===c){Ne=null;break}var U=f.sibling;if(U!==null){U.return=f.return,Ne=U;break}Ne=f.return}}var sB=Math.ceil,sh=E.ReactCurrentDispatcher,ag=E.ReactCurrentOwner,Dn=E.ReactCurrentBatchConfig,nt=0,lr=null,Ht=null,xr=0,bn=0,Xo=za(0),Jt=0,nu=null,Ms=0,oh=0,sg=0,iu=null,sn=null,og=0,Jo=1/0,ta=null,lh=!1,lg=null,Ha=null,ch=!1,Ka=null,uh=0,au=0,cg=null,dh=-1,fh=0;function Kr(){return(nt&6)!==0?Bt():dh!==-1?dh:dh=Bt()}function Ga(c){return(c.mode&1)===0?1:(nt&2)!==0&&xr!==0?xr&-xr:Uq.transition!==null?(fh===0&&(fh=bS()),fh):(c=dt,c!==0||(c=window.event,c=c===void 0?16:ES(c.type)),c)}function li(c,f,x,j){if(50<au)throw au=0,cg=null,Error(r(185));Ec(c,x,j),((nt&2)===0||c!==lr)&&(c===lr&&((nt&2)===0&&(oh|=x),Jt===4&&Ya(c,xr)),on(c,j),x===1&&nt===0&&(f.mode&1)===0&&(Jo=Bt()+500,zf&&Ba()))}function on(c,f){var x=c.callbackNode;U8(c,f);var j=jf(c,c===lr?xr:0);if(j===0)x!==null&&gS(x),c.callbackNode=null,c.callbackPriority=0;else if(f=j&-j,c.callbackPriority!==f){if(x!=null&&gS(x),f===1)c.tag===0?Bq(EP.bind(null,c)):mk(EP.bind(null,c)),Fq(function(){(nt&6)===0&&Ba()}),x=null;else{switch(jS(j)){case 1:x=Bx;break;case 4:x=yS;break;case 16:x=gf;break;case 536870912:x=vS;break;default:x=gf}x=$P(x,CP.bind(null,c))}c.callbackPriority=f,c.callbackNode=x}}function CP(c,f){if(dh=-1,fh=0,(nt&6)!==0)throw Error(r(327));var x=c.callbackNode;if(Zo()&&c.callbackNode!==x)return null;var j=jf(c,c===lr?xr:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||f)f=hh(c,j);else{f=j;var N=nt;nt|=2;var C=TP();(lr!==c||xr!==f)&&(ta=null,Jo=Bt()+500,Ds(c,f));do try{cB();break}catch(U){OP(c,U)}while(!0);P0(),sh.current=C,nt=N,Ht!==null?f=0:(lr=null,xr=0,f=Jt)}if(f!==0){if(f===2&&(N=Ux(c),N!==0&&(j=N,f=ug(c,N))),f===1)throw x=nu,Ds(c,0),Ya(c,j),on(c,Bt()),x;if(f===6)Ya(c,j);else{if(N=c.current.alternate,(j&30)===0&&!oB(N)&&(f=hh(c,j),f===2&&(C=Ux(c),C!==0&&(j=C,f=ug(c,C))),f===1))throw x=nu,Ds(c,0),Ya(c,j),on(c,Bt()),x;switch(c.finishedWork=N,c.finishedLanes=j,f){case 0:case 1:throw Error(r(345));case 2:Is(c,sn,ta);break;case 3:if(Ya(c,j),(j&130023424)===j&&(f=og+500-Bt(),10<f)){if(jf(c,0)!==0)break;if(N=c.suspendedLanes,(N&j)!==j){Kr(),c.pingedLanes|=c.suspendedLanes&N;break}c.timeoutHandle=x0(Is.bind(null,c,sn,ta),f);break}Is(c,sn,ta);break;case 4:if(Ya(c,j),(j&4194240)===j)break;for(f=c.eventTimes,N=-1;0<j;){var A=31-ri(j);C=1<<A,A=f[A],A>N&&(N=A),j&=~C}if(j=N,j=Bt()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*sB(j/1960))-j,10<j){c.timeoutHandle=x0(Is.bind(null,c,sn,ta),j);break}Is(c,sn,ta);break;case 5:Is(c,sn,ta);break;default:throw Error(r(329))}}}return on(c,Bt()),c.callbackNode===x?CP.bind(null,c):null}function ug(c,f){var x=iu;return c.current.memoizedState.isDehydrated&&(Ds(c,f).flags|=256),c=hh(c,f),c!==2&&(f=sn,sn=x,f!==null&&dg(f)),c}function dg(c){sn===null?sn=c:sn.push.apply(sn,c)}function oB(c){for(var f=c;;){if(f.flags&16384){var x=f.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var j=0;j<x.length;j++){var N=x[j],C=N.getSnapshot;N=N.value;try{if(!ni(C(),N))return!1}catch{return!1}}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ya(c,f){for(f&=~sg,f&=~oh,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var x=31-ri(f),j=1<<x;c[x]=-1,f&=~j}}function EP(c){if((nt&6)!==0)throw Error(r(327));Zo();var f=jf(c,0);if((f&1)===0)return on(c,Bt()),null;var x=hh(c,f);if(c.tag!==0&&x===2){var j=Ux(c);j!==0&&(f=j,x=ug(c,j))}if(x===1)throw x=nu,Ds(c,0),Ya(c,f),on(c,Bt()),x;if(x===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,Is(c,sn,ta),on(c,Bt()),null}function fg(c,f){var x=nt;nt|=1;try{return c(f)}finally{nt=x,nt===0&&(Jo=Bt()+500,zf&&Ba())}}function Rs(c){Ka!==null&&Ka.tag===0&&(nt&6)===0&&Zo();var f=nt;nt|=1;var x=Dn.transition,j=dt;try{if(Dn.transition=null,dt=1,c)return c()}finally{dt=j,Dn.transition=x,nt=f,(nt&6)===0&&Ba()}}function hg(){bn=Xo.current,St(Xo)}function Ds(c,f){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,$q(x)),Ht!==null)for(x=Ht.return;x!==null;){var j=x;switch(w0(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Ff();break;case 3:Go(),St(rn),St(Cr),D0();break;case 5:M0(j);break;case 4:Go();break;case 13:St(At);break;case 19:St(At);break;case 10:C0(j.type._context);break;case 22:case 23:hg()}x=x.return}if(lr=c,Ht=c=Qa(c.current,null),xr=bn=f,Jt=0,nu=null,sg=oh=Ms=0,sn=iu=null,Os!==null){for(f=0;f<Os.length;f++)if(x=Os[f],j=x.interleaved,j!==null){x.interleaved=null;var N=j.next,C=x.pending;if(C!==null){var A=C.next;C.next=N,j.next=A}x.pending=j}Os=null}return c}function OP(c,f){do{var x=Ht;try{if(P0(),Qf.current=eh,Xf){for(var j=Mt.memoizedState;j!==null;){var N=j.queue;N!==null&&(N.pending=null),j=j.next}Xf=!1}if(As=0,or=Xt=Mt=null,Xc=!1,Jc=0,ag.current=null,x===null||x.return===null){Jt=1,nu=f,Ht=null;break}e:{var C=c,A=x.return,U=x,G=f;if(f=xr,U.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var te=G,ce=U,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var je=tP(A);if(je!==null){je.flags&=-257,rP(je,A,U,C,f),je.mode&1&&eP(C,te,f),f=je,G=te;var Se=f.updateQueue;if(Se===null){var Pe=new Set;Pe.add(G),f.updateQueue=Pe}else Se.add(G);break e}else{if((f&1)===0){eP(C,te,f),mg();break e}G=Error(r(426))}}else if(Et&&U.mode&1){var Ut=tP(A);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),rP(Ut,A,U,C,f),S0(Yo(G,U));break e}}C=G=Yo(G,U),Jt!==4&&(Jt=2),iu===null?iu=[C]:iu.push(C),C=A;do{switch(C.tag){case 3:C.flags|=65536,f&=-f,C.lanes|=f;var Z=Jk(C,G,f);Sk(C,Z);break e;case 1:U=G;var J=C.type,ee=C.stateNode;if((C.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ha===null||!Ha.has(ee)))){C.flags|=65536,f&=-f,C.lanes|=f;var pe=Zk(C,U,f);Sk(C,pe);break e}}C=C.return}while(C!==null)}MP(x)}catch(Ee){f=Ee,Ht===x&&x!==null&&(Ht=x=x.return);continue}break}while(!0)}function TP(){var c=sh.current;return sh.current=eh,c===null?eh:c}function mg(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),lr===null||(Ms&268435455)===0&&(oh&268435455)===0||Ya(lr,xr)}function hh(c,f){var x=nt;nt|=2;var j=TP();(lr!==c||xr!==f)&&(ta=null,Ds(c,f));do try{lB();break}catch(N){OP(c,N)}while(!0);if(P0(),nt=x,sh.current=j,Ht!==null)throw Error(r(261));return lr=null,xr=0,Jt}function lB(){for(;Ht!==null;)AP(Ht)}function cB(){for(;Ht!==null&&!R8();)AP(Ht)}function AP(c){var f=IP(c.alternate,c,bn);c.memoizedProps=c.pendingProps,f===null?MP(c):Ht=f,ag.current=null}function MP(c){var f=c;do{var x=f.alternate;if(c=f.return,(f.flags&32768)===0){if(x=tB(x,f,bn),x!==null){Ht=x;return}}else{if(x=rB(x,f),x!==null){x.flags&=32767,Ht=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Jt=6,Ht=null;return}}if(f=f.sibling,f!==null){Ht=f;return}Ht=f=c}while(f!==null);Jt===0&&(Jt=5)}function Is(c,f,x){var j=dt,N=Dn.transition;try{Dn.transition=null,dt=1,uB(c,f,x,j)}finally{Dn.transition=N,dt=j}return null}function uB(c,f,x,j){do Zo();while(Ka!==null);if((nt&6)!==0)throw Error(r(327));x=c.finishedWork;var N=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var C=x.lanes|x.childLanes;if(V8(c,C),c===lr&&(Ht=lr=null,xr=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||ch||(ch=!0,$P(gf,function(){return Zo(),null})),C=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||C){C=Dn.transition,Dn.transition=null;var A=dt;dt=1;var U=nt;nt|=4,ag.current=null,iB(c,x),NP(x,c),Oq(m0),_f=!!h0,m0=h0=null,c.current=x,aB(x),D8(),nt=U,dt=A,Dn.transition=C}else c.current=x;if(ch&&(ch=!1,Ka=c,uh=N),C=c.pendingLanes,C===0&&(Ha=null),F8(x.stateNode),on(c,Bt()),f!==null)for(j=c.onRecoverableError,x=0;x<f.length;x++)N=f[x],j(N.value,{componentStack:N.stack,digest:N.digest});if(lh)throw lh=!1,c=lg,lg=null,c;return(uh&1)!==0&&c.tag!==0&&Zo(),C=c.pendingLanes,(C&1)!==0?c===cg?au++:(au=0,cg=c):au=0,Ba(),null}function Zo(){if(Ka!==null){var c=jS(uh),f=Dn.transition,x=dt;try{if(Dn.transition=null,dt=16>c?16:c,Ka===null)var j=!1;else{if(c=Ka,Ka=null,uh=0,(nt&6)!==0)throw Error(r(331));var N=nt;for(nt|=4,Ne=c.current;Ne!==null;){var C=Ne,A=C.child;if((Ne.flags&16)!==0){var U=C.deletions;if(U!==null){for(var G=0;G<U.length;G++){var te=U[G];for(Ne=te;Ne!==null;){var ce=Ne;switch(ce.tag){case 0:case 11:case 15:ru(8,ce,C)}var ue=ce.child;if(ue!==null)ue.return=ce,Ne=ue;else for(;Ne!==null;){ce=Ne;var le=ce.sibling,je=ce.return;if(yP(ce),ce===te){Ne=null;break}if(le!==null){le.return=je,Ne=le;break}Ne=je}}}var Se=C.alternate;if(Se!==null){var Pe=Se.child;if(Pe!==null){Se.child=null;do{var Ut=Pe.sibling;Pe.sibling=null,Pe=Ut}while(Pe!==null)}}Ne=C}}if((C.subtreeFlags&2064)!==0&&A!==null)A.return=C,Ne=A;else e:for(;Ne!==null;){if(C=Ne,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:ru(9,C,C.return)}var Z=C.sibling;if(Z!==null){Z.return=C.return,Ne=Z;break e}Ne=C.return}}var J=c.current;for(Ne=J;Ne!==null;){A=Ne;var ee=A.child;if((A.subtreeFlags&2064)!==0&&ee!==null)ee.return=A,Ne=ee;else e:for(A=J;Ne!==null;){if(U=Ne,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:ah(9,U)}}catch(Ee){Ft(U,U.return,Ee)}if(U===A){Ne=null;break e}var pe=U.sibling;if(pe!==null){pe.return=U.return,Ne=pe;break e}Ne=U.return}}if(nt=N,Ba(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(yf,c)}catch{}j=!0}return j}finally{dt=x,Dn.transition=f}}return!1}function RP(c,f,x){f=Yo(x,f),f=Jk(c,f,1),c=Va(c,f,1),f=Kr(),c!==null&&(Ec(c,1,f),on(c,f))}function Ft(c,f,x){if(c.tag===3)RP(c,c,x);else for(;f!==null;){if(f.tag===3){RP(f,c,x);break}else if(f.tag===1){var j=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ha===null||!Ha.has(j))){c=Yo(x,c),c=Zk(f,c,1),f=Va(f,c,1),c=Kr(),f!==null&&(Ec(f,1,c),on(f,c));break}}f=f.return}}function dB(c,f,x){var j=c.pingCache;j!==null&&j.delete(f),f=Kr(),c.pingedLanes|=c.suspendedLanes&x,lr===c&&(xr&x)===x&&(Jt===4||Jt===3&&(xr&130023424)===xr&&500>Bt()-og?Ds(c,0):sg|=x),on(c,f)}function DP(c,f){f===0&&((c.mode&1)===0?f=1:(f=bf,bf<<=1,(bf&130023424)===0&&(bf=4194304)));var x=Kr();c=Ji(c,f),c!==null&&(Ec(c,f,x),on(c,x))}function fB(c){var f=c.memoizedState,x=0;f!==null&&(x=f.retryLane),DP(c,x)}function hB(c,f){var x=0;switch(c.tag){case 13:var j=c.stateNode,N=c.memoizedState;N!==null&&(x=N.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(f),DP(c,x)}var IP;IP=function(c,f,x){if(c!==null)if(c.memoizedProps!==f.pendingProps||rn.current)an=!0;else{if((c.lanes&x)===0&&(f.flags&128)===0)return an=!1,eB(c,f,x);an=(c.flags&131072)!==0}else an=!1,Et&&(f.flags&1048576)!==0&&pk(f,Bf,f.index);switch(f.lanes=0,f.tag){case 2:var j=f.type;nh(c,f),c=f.pendingProps;var N=qo(f,Cr.current);Ko(f,x),N=F0(null,f,j,c,N,x);var C=L0();return f.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,nn(j)?(C=!0,Lf(f)):C=!1,f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,T0(f),N.updater=th,f.stateNode=N,N._reactInternals=f,W0(f,j,c,x),f=Y0(null,f,j,!0,C,x)):(f.tag=0,Et&&C&&j0(f),Hr(null,f,N,x),f=f.child),f;case 16:j=f.elementType;e:{switch(nh(c,f),c=f.pendingProps,N=j._init,j=N(j._payload),f.type=j,N=f.tag=pB(j),c=ai(j,c),N){case 0:f=G0(null,f,j,c,x);break e;case 1:f=lP(null,f,j,c,x);break e;case 11:f=nP(null,f,j,c,x);break e;case 14:f=iP(null,f,j,ai(j.type,c),x);break e}throw Error(r(306,j,""))}return f;case 0:return j=f.type,N=f.pendingProps,N=f.elementType===j?N:ai(j,N),G0(c,f,j,N,x);case 1:return j=f.type,N=f.pendingProps,N=f.elementType===j?N:ai(j,N),lP(c,f,j,N,x);case 3:e:{if(cP(f),c===null)throw Error(r(387));j=f.pendingProps,C=f.memoizedState,N=C.element,_k(c,f),Gf(f,j,null,x);var A=f.memoizedState;if(j=A.element,C.isDehydrated)if(C={element:j,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){N=Yo(Error(r(423)),f),f=uP(c,f,j,x,N);break e}else if(j!==N){N=Yo(Error(r(424)),f),f=uP(c,f,j,x,N);break e}else for(vn=La(f.stateNode.containerInfo.firstChild),yn=f,Et=!0,ii=null,x=wk(f,null,j,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Vo(),j===N){f=ea(c,f,x);break e}Hr(c,f,j,x)}f=f.child}return f;case 5:return Pk(f),c===null&&_0(f),j=f.type,N=f.pendingProps,C=c!==null?c.memoizedProps:null,A=N.children,p0(j,N)?A=null:C!==null&&p0(j,C)&&(f.flags|=32),oP(c,f),Hr(c,f,A,x),f.child;case 6:return c===null&&_0(f),null;case 13:return dP(c,f,x);case 4:return A0(f,f.stateNode.containerInfo),j=f.pendingProps,c===null?f.child=Wo(f,null,j,x):Hr(c,f,j,x),f.child;case 11:return j=f.type,N=f.pendingProps,N=f.elementType===j?N:ai(j,N),nP(c,f,j,N,x);case 7:return Hr(c,f,f.pendingProps,x),f.child;case 8:return Hr(c,f,f.pendingProps.children,x),f.child;case 12:return Hr(c,f,f.pendingProps.children,x),f.child;case 10:e:{if(j=f.type._context,N=f.pendingProps,C=f.memoizedProps,A=N.value,bt(Wf,j._currentValue),j._currentValue=A,C!==null)if(ni(C.value,A)){if(C.children===N.children&&!rn.current){f=ea(c,f,x);break e}}else for(C=f.child,C!==null&&(C.return=f);C!==null;){var U=C.dependencies;if(U!==null){A=C.child;for(var G=U.firstContext;G!==null;){if(G.context===j){if(C.tag===1){G=Zi(-1,x&-x),G.tag=2;var te=C.updateQueue;if(te!==null){te=te.shared;var ce=te.pending;ce===null?G.next=G:(G.next=ce.next,ce.next=G),te.pending=G}}C.lanes|=x,G=C.alternate,G!==null&&(G.lanes|=x),E0(C.return,x,f),U.lanes|=x;break}G=G.next}}else if(C.tag===10)A=C.type===f.type?null:C.child;else if(C.tag===18){if(A=C.return,A===null)throw Error(r(341));A.lanes|=x,U=A.alternate,U!==null&&(U.lanes|=x),E0(A,x,f),A=C.sibling}else A=C.child;if(A!==null)A.return=C;else for(A=C;A!==null;){if(A===f){A=null;break}if(C=A.sibling,C!==null){C.return=A.return,A=C;break}A=A.return}C=A}Hr(c,f,N.children,x),f=f.child}return f;case 9:return N=f.type,j=f.pendingProps.children,Ko(f,x),N=Mn(N),j=j(N),f.flags|=1,Hr(c,f,j,x),f.child;case 14:return j=f.type,N=ai(j,f.pendingProps),N=ai(j.type,N),iP(c,f,j,N,x);case 15:return aP(c,f,f.type,f.pendingProps,x);case 17:return j=f.type,N=f.pendingProps,N=f.elementType===j?N:ai(j,N),nh(c,f),f.tag=1,nn(j)?(c=!0,Lf(f)):c=!1,Ko(f,x),Qk(f,j,N),W0(f,j,N,x),Y0(null,f,j,!0,c,x);case 19:return hP(c,f,x);case 22:return sP(c,f,x)}throw Error(r(156,f.tag))};function $P(c,f){return xS(c,f)}function mB(c,f,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(c,f,x,j){return new mB(c,f,x,j)}function pg(c){return c=c.prototype,!(!c||!c.isReactComponent)}function pB(c){if(typeof c=="function")return pg(c)?1:0;if(c!=null){if(c=c.$$typeof,c===q)return 11;if(c===W)return 14}return 2}function Qa(c,f){var x=c.alternate;return x===null?(x=In(c.tag,f,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=f,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,f=c.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function mh(c,f,x,j,N,C){var A=2;if(j=c,typeof c=="function")pg(c)&&(A=1);else if(typeof c=="string")A=5;else e:switch(c){case T:return $s(x.children,N,C,f);case D:A=8,N|=8;break;case L:return c=In(12,x,f,N|2),c.elementType=L,c.lanes=C,c;case H:return c=In(13,x,f,N),c.elementType=H,c.lanes=C,c;case K:return c=In(19,x,f,N),c.elementType=K,c.lanes=C,c;case Q:return ph(x,N,C,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case M:A=10;break e;case F:A=9;break e;case q:A=11;break e;case W:A=14;break e;case $:A=16,j=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return f=In(A,x,f,N),f.elementType=c,f.type=j,f.lanes=C,f}function $s(c,f,x,j){return c=In(7,c,j,f),c.lanes=x,c}function ph(c,f,x,j){return c=In(22,c,j,f),c.elementType=Q,c.lanes=x,c.stateNode={isHidden:!1},c}function xg(c,f,x){return c=In(6,c,null,f),c.lanes=x,c}function gg(c,f,x){return f=In(4,c.children!==null?c.children:[],c.key,f),f.lanes=x,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function xB(c,f,x,j,N){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vx(0),this.expirationTimes=Vx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vx(0),this.identifierPrefix=j,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function yg(c,f,x,j,N,C,A,U,G){return c=new xB(c,f,x,U,G),f===1?(f=1,C===!0&&(f|=8)):f=0,C=In(3,null,null,f),c.current=C,C.stateNode=c,C.memoizedState={element:j,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(C),c}function gB(c,f,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:j==null?null:""+j,children:c,containerInfo:f,implementation:x}}function FP(c){if(!c)return qa;c=c._reactInternals;e:{if(Ss(c)!==c||c.tag!==1)throw Error(r(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(nn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(c.tag===1){var x=c.type;if(nn(x))return fk(c,x,f)}return f}function LP(c,f,x,j,N,C,A,U,G){return c=yg(x,j,!0,c,N,C,A,U,G),c.context=FP(null),x=c.current,j=Kr(),N=Ga(x),C=Zi(j,N),C.callback=f??null,Va(x,C,N),c.current.lanes=N,Ec(c,N,j),on(c,j),c}function xh(c,f,x,j){var N=f.current,C=Kr(),A=Ga(N);return x=FP(x),f.context===null?f.context=x:f.pendingContext=x,f=Zi(C,A),f.payload={element:c},j=j===void 0?null:j,j!==null&&(f.callback=j),c=Va(N,f,A),c!==null&&(li(c,N,A,C),Kf(c,N,A)),A}function gh(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function zP(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<f?x:f}}function vg(c,f){zP(c,f),(c=c.alternate)&&zP(c,f)}function yB(){return null}var qP=typeof reportError=="function"?reportError:function(c){console.error(c)};function bg(c){this._internalRoot=c}yh.prototype.render=bg.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));xh(c,f,null,null)},yh.prototype.unmount=bg.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;Rs(function(){xh(null,c,null,null)}),f[Gi]=null}};function yh(c){this._internalRoot=c}yh.prototype.unstable_scheduleHydration=function(c){if(c){var f=_S();c={blockedOn:null,target:c,priority:f};for(var x=0;x<Ia.length&&f!==0&&f<Ia[x].priority;x++);Ia.splice(x,0,c),x===0&&PS(c)}};function jg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function vh(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function BP(){}function vB(c,f,x,j,N){if(N){if(typeof j=="function"){var C=j;j=function(){var te=gh(A);C.call(te)}}var A=LP(f,j,c,0,null,!1,!1,"",BP);return c._reactRootContainer=A,c[Gi]=A.current,Uc(c.nodeType===8?c.parentNode:c),Rs(),A}for(;N=c.lastChild;)c.removeChild(N);if(typeof j=="function"){var U=j;j=function(){var te=gh(G);U.call(te)}}var G=yg(c,0,!1,null,null,!1,!1,"",BP);return c._reactRootContainer=G,c[Gi]=G.current,Uc(c.nodeType===8?c.parentNode:c),Rs(function(){xh(f,G,x,j)}),G}function bh(c,f,x,j,N){var C=x._reactRootContainer;if(C){var A=C;if(typeof N=="function"){var U=N;N=function(){var G=gh(A);U.call(G)}}xh(f,A,c,N)}else A=vB(x,f,c,N,j);return gh(A)}wS=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var x=Cc(f.pendingLanes);x!==0&&(Wx(f,x|1),on(f,Bt()),(nt&6)===0&&(Jo=Bt()+500,Ba()))}break;case 13:Rs(function(){var j=Ji(c,1);if(j!==null){var N=Kr();li(j,c,1,N)}}),vg(c,1)}},Hx=function(c){if(c.tag===13){var f=Ji(c,134217728);if(f!==null){var x=Kr();li(f,c,134217728,x)}vg(c,134217728)}},NS=function(c){if(c.tag===13){var f=Ga(c),x=Ji(c,f);if(x!==null){var j=Kr();li(x,c,f,j)}vg(c,f)}},_S=function(){return dt},SS=function(c,f){var x=dt;try{return dt=c,f()}finally{dt=x}},To=function(c,f,x){switch(f){case"input":if(Tt(c,x),f=x.name,x.type==="radio"&&f!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<x.length;f++){var j=x[f];if(j!==c&&j.form===c.form){var N=$f(j);if(!N)throw Error(r(90));oe(j),Tt(j,N)}}}break;case"textarea":Hi(c,x);break;case"select":f=x.value,f!=null&&$t(c,!!x.multiple,f,!1)}},st=fg,gt=Rs;var bB={usingClientEntryPoint:!1,Events:[Hc,Lo,$f,mf,ze,fg]},su={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jB={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=mS(c),c===null?null:c.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||yB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{yf=jh.inject(jB),Si=jh}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bB,ln.createPortal=function(c,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jg(f))throw Error(r(200));return gB(c,f,null,x)},ln.createRoot=function(c,f){if(!jg(c))throw Error(r(299));var x=!1,j="",N=qP;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onRecoverableError!==void 0&&(N=f.onRecoverableError)),f=yg(c,1,!1,null,null,x,!1,j,N),c[Gi]=f.current,Uc(c.nodeType===8?c.parentNode:c),new bg(f)},ln.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=mS(f),c=c===null?null:c.stateNode,c},ln.flushSync=function(c){return Rs(c)},ln.hydrate=function(c,f,x){if(!vh(f))throw Error(r(200));return bh(null,c,f,!0,x)},ln.hydrateRoot=function(c,f,x){if(!jg(c))throw Error(r(405));var j=x!=null&&x.hydratedSources||null,N=!1,C="",A=qP;if(x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(C=x.identifierPrefix),x.onRecoverableError!==void 0&&(A=x.onRecoverableError)),f=LP(f,null,c,1,x??null,N,!1,C,A),c[Gi]=f.current,Uc(c),j)for(c=0;c<j.length;c++)x=j[c],N=x._getVersion,N=N(x._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[x,N]:f.mutableSourceEagerHydrationData.push(x,N);return new yh(f)},ln.render=function(c,f,x){if(!vh(f))throw Error(r(200));return bh(null,c,f,!1,x)},ln.unmountComponentAtNode=function(c){if(!vh(c))throw Error(r(40));return c._reactRootContainer?(Rs(function(){bh(null,null,c,!1,function(){c._reactRootContainer=null,c[Gi]=null})}),!0):!1},ln.unstable_batchedUpdates=fg,ln.unstable_renderSubtreeIntoContainer=function(c,f,x,j){if(!vh(x))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return bh(c,f,x,!1,j)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var QP;function eD(){if(QP)return _g.exports;QP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_g.exports=OB(),_g.exports}var XP;function TB(){if(XP)return Nh;XP=1;var e=eD();return Nh.createRoot=e.createRoot,Nh.hydrateRoot=e.hydrateRoot,Nh}var AB=TB();const MB=ot(AB);var RB=eD();const DB=ot(RB);function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(this,arguments)}var as;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(as||(as={}));const JP="popstate";function IB(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return vw("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hm(a)}return FB(t,r,null,e)}function It(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $B(){return Math.random().toString(36).substr(2,8)}function ZP(e,t){return{usr:e.state,key:e.key,idx:t}}function vw(e,t,r,n){return r===void 0&&(r=null),Ku({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oc(t):t,{state:r,key:t&&t.key||n||$B()})}function hm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function FB(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=as.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(Ku({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=as.Pop;let b=h(),w=b==null?null:b-d;d=b,u&&u({action:l,location:v.location,delta:w})}function p(b,w){l=as.Push;let S=vw(v.location,b,w);d=h()+1;let k=ZP(S,d),E=v.createHref(S);try{o.pushState(k,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(E)}s&&u&&u({action:l,location:v.location,delta:1})}function g(b,w){l=as.Replace;let S=vw(v.location,b,w);d=h();let k=ZP(S,d),E=v.createHref(S);o.replaceState(k,"",E),s&&u&&u({action:l,location:v.location,delta:0})}function y(b){let w=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof b=="string"?b:hm(b);return S=S.replace(/ $/,"%20"),It(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let v={get action(){return l},get location(){return e(a,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(JP,m),u=b,()=>{a.removeEventListener(JP,m),u=null}},createHref(b){return t(a,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return o.go(b)}};return v}var e4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(e4||(e4={}));function LB(e,t,r){return r===void 0&&(r="/"),zB(e,t,r)}function zB(e,t,r,n){let a=typeof t=="string"?oc(t):t,s=Tl(a.pathname||"/",r);if(s==null)return null;let o=rD(e);qB(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=JB(s);l=QB(o[u],d)}return l}function rD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(It(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=ls([n,u.relativePath]),h=r.concat(u);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),rD(s.children,t,h,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:GB(d,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of nD(s.path))a(s,o,u)}),t}function nD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=nD(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function qB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const BB=/^:[\w-]+$/,UB=3,VB=2,WB=1,HB=10,KB=-2,t4=e=>e==="*";function GB(e,t){let r=e.split("/"),n=r.length;return r.some(t4)&&(n+=KB),t&&(n+=VB),r.filter(a=>!t4(a)).reduce((a,s)=>a+(BB.test(s)?UB:s===""?WB:HB),n)}function YB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function QB(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",m=bw({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:ls([s,m.pathname]),pathnameBase:rU(ls([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=ls([s,m.pathnameBase]))}return o}function bw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=XB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,h,m)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let v=l[m]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[m];return g&&!y?d[p]=void 0:d[p]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function XB(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function JB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ZB(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?oc(e):e;return{pathname:r?r.startsWith("/")?r:eU(r,t):t,search:nU(n),hash:iU(a)}}function eU(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Pg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function FN(e,t){let r=tU(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function LN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=oc(e):(a=Ku({},e),It(!a.pathname||!a.pathname.includes("?"),Pg("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),Pg("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),Pg("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let u=ZB(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const ls=e=>e.join("/").replace(/\/\/+/g,"/"),rU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iD=["post","put","patch","delete"];new Set(iD);const sU=["get",...iD];new Set(sU);function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(this,arguments)}const Tp=O.createContext(null),aD=O.createContext(null),Sa=O.createContext(null),Ap=O.createContext(null),xs=O.createContext({outlet:null,matches:[],isDataRoute:!1}),sD=O.createContext(null);function oU(e,t){let{relative:r}=t===void 0?{}:t;lc()||It(!1);let{basename:n,navigator:a}=O.useContext(Sa),{hash:s,pathname:o,search:l}=Rp(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:ls([n,o])),a.createHref({pathname:u,search:l,hash:s})}function lc(){return O.useContext(Ap)!=null}function cc(){return lc()||It(!1),O.useContext(Ap).location}function oD(e){O.useContext(Sa).static||O.useLayoutEffect(e)}function Mp(){let{isDataRoute:e}=O.useContext(xs);return e?bU():lU()}function lU(){lc()||It(!1);let e=O.useContext(Tp),{basename:t,future:r,navigator:n}=O.useContext(Sa),{matches:a}=O.useContext(xs),{pathname:s}=cc(),o=JSON.stringify(FN(a,r.v7_relativeSplatPath)),l=O.useRef(!1);return oD(()=>{l.current=!0}),O.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=LN(d,JSON.parse(o),s,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ls([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,o,s,e])}function Rp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Sa),{matches:a}=O.useContext(xs),{pathname:s}=cc(),o=JSON.stringify(FN(a,n.v7_relativeSplatPath));return O.useMemo(()=>LN(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function cU(e,t){return uU(e,t)}function uU(e,t,r,n){lc()||It(!1);let{navigator:a}=O.useContext(Sa),{matches:s}=O.useContext(xs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=cc(),h;if(t){var m;let b=typeof t=="string"?oc(t):t;u==="/"||(m=b.pathname)!=null&&m.startsWith(u)||It(!1),h=b}else h=d;let p=h.pathname||"/",g=p;if(u!=="/"){let b=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=LB(e,{pathname:g}),v=pU(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ls([u,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:ls([u,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return t&&v?O.createElement(Ap.Provider,{value:{location:Gu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:as.Pop}},v):v}function dU(){let e=vU(),t=aU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:a},r):null,null)}const fU=O.createElement(dU,null);class hU extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(xs.Provider,{value:this.props.routeContext},O.createElement(sD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mU(e){let{routeContext:t,match:r,children:n}=e,a=O.useContext(Tp);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(xs.Provider,{value:t},n)}function pU(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);h>=0||It(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:g}=r,y=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||y){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,p)=>{let g,y=!1,v=null,b=null;r&&(g=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||fU,u&&(d<0&&p===0?(jU("route-fallback"),y=!0,b=null):d===p&&(y=!0,b=m.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,p+1)),S=()=>{let k;return g?k=v:y?k=b:m.route.Component?k=O.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=h,O.createElement(mU,{match:m,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?O.createElement(hU,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var lD=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(lD||{}),cD=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(cD||{});function xU(e){let t=O.useContext(Tp);return t||It(!1),t}function gU(e){let t=O.useContext(aD);return t||It(!1),t}function yU(e){let t=O.useContext(xs);return t||It(!1),t}function uD(e){let t=yU(),r=t.matches[t.matches.length-1];return r.route.id||It(!1),r.route.id}function vU(){var e;let t=O.useContext(sD),r=gU(),n=uD();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function bU(){let{router:e}=xU(lD.UseNavigateStable),t=uD(cD.UseNavigateStable),r=O.useRef(!1);return oD(()=>{r.current=!0}),O.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gu({fromRouteId:t},s)))},[e,t])}const r4={};function jU(e,t,r){r4[e]||(r4[e]=!0)}function wU(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Ar(e){let{to:t,replace:r,state:n,relative:a}=e;lc()||It(!1);let{future:s,static:o}=O.useContext(Sa),{matches:l}=O.useContext(xs),{pathname:u}=cc(),d=Mp(),h=LN(t,FN(l,s.v7_relativeSplatPath),u,a==="path"),m=JSON.stringify(h);return O.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:a}),[d,m,a,r,n]),null}function et(e){It(!1)}function NU(e){let{basename:t="/",children:r=null,location:n,navigationType:a=as.Pop,navigator:s,static:o=!1,future:l}=e;lc()&&It(!1);let u=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:u,navigator:s,static:o,future:Gu({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof n=="string"&&(n=oc(n));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:y="default"}=n,v=O.useMemo(()=>{let b=Tl(h,u);return b==null?null:{location:{pathname:b,search:m,hash:p,state:g,key:y},navigationType:a}},[u,h,m,p,g,y,a]);return v==null?null:O.createElement(Sa.Provider,{value:d},O.createElement(Ap.Provider,{children:r,value:v}))}function zN(e){let{children:t,location:r}=e;return cU(jw(t),r)}new Promise(()=>{});function jw(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,a)=>{if(!O.isValidElement(n))return;let s=[...t,a];if(n.type===O.Fragment){r.push.apply(r,jw(n.props.children,s));return}n.type!==et&&It(!1),!n.props.index||!n.props.children||It(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=jw(n.props.children,s)),r.push(o)}),r}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(this,arguments)}function dD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _U(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SU(e,t){return e.button===0&&(!t||t==="_self")&&!_U(e)}const kU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],CU="6";try{window.__reactRouterVersion=CU}catch{}const EU=O.createContext({isTransitioning:!1}),OU="startTransition",n4=PB[OU];function TU(e){let{basename:t,children:r,future:n,window:a}=e,s=O.useRef();s.current==null&&(s.current=IB({window:a,v5Compat:!0}));let o=s.current,[l,u]=O.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=O.useCallback(m=>{d&&n4?n4(()=>u(m)):u(m)},[u,d]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.useEffect(()=>wU(n),[n]),O.createElement(NU,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const AU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RU=O.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=t,p=dD(t,kU),{basename:g}=O.useContext(Sa),y,v=!1;if(typeof d=="string"&&MU.test(d)&&(y=d,AU))try{let k=new URL(window.location.href),E=d.startsWith("//")?new URL(k.protocol+d):new URL(d),P=Tl(E.pathname,g);E.origin===k.origin&&P!=null?d=P+E.search+E.hash:v=!0}catch{}let b=oU(d,{relative:a}),w=IU(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:m});function S(k){n&&n(k),k.defaultPrevented||w(k)}return O.createElement("a",mm({},p,{href:y||b,onClick:v||s?n:S,ref:r,target:u}))}),qN=O.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:d,children:h}=t,m=dD(t,PU),p=Rp(u,{relative:m.relative}),g=cc(),y=O.useContext(aD),{navigator:v,basename:b}=O.useContext(Sa),w=y!=null&&$U(p)&&d===!0,S=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,k=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(k=k.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&b&&(E=Tl(E,b)||E);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let _=k===S||!o&&k.startsWith(S)&&k.charAt(P)==="/",T=E!=null&&(E===S||!o&&E.startsWith(S)&&E.charAt(S.length)==="/"),D={isActive:_,isPending:T,isTransitioning:w},L=_?n:void 0,M;typeof s=="function"?M=s(D):M=[s,_?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(D):l;return O.createElement(RU,mm({},m,{"aria-current":L,className:M,ref:r,style:F,to:u,viewTransition:d}),typeof h=="function"?h(D):h)});var ww;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ww||(ww={}));var i4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(i4||(i4={}));function DU(e){let t=O.useContext(Tp);return t||It(!1),t}function IU(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,u=Mp(),d=cc(),h=Rp(e,{relative:o});return O.useCallback(m=>{if(SU(m,r)){m.preventDefault();let p=n!==void 0?n:hm(d)===hm(h);u(e,{replace:p,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,h,n,a,r,e,s,o,l])}function $U(e,t){t===void 0&&(t={});let r=O.useContext(EU);r==null&&It(!1);let{basename:n}=DU(ww.useViewTransitionState),a=Rp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Tl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Tl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return bw(a.pathname,o)!=null||bw(a.pathname,s)!=null}let FU={data:""},LU=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||FU},zU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qU=/\/\*[^]*?\*\/|  +/g,a4=/\n+/g,ns=(e,t)=>{let r="",n="",a="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?ns(o,s):s+"{"+ns(o,s[1]=="k"?"":t)+"}":typeof o=="object"?n+=ns(o,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ns.p?ns.p(s,o):s+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},ra={},fD=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+fD(e[r]);return t}return e},BU=(e,t,r,n,a)=>{let s=fD(e),o=ra[s]||(ra[s]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(s));if(!ra[o]){let u=s!==e?e:(d=>{let h,m,p=[{}];for(;h=zU.exec(d.replace(qU,""));)h[4]?p.shift():h[3]?(m=h[3].replace(a4," ").trim(),p.unshift(p[0][m]=p[0][m]||{})):p[0][h[1]]=h[2].replace(a4," ").trim();return p[0]})(e);ra[o]=ns(a?{["@keyframes "+o]:u}:u,r?"":"."+o)}let l=r&&ra.g?ra.g:null;return r&&(ra.g=ra[o]),((u,d,h,m)=>{m?d.data=d.data.replace(m,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(ra[o],t,n,l),o},UU=(e,t,r)=>e.reduce((n,a,s)=>{let o=t[s];if(o&&o.call){let l=o(r),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":ns(l,""):l===!1?"":l}return n+a+(o??"")},"");function Dp(e){let t=this||{},r=e.call?e(t.p):e;return BU(r.unshift?r.raw?UU(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,LU(t.target),t.g,t.o,t.k)}let hD,Nw,_w;Dp.bind({g:1});let pa=Dp.bind({k:1});function VU(e,t,r,n){ns.p=t,hD=e,Nw=r,_w=n}function gs(e,t){let r=this||{};return function(){let n=arguments;function a(s,o){let l=Object.assign({},s),u=l.className||a.className;r.p=Object.assign({theme:Nw&&Nw()},l),r.o=/ *go\d+/.test(u),l.className=Dp.apply(r,n)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),_w&&d[0]&&_w(l),hD(d,l)}return a}}var WU=e=>typeof e=="function",pm=(e,t)=>WU(e)?e(t):e,HU=(()=>{let e=0;return()=>(++e).toString()})(),mD=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),KU=20,BN="default",pD=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return pD(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},im=[],xD={toasts:[],pausedAt:void 0,settings:{toastLimit:KU}},Mi={},gD=(e,t=BN)=>{Mi[t]=pD(Mi[t]||xD,e),im.forEach(([r,n])=>{r===t&&n(Mi[t])})},yD=e=>Object.keys(Mi).forEach(t=>gD(e,t)),GU=e=>Object.keys(Mi).find(t=>Mi[t].toasts.some(r=>r.id===e)),Ip=(e=BN)=>t=>{gD(t,e)},YU={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},QU=(e={},t=BN)=>{let[r,n]=O.useState(Mi[t]||xD),a=O.useRef(Mi[t]);O.useEffect(()=>(a.current!==Mi[t]&&n(Mi[t]),im.push([t,n]),()=>{let o=im.findIndex(([l])=>l===t);o>-1&&im.splice(o,1)}),[t]);let s=r.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||YU[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...r,toasts:s}},XU=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||HU()}),qd=e=>(t,r)=>{let n=XU(t,e,r);return Ip(n.toasterId||GU(n.id))({type:2,toast:n}),n.id},rr=(e,t)=>qd("blank")(e,t);rr.error=qd("error");rr.success=qd("success");rr.loading=qd("loading");rr.custom=qd("custom");rr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Ip(t)(r):yD(r)};rr.dismissAll=e=>rr.dismiss(void 0,e);rr.remove=(e,t)=>{let r={type:4,toastId:e};t?Ip(t)(r):yD(r)};rr.removeAll=e=>rr.remove(void 0,e);rr.promise=(e,t,r)=>{let n=rr.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=t.success?pm(t.success,a):void 0;return s?rr.success(s,{id:n,...r,...r?.success}):rr.dismiss(n),a}).catch(a=>{let s=t.error?pm(t.error,a):void 0;s?rr.error(s,{id:n,...r,...r?.error}):rr.dismiss(n)}),e};var JU=1e3,ZU=(e,t="default")=>{let{toasts:r,pausedAt:n}=QU(e,t),a=O.useRef(new Map).current,s=O.useCallback((m,p=JU)=>{if(a.has(m))return;let g=setTimeout(()=>{a.delete(m),o({type:4,toastId:m})},p);a.set(m,g)},[]);O.useEffect(()=>{if(n)return;let m=Date.now(),p=r.map(g=>{if(g.duration===1/0)return;let y=(g.duration||0)+g.pauseDuration-(m-g.createdAt);if(y<0){g.visible&&rr.dismiss(g.id);return}return setTimeout(()=>rr.dismiss(g.id,t),y)});return()=>{p.forEach(g=>g&&clearTimeout(g))}},[r,n,t]);let o=O.useCallback(Ip(t),[t]),l=O.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=O.useCallback((m,p)=>{o({type:1,toast:{id:m,height:p}})},[o]),d=O.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),h=O.useCallback((m,p)=>{let{reverseOrder:g=!1,gutter:y=8,defaultPosition:v}=p||{},b=r.filter(k=>(k.position||v)===(m.position||v)&&k.height),w=b.findIndex(k=>k.id===m.id),S=b.filter((k,E)=>E<w&&k.visible).length;return b.filter(k=>k.visible).slice(...g?[S+1]:[0,S]).reduce((k,E)=>k+(E.height||0)+y,0)},[r]);return O.useEffect(()=>{r.forEach(m=>{if(m.dismissed)s(m.id,m.removeDelay);else{let p=a.get(m.id);p&&(clearTimeout(p),a.delete(m.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},e9=pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,t9=pa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r9=pa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,n9=gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${t9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${r9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,i9=pa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,a9=gs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${i9} 1s linear infinite;
`,s9=pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,o9=pa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,l9=gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${o9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,c9=gs("div")`
  position: absolute;
`,u9=gs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,d9=pa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f9=gs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${d9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,h9=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?O.createElement(f9,null,t):t:r==="blank"?null:O.createElement(u9,null,O.createElement(a9,{...n}),r!=="loading"&&O.createElement(c9,null,r==="error"?O.createElement(n9,{...n}):O.createElement(l9,{...n})))},m9=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,p9=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,x9="0%{opacity:0;} 100%{opacity:1;}",g9="0%{opacity:1;} 100%{opacity:0;}",y9=gs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,v9=gs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,b9=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=mD()?[x9,g9]:[m9(r),p9(r)];return{animation:t?`${pa(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pa(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},j9=O.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?b9(e.position||t||"top-center",e.visible):{opacity:0},s=O.createElement(h9,{toast:e}),o=O.createElement(v9,{...e.ariaProps},pm(e.message,e));return O.createElement(y9,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:s,message:o}):O.createElement(O.Fragment,null,s,o))});VU(O.createElement);var w9=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let s=O.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;n(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return O.createElement("div",{ref:s,className:t,style:r},a)},N9=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},_9=Dp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_h=16,S9=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:s,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=ZU(r,s);return O.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:_h,left:_h,right:_h,bottom:_h,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let m=h.position||t,p=d.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),g=N9(m,p);return O.createElement(w9,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?_9:"",style:g},h.type==="custom"?pm(h.message,h):a?a(h):O.createElement(j9,{toast:h,position:m}))}))},qt=rr;const UN=O.createContext({});function VN(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const $p=O.createContext(null),WN=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class k9 extends O.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function P9({children:e,isPresent:t}){const r=O.useId(),n=O.useRef(null),a=O.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=O.useContext(WN);return O.useInsertionEffect(()=>{const{width:o,height:l,top:u,left:d}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),i.jsx(k9,{isPresent:t,childRef:n,sizeRef:a,children:O.cloneElement(e,{ref:n})})}const C9=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o})=>{const l=VN(E9),u=O.useId(),d=O.useCallback(m=>{l.set(m,!0);for(const p of l.values())if(!p)return;n&&n()},[l,n]),h=O.useMemo(()=>({id:u,initial:t,isPresent:r,custom:a,onExitComplete:d,register:m=>(l.set(m,!1),()=>l.delete(m))}),s?[Math.random(),d]:[r,d]);return O.useMemo(()=>{l.forEach((m,p)=>l.set(p,!1))},[r]),O.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=i.jsx(P9,{isPresent:r,children:e})),i.jsx($p.Provider,{value:h,children:e})};function E9(){return new Map}function vD(e=!0){const t=O.useContext($p);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=O.useId();O.useEffect(()=>{e&&a(s)},[e]);const o=O.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const Sh=e=>e.key||"";function s4(e){const t=[];return O.Children.forEach(e,r=>{O.isValidElement(r)&&t.push(r)}),t}const HN=typeof window<"u",bD=HN?O.useLayoutEffect:O.useEffect,pt=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1})=>{const[l,u]=vD(o),d=O.useMemo(()=>s4(e),[e]),h=o&&!l?[]:d.map(Sh),m=O.useRef(!0),p=O.useRef(d),g=VN(()=>new Map),[y,v]=O.useState(d),[b,w]=O.useState(d);bD(()=>{m.current=!1,p.current=d;for(let E=0;E<b.length;E++){const P=Sh(b[E]);h.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[b,h.length,h.join("-")]);const S=[];if(d!==y){let E=[...d];for(let P=0;P<b.length;P++){const _=b[P],T=Sh(_);h.includes(T)||(E.splice(P,0,_),S.push(_))}s==="wait"&&S.length&&(E=S),w(s4(E)),v(d);return}const{forceRender:k}=O.useContext(UN);return i.jsx(i.Fragment,{children:b.map(E=>{const P=Sh(E),_=o&&!l?!1:d===b||h.includes(P),T=()=>{if(g.has(P))g.set(P,!0);else return;let D=!0;g.forEach(L=>{L||(D=!1)}),D&&(k?.(),w(p.current),o&&u?.(),n&&n())};return i.jsx(C9,{isPresent:_,initial:!m.current||r?void 0:!1,custom:_?void 0:t,presenceAffectsLayout:a,mode:s,onExitComplete:_?void 0:T,children:E},P)})})},Sn=e=>e;let jD=Sn;function KN(e){let t;return()=>(t===void 0&&(t=e()),t)}const Al=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},ca=e=>e*1e3,ua=e=>e/1e3,O9={useManualTiming:!1};function T9(e){let t=new Set,r=new Set,n=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){s.has(d)&&(u.schedule(d),e()),d(o)}const u={schedule:(d,h=!1,m=!1)=>{const g=m&&n?t:r;return h&&s.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),s.delete(d)},process:d=>{if(o=d,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,u.process(d))}};return u}const kh=["read","resolveKeyframes","update","preRender","render","postRender"],A9=40;function wD(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=kh.reduce((w,S)=>(w[S]=T9(s),w),{}),{read:l,resolveKeyframes:u,update:d,preRender:h,render:m,postRender:p}=o,g=()=>{const w=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,A9),1),a.timestamp=w,a.isProcessing=!0,l.process(a),u.process(a),d.process(a),h.process(a),m.process(a),p.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},y=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:kh.reduce((w,S)=>{const k=o[S];return w[S]=(E,P=!1,_=!1)=>(r||y(),k.schedule(E,P,_)),w},{}),cancel:w=>{for(let S=0;S<kh.length;S++)o[kh[S]].cancel(w)},state:a,steps:o}}const{schedule:Pt,cancel:hs,state:yr,steps:Cg}=wD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sn,!0),ND=O.createContext({strict:!1}),o4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ml={};for(const e in o4)Ml[e]={isEnabled:t=>o4[e].some(r=>!!t[r])};function M9(e){for(const t in e)Ml[t]={...Ml[t],...e[t]}}const R9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||R9.has(e)}let _D=e=>!xm(e);function D9(e){e&&(_D=t=>t.startsWith("on")?!xm(t):e(t))}try{D9(require("@emotion/is-prop-valid").default)}catch{}function I9(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(_D(a)||r===!0&&xm(a)||!t&&!xm(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function $9(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Fp=O.createContext({});function Yu(e){return typeof e=="string"||Array.isArray(e)}function Lp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const GN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YN=["initial",...GN];function zp(e){return Lp(e.animate)||YN.some(t=>Yu(e[t]))}function SD(e){return!!(zp(e)||e.variants)}function F9(e,t){if(zp(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Yu(r)?r:void 0,animate:Yu(n)?n:void 0}}return e.inherit!==!1?t:{}}function L9(e){const{initial:t,animate:r}=F9(e,O.useContext(Fp));return O.useMemo(()=>({initial:t,animate:r}),[l4(t),l4(r)])}function l4(e){return Array.isArray(e)?e.join(" "):e}const z9=Symbol.for("motionComponentSymbol");function pl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function q9(e,t,r){return O.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):pl(r)&&(r.current=n))},[t])}const QN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B9="framerAppearId",kD="data-"+QN(B9),{schedule:XN}=wD(queueMicrotask,!1),PD=O.createContext({});function U9(e,t,r,n,a){var s,o;const{visualElement:l}=O.useContext(Fp),u=O.useContext(ND),d=O.useContext($p),h=O.useContext(WN).reducedMotion,m=O.useRef(null);n=n||u.renderer,!m.current&&n&&(m.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,g=O.useContext(PD);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&V9(m.current,r,a,g);const y=O.useRef(!1);O.useInsertionEffect(()=>{p&&y.current&&p.update(r,d)});const v=r[kD],b=O.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return bD(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),XN.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),O.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,v)}),b.current=!1))}),p}function V9(e,t,r,n){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:CD(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&pl(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:d})}function CD(e){if(e)return e.options.allowProjection!==!1?e.projection:CD(e.parent)}function W9({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){var s,o;e&&M9(e);function l(d,h){let m;const p={...O.useContext(WN),...d,layoutId:H9(d)},{isStatic:g}=p,y=L9(d),v=n(d,g);if(!g&&HN){K9();const b=G9(p);m=b.MeasureLayout,y.visualElement=U9(a,v,p,t,b.ProjectionNode)}return i.jsxs(Fp.Provider,{value:y,children:[m&&y.visualElement?i.jsx(m,{visualElement:y.visualElement,...p}):null,r(a,d,q9(v,y.visualElement,h),v,g,y.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(s=a.displayName)!==null&&s!==void 0?s:a.name)!==null&&o!==void 0?o:""})`}`;const u=O.forwardRef(l);return u[z9]=a,u}function H9({layoutId:e}){const t=O.useContext(UN).id;return t&&e!==void 0?t+"-"+e:e}function K9(e,t){O.useContext(ND).strict}function G9(e){const{drag:t,layout:r}=Ml;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Y9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JN(e){return typeof e!="string"||e.includes("-")?!1:!!(Y9.indexOf(e)>-1||/[A-Z]/u.test(e))}function c4(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function ZN(e,t,r,n){if(typeof t=="function"){const[a,s]=c4(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=c4(n);t=t(r!==void 0?r:e.custom,a,s)}return t}const Sw=e=>Array.isArray(e),Q9=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),X9=e=>Sw(e)?e[e.length-1]||0:e,Fr=e=>!!(e&&e.getVelocity);function am(e){const t=Fr(e)?e.get():e;return Q9(t)?t.toValue():t}function J9({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,a,s){const o={latestValues:Z9(n,a,s,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const ED=e=>(t,r)=>{const n=O.useContext(Fp),a=O.useContext($p),s=()=>J9(e,t,n,a);return r?s():VN(s)};function Z9(e,t,r,n){const a={},s=n(e,{});for(const p in s)a[p]=am(s[p]);let{initial:o,animate:l}=e;const u=zp(e),d=SD(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Lp(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const y=ZN(e,p[g]);if(y){const{transitionEnd:v,transition:b,...w}=y;for(const S in w){let k=w[S];if(Array.isArray(k)){const E=h?k.length-1:0;k=k[E]}k!==null&&(a[S]=k)}for(const S in v)a[S]=v[S]}}}return a}const uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vo=new Set(uc),OD=e=>t=>typeof t=="string"&&t.startsWith(e),TD=OD("--"),e7=OD("var(--"),e2=e=>e7(e)?t7.test(e.split("/*")[0].trim()):!1,t7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,AD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,xa=(e,t,r)=>r>t?t:r<e?e:r,dc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qu={...dc,transform:e=>xa(0,1,e)},Ph={...dc,default:1},Bd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ts=Bd("deg"),Di=Bd("%"),Fe=Bd("px"),r7=Bd("vh"),n7=Bd("vw"),u4={...Di,parse:e=>Di.parse(e)/100,transform:e=>Di.transform(e*100)},i7={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},a7={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:Ph,scaleX:Ph,scaleY:Ph,scaleZ:Ph,skew:ts,skewX:ts,skewY:ts,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Qu,originX:u4,originY:u4,originZ:Fe},d4={...dc,transform:Math.round},t2={...i7,...a7,zIndex:d4,size:Fe,fillOpacity:Qu,strokeOpacity:Qu,numOctaves:d4},s7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o7=uc.length;function l7(e,t,r){let n="",a=!0;for(let s=0;s<o7;s++){const o=uc[s],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const d=AD(l,t2[o]);if(!u){a=!1;const h=s7[o]||o;n+=`${h}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function r2(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const u in t){const d=t[u];if(vo.has(u)){o=!0;continue}else if(TD(u)){a[u]=d;continue}else{const h=AD(d,t2[u]);u.startsWith("origin")?(l=!0,s[u]=h):n[u]=h}}if(t.transform||(o||r?n.transform=l7(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:h=0}=s;n.transformOrigin=`${u} ${d} ${h}`}}const c7={offset:"stroke-dashoffset",array:"stroke-dasharray"},u7={offset:"strokeDashoffset",array:"strokeDasharray"};function d7(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?c7:u7;e[s.offset]=Fe.transform(-n);const o=Fe.transform(t),l=Fe.transform(r);e[s.array]=`${o} ${l}`}function f4(e,t,r){return typeof e=="string"?e:Fe.transform(t+r*e)}function f7(e,t,r){const n=f4(t,e.x,e.width),a=f4(r,e.y,e.height);return`${n} ${a}`}function n2(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,m){if(r2(e,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:y}=e;p.transform&&(y&&(g.transform=p.transform),delete p.transform),y&&(a!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=f7(y,a!==void 0?a:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&d7(p,o,l,u,!1)}const i2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MD=()=>({...i2(),attrs:{}}),a2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function RD(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const DD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ID(e,t,r,n){RD(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(DD.has(a)?a:QN(a),t.attrs[a])}const gm={};function h7(e){Object.assign(gm,e)}function $D(e,{layout:t,layoutId:r}){return vo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!gm[e]||e==="opacity")}function s2(e,t,r){var n;const{style:a}=e,s={};for(const o in a)(Fr(a[o])||t.style&&Fr(t.style[o])||$D(o,e)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=a[o]);return s}function FD(e,t,r){const n=s2(e,t,r);for(const a in e)if(Fr(e[a])||Fr(t[a])){const s=uc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}function m7(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const h4=["x","y","width","height","cx","cy","r"],p7={useVisualState:ED({scrapeMotionValuesFromProps:FD,createRenderState:MD,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:a})=>{if(!r)return;let s=!!e.drag;if(!s){for(const l in a)if(vo.has(l)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let l=0;l<h4.length;l++){const u=h4[l];e[u]!==t[u]&&(o=!0)}o&&Pt.read(()=>{m7(r,n),Pt.render(()=>{n2(n,a,a2(r.tagName),e.transformTemplate),ID(r,n)})})}})},x7={useVisualState:ED({scrapeMotionValuesFromProps:s2,createRenderState:i2})};function LD(e,t,r){for(const n in t)!Fr(t[n])&&!$D(n,r)&&(e[n]=t[n])}function g7({transformTemplate:e},t){return O.useMemo(()=>{const r=i2();return r2(r,t,e),Object.assign({},r.vars,r.style)},[t])}function y7(e,t){const r=e.style||{},n={};return LD(n,r,e),Object.assign(n,g7(e,t)),n}function v7(e,t){const r={},n=y7(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function b7(e,t,r,n){const a=O.useMemo(()=>{const s=MD();return n2(s,t,a2(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};LD(s,e.style,e),a.style={...s,...a.style}}return a}function j7(e=!1){return(r,n,a,{latestValues:s},o)=>{const u=(JN(r)?b7:v7)(n,s,o,r),d=I9(n,typeof r=="string",e),h=r!==O.Fragment?{...d,...u,ref:a}:{},{children:m}=n,p=O.useMemo(()=>Fr(m)?m.get():m,[m]);return O.createElement(r,{...h,children:p})}}function w7(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...JN(n)?p7:x7,preloadedFeatures:e,useRender:j7(a),createVisualElement:t,Component:n};return W9(o)}}function zD(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function qp(e,t,r){const n=e.getProps();return ZN(n,t,r!==void 0?r:n.custom,e)}const N7=KN(()=>window.ScrollTimeline!==void 0);class _7{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>{if(N7()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{n.forEach((a,s)=>{a&&a(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class S7 extends _7{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function o2(e,t){return e?e[t]||e.default||e:void 0}const kw=2e4;function qD(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<kw;)t+=r,n=e.next(t);return t>=kw?1/0:t}function l2(e){return typeof e=="function"}function m4(e,t){e.timeline=t,e.onfinish=null}const c2=e=>Array.isArray(e)&&typeof e[0]=="number",k7={linearEasing:void 0};function P7(e,t){const r=KN(e);return()=>{var n;return(n=k7[t])!==null&&n!==void 0?n:r()}}const ym=P7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),BD=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=e(Al(0,a-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function UD(e){return!!(typeof e=="function"&&ym()||!e||typeof e=="string"&&(e in Pw||ym())||c2(e)||Array.isArray(e)&&e.every(UD))}const Pu=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Pw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function VD(e,t){if(e)return typeof e=="function"&&ym()?BD(e,t):c2(e)?Pu(e):Array.isArray(e)?e.map(r=>VD(r,t)||Pw.easeOut):Pw[e]}const fi={x:!1,y:!1};function WD(){return fi.x||fi.y}function C7(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const s=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function HD(e,t){const r=C7(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function p4(e){return t=>{t.pointerType==="touch"||WD()||e(t)}}function E7(e,t,r={}){const[n,a,s]=HD(e,r),o=p4(l=>{const{target:u}=l,d=t(l);if(typeof d!="function"||!u)return;const h=p4(m=>{d(m),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const KD=(e,t)=>t?e===t?!0:KD(e,t.parentElement):!1,u2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,O7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T7(e){return O7.has(e.tagName)||e.tabIndex!==-1}const Cu=new WeakSet;function x4(e){return t=>{t.key==="Enter"&&e(t)}}function Eg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const A7=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=x4(()=>{if(Cu.has(r))return;Eg(r,"down");const a=x4(()=>{Eg(r,"up")}),s=()=>Eg(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function g4(e){return u2(e)&&!WD()}function M7(e,t,r={}){const[n,a,s]=HD(e,r),o=l=>{const u=l.currentTarget;if(!g4(l)||Cu.has(u))return;Cu.add(u);const d=t(l),h=(g,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),!(!g4(g)||!Cu.has(u))&&(Cu.delete(u),typeof d=="function"&&d(g,{success:y}))},m=g=>{h(g,r.useGlobalTarget||KD(u,g.target))},p=g=>{h(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",p,a)};return n.forEach(l=>{!T7(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>A7(d,a),a)}),s}function R7(e){return e==="x"||e==="y"?fi[e]?null:(fi[e]=!0,()=>{fi[e]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}const GD=new Set(["width","height","top","left","right","bottom",...uc]);let sm;function D7(){sm=void 0}const Ii={now:()=>(sm===void 0&&Ii.set(yr.isProcessing||O9.useManualTiming?yr.timestamp:performance.now()),sm),set:e=>{sm=e,queueMicrotask(D7)}};function d2(e,t){e.indexOf(t)===-1&&e.push(t)}function f2(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class h2{constructor(){this.subscriptions=[]}add(t){return d2(this.subscriptions,t),()=>f2(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YD(e,t){return t?e*(1e3/t):0}const y4=30,I7=e=>!isNaN(parseFloat(e));class $7{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const s=Ii.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ii.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=I7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new h2);const n=this.events[t].add(r);return t==="change"?()=>{n(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>y4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,y4);return YD(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xu(e,t){return new $7(e,t)}function F7(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Xu(r))}function L7(e,t){const r=qp(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const o in s){const l=X9(s[o]);F7(e,o,l)}}function z7(e){return!!(Fr(e)&&e.add)}function Cw(e,t){const r=e.getValue("willChange");if(z7(r))return r.add(t)}function QD(e){return e.props[kD]}const XD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,q7=1e-7,B7=12;function U7(e,t,r,n,a){let s,o,l=0;do o=t+(r-t)/2,s=XD(o,n,a)-e,s>0?r=o:t=o;while(Math.abs(s)>q7&&++l<B7);return o}function Ud(e,t,r,n){if(e===t&&r===n)return Sn;const a=s=>U7(s,0,1,e,r);return s=>s===0||s===1?s:XD(a(s),t,n)}const JD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZD=e=>t=>1-e(1-t),eI=Ud(.33,1.53,.69,.99),m2=ZD(eI),tI=JD(m2),rI=e=>(e*=2)<1?.5*m2(e):.5*(2-Math.pow(2,-10*(e-1))),p2=e=>1-Math.sin(Math.acos(e)),nI=ZD(p2),iI=JD(p2),aI=e=>/^0[^.\s]+$/u.test(e);function V7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aI(e):!0}const Mu=e=>Math.round(e*1e5)/1e5,x2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W7(e){return e==null}const H7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,g2=(e,t)=>r=>!!(typeof r=="string"&&H7.test(r)&&r.startsWith(e)||t&&!W7(r)&&Object.prototype.hasOwnProperty.call(r,t)),sI=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,o,l]=n.match(x2);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},K7=e=>xa(0,255,e),Og={...dc,transform:e=>Math.round(K7(e))},Ks={test:g2("rgb","red"),parse:sI("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Og.transform(e)+", "+Og.transform(t)+", "+Og.transform(r)+", "+Mu(Qu.transform(n))+")"};function G7(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Ew={test:g2("#"),parse:G7,transform:Ks.transform},xl={test:g2("hsl","hue"),parse:sI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Di.transform(Mu(t))+", "+Di.transform(Mu(r))+", "+Mu(Qu.transform(n))+")"},Mr={test:e=>Ks.test(e)||Ew.test(e)||xl.test(e),parse:e=>Ks.test(e)?Ks.parse(e):xl.test(e)?xl.parse(e):Ew.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ks.transform(e):xl.transform(e)},Y7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q7(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(x2))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Y7))===null||r===void 0?void 0:r.length)||0)>0}const oI="number",lI="color",X7="var",J7="var(",v4="${}",Z7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ju(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(Z7,u=>(Mr.test(u)?(n.color.push(s),a.push(lI),r.push(Mr.parse(u))):u.startsWith(J7)?(n.var.push(s),a.push(X7),r.push(u)):(n.number.push(s),a.push(oI),r.push(parseFloat(u))),++s,v4)).split(v4);return{values:r,split:l,indexes:n,types:a}}function cI(e){return Ju(e).values}function uI(e){const{split:t,types:r}=Ju(e),n=t.length;return a=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],a[o]!==void 0){const l=r[o];l===oI?s+=Mu(a[o]):l===lI?s+=Mr.transform(a[o]):s+=a[o]}return s}}const eV=e=>typeof e=="number"?0:e;function tV(e){const t=cI(e);return uI(e)(t.map(eV))}const ms={test:Q7,parse:cI,createTransformer:uI,getAnimatableNone:tV},rV=new Set(["brightness","contrast","saturate","opacity"]);function nV(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(x2)||[];if(!n)return e;const a=r.replace(n,"");let s=rV.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const iV=/\b([a-z-]*)\(.*?\)/gu,Ow={...ms,getAnimatableNone:e=>{const t=e.match(iV);return t?t.map(nV).join(" "):e}},aV={...t2,color:Mr,backgroundColor:Mr,outlineColor:Mr,fill:Mr,stroke:Mr,borderColor:Mr,borderTopColor:Mr,borderRightColor:Mr,borderBottomColor:Mr,borderLeftColor:Mr,filter:Ow,WebkitFilter:Ow},y2=e=>aV[e];function dI(e,t){let r=y2(e);return r!==Ow&&(r=ms),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const sV=new Set(["auto","none","0"]);function oV(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!sV.has(s)&&Ju(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=dI(r,a)}const b4=e=>e===dc||e===Fe,j4=(e,t)=>parseFloat(e.split(", ")[t]),w4=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return j4(a[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?j4(s[1],e):0}},lV=new Set(["x","y","z"]),cV=uc.filter(e=>!lV.has(e));function uV(e){const t=[];return cV.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Rl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:w4(4,13),y:w4(5,14)};Rl.translateX=Rl.x;Rl.translateY=Rl.y;const eo=new Set;let Tw=!1,Aw=!1;function fI(){if(Aw){const e=Array.from(eo).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=uV(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Aw=!1,Tw=!1,eo.forEach(e=>e.complete()),eo.clear()}function hI(){eo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Aw=!0)})}function dV(){hI(),fI()}class v2{constructor(t,r,n,a,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(eo.add(this),Tw||(Tw=!0,Pt.read(hI),Pt.resolveKeyframes(fI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=a?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const u=n.readValue(r,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),eo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,eo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),fV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hV(e){const t=fV.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function pI(e,t,r=1){const[n,a]=hV(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return mI(o)?parseFloat(o):o}return e2(a)?pI(a,t,r+1):a}const xI=e=>t=>t.test(e),mV={test:e=>e==="auto",parse:e=>e},gI=[dc,Fe,Di,ts,n7,r7,mV],N4=e=>gI.find(xI(e));class yI extends v2{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),e2(d))){const h=pI(d,r.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!GD.has(n)||t.length!==2)return;const[a,s]=t,o=N4(a),l=N4(s);if(o!==l)if(b4(o)&&b4(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)V7(t[a])&&n.push(a);n.length&&oV(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=Rl[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{r.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const _4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url("));function pV(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function xV(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=_4(a,t),l=_4(s,t);return!o||!l?!1:pV(e)||(r==="spring"||l2(r))&&n}const gV=e=>e!==null;function Bp(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(gV),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return!s||n===void 0?a[s]:n}const yV=40;class vI{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ii.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dV(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Ii.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:s,delay:o,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!xV(t,n,a,s))if(o)this.options.duration=0;else{u&&u(Bp(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,r);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...h},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Rt=(e,t,r)=>e+(t-e)*r;function Tg(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function vV({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,o=0;if(!t)a=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;a=Tg(u,l,e+1/3),s=Tg(u,l,e),o=Tg(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function vm(e,t){return r=>r>0?t:e}const Ag=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},bV=[Ew,Ks,xl],jV=e=>bV.find(t=>t.test(e));function S4(e){const t=jV(e);if(!t)return!1;let r=t.parse(e);return t===xl&&(r=vV(r)),r}const k4=(e,t)=>{const r=S4(e),n=S4(t);if(!r||!n)return vm(e,t);const a={...r};return s=>(a.red=Ag(r.red,n.red,s),a.green=Ag(r.green,n.green,s),a.blue=Ag(r.blue,n.blue,s),a.alpha=Rt(r.alpha,n.alpha,s),Ks.transform(a))},wV=(e,t)=>r=>t(e(r)),Vd=(...e)=>e.reduce(wV),Mw=new Set(["none","hidden"]);function NV(e,t){return Mw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function _V(e,t){return r=>Rt(e,t,r)}function b2(e){return typeof e=="number"?_V:typeof e=="string"?e2(e)?vm:Mr.test(e)?k4:PV:Array.isArray(e)?bI:typeof e=="object"?Mr.test(e)?k4:SV:vm}function bI(e,t){const r=[...e],n=r.length,a=e.map((s,o)=>b2(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}}function SV(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=b2(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function kV(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][a[o]],u=(r=e.values[l])!==null&&r!==void 0?r:0;n[s]=u,a[o]++}return n}const PV=(e,t)=>{const r=ms.createTransformer(t),n=Ju(e),a=Ju(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Mw.has(e)&&!a.values.length||Mw.has(t)&&!n.values.length?NV(e,t):Vd(bI(kV(n,a),a.values),r):vm(e,t)};function jI(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Rt(e,t,r):b2(e)(e,t)}const CV=5;function wI(e,t,r){const n=Math.max(t-CV,0);return YD(r-e(n),t-n)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mg=.001;function EV({duration:e=Lt.duration,bounce:t=Lt.bounce,velocity:r=Lt.velocity,mass:n=Lt.mass}){let a,s,o=1-t;o=xa(Lt.minDamping,Lt.maxDamping,o),e=xa(Lt.minDuration,Lt.maxDuration,ua(e)),o<1?(a=d=>{const h=d*o,m=h*e,p=h-r,g=Rw(d,o),y=Math.exp(-m);return Mg-p/g*y},s=d=>{const m=d*o*e,p=m*r+r,g=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-m),v=Rw(Math.pow(d,2),o);return(-a(d)+Mg>0?-1:1)*((p-g)*y)/v}):(a=d=>{const h=Math.exp(-d*e),m=(d-r)*e+1;return-Mg+h*m},s=d=>{const h=Math.exp(-d*e),m=(r-d)*(e*e);return h*m});const l=5/e,u=TV(a,s,l);if(e=ca(e),isNaN(u))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:e};{const d=Math.pow(u,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const OV=12;function TV(e,t,r){let n=r;for(let a=1;a<OV;a++)n=n-e(n)/t(n);return n}function Rw(e,t){return e*Math.sqrt(1-t*t)}const AV=["duration","bounce"],MV=["stiffness","damping","mass"];function P4(e,t){return t.some(r=>e[r]!==void 0)}function RV(e){let t={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...e};if(!P4(e,MV)&&P4(e,AV))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*xa(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Lt.mass,stiffness:a,damping:s}}else{const r=EV(e);t={...t,...r,mass:Lt.mass},t.isResolvedFromDuration=!0}return t}function NI(e=Lt.visualDuration,t=Lt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:h,duration:m,velocity:p,isResolvedFromDuration:g}=RV({...r,velocity:-ua(r.velocity||0)}),y=p||0,v=d/(2*Math.sqrt(u*h)),b=o-s,w=ua(Math.sqrt(u/h)),S=Math.abs(b)<5;n||(n=S?Lt.restSpeed.granular:Lt.restSpeed.default),a||(a=S?Lt.restDelta.granular:Lt.restDelta.default);let k;if(v<1){const P=Rw(w,v);k=_=>{const T=Math.exp(-v*w*_);return o-T*((y+v*w*b)/P*Math.sin(P*_)+b*Math.cos(P*_))}}else if(v===1)k=P=>o-Math.exp(-w*P)*(b+(y+w*b)*P);else{const P=w*Math.sqrt(v*v-1);k=_=>{const T=Math.exp(-v*w*_),D=Math.min(P*_,300);return o-T*((y+v*w*b)*Math.sinh(D)+P*b*Math.cosh(D))/P}}const E={calculatedDuration:g&&m||null,next:P=>{const _=k(P);if(g)l.done=P>=m;else{let T=0;v<1&&(T=P===0?ca(y):wI(k,P,_));const D=Math.abs(T)<=n,L=Math.abs(o-_)<=a;l.done=D&&L}return l.value=l.done?o:_,l},toString:()=>{const P=Math.min(qD(E),kw),_=BD(T=>E.next(P*T).value,P,30);return P+"ms "+_}};return E}function C4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const m=e[0],p={done:!1,value:m},g=D=>l!==void 0&&D<l||u!==void 0&&D>u,y=D=>l===void 0?u:u===void 0||Math.abs(l-D)<Math.abs(u-D)?l:u;let v=r*t;const b=m+v,w=o===void 0?b:o(b);w!==b&&(v=w-m);const S=D=>-v*Math.exp(-D/n),k=D=>w+S(D),E=D=>{const L=S(D),M=k(D);p.done=Math.abs(L)<=d,p.value=p.done?w:M};let P,_;const T=D=>{g(p.value)&&(P=D,_=NI({keyframes:[p.value,y(p.value)],velocity:wI(k,D,p.value),damping:a,stiffness:s,restDelta:d,restSpeed:h}))};return T(0),{calculatedDuration:null,next:D=>{let L=!1;return!_&&P===void 0&&(L=!0,E(D),T(D)),P!==void 0&&D>=P?_.next(D-P):(!L&&E(D),p)}}}const DV=Ud(.42,0,1,1),IV=Ud(0,0,.58,1),_I=Ud(.42,0,.58,1),$V=e=>Array.isArray(e)&&typeof e[0]!="number",FV={linear:Sn,easeIn:DV,easeInOut:_I,easeOut:IV,circIn:p2,circInOut:iI,circOut:nI,backIn:m2,backInOut:tI,backOut:eI,anticipate:rI},E4=e=>{if(c2(e)){jD(e.length===4);const[t,r,n,a]=e;return Ud(t,r,n,a)}else if(typeof e=="string")return FV[e];return e};function LV(e,t,r){const n=[],a=r||jI,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Sn:t;l=Vd(u,l)}n.push(l)}return n}function zV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(jD(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=LV(t,n,a),u=l.length,d=h=>{if(o&&h<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=Al(e[m],e[m+1],h);return l[m](p)};return r?h=>d(xa(e[0],e[s-1],h)):d}function qV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Al(0,t,n);e.push(Rt(r,1,a))}}function BV(e){const t=[0];return qV(t,e.length-1),t}function UV(e,t){return e.map(r=>r*t)}function VV(e,t){return e.map(()=>t||_I).splice(0,e.length-1)}function bm({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=$V(n)?n.map(E4):E4(n),s={done:!1,value:t[0]},o=UV(r&&r.length===t.length?r:BV(t),e),l=zV(o,t,{ease:Array.isArray(a)?a:VV(t,a)});return{calculatedDuration:e,next:u=>(s.value=l(u),s.done=u>=e,s)}}const WV=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Pt.update(t,!0),stop:()=>hs(t),now:()=>yr.isProcessing?yr.timestamp:Ii.now()}},HV={decay:C4,inertia:C4,tween:bm,keyframes:bm,spring:NI},KV=e=>e/100;class j2 extends vI{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:r,motionValue:n,element:a,keyframes:s}=this.options,o=a?.KeyframeResolver||v2,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(s,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=this.options,l=l2(r)?r:HV[r]||bm;let u,d;l!==bm&&typeof t[0]!="number"&&(u=Vd(KV,jI(t[0],t[1])),t=[0,100]);const h=l({...this.options,keyframes:t});s==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=qD(h));const{calculatedDuration:m}=h,p=m+a,g=p*(n+1)-a;return{generator:h,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:m,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:a,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:h,resolvedDuration:m}=n;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:y,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),S=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let k=this.currentTime,E=s;if(g){const D=Math.min(this.currentTime,h)/m;let L=Math.floor(D),M=D%1;!M&&D>=1&&(M=1),M===1&&L--,L=Math.min(L,g+1),!!(L%2)&&(y==="reverse"?(M=1-M,v&&(M-=v/m)):y==="mirror"&&(E=o)),k=xa(0,1,M)*m}const P=S?{done:!1,value:u[0]}:E.next(k);l&&(P.value=l(P.value));let{done:_}=P;!S&&d!==null&&(_=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return T&&a!==void 0&&(P.value=Bp(u,this.options,a)),b&&b(P.value),T&&this.finish(),P}get duration(){const{resolved:t}=this;return t?ua(t.calculatedDuration):0}get time(){return ua(this.currentTime)}set time(t){t=ca(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ua(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=WV,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const GV=new Set(["opacity","clipPath","filter","transform"]);function YV(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:u}={}){const d={[t]:r};u&&(d.offset=u);const h=VD(l,a);return Array.isArray(h)&&(d.easing=h),e.animate(d,{delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const QV=KN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jm=10,XV=2e4;function JV(e){return l2(e.type)||e.type==="spring"||!UD(e.ease)}function ZV(e,t){const r=new j2({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let s=0;for(;!n.done&&s<XV;)n=r.sample(s),a.push(n.value),s+=jm;return{times:void 0,keyframes:a,duration:s-jm,ease:"linear"}}const SI={anticipate:rI,backInOut:tI,circInOut:iI};function eW(e){return e in SI}class O4 extends vI{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:s}=this.options;this.resolver=new yI(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:a,ease:s,type:o,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&ym()&&eW(s)&&(s=SI[s]),JV(this.options)){const{onComplete:m,onUpdate:p,motionValue:g,element:y,...v}=this.options,b=ZV(t,v);t=b.keyframes,t.length===1&&(t[1]=t[0]),n=b.duration,a=b.times,s=b.ease,o="keyframes"}const h=YV(l.owner.current,u,t,{...this.options,duration:n,times:a,ease:s});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(m4(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;l.set(Bp(t,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:n,times:a,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return ua(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return ua(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=ca(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Sn;const{animation:n}=r;m4(n,t)}return Sn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:s,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:h,onComplete:m,element:p,...g}=this.options,y=new j2({...g,keyframes:n,duration:a,type:s,ease:o,times:l,isGenerator:!0}),v=ca(this.time);d.setWithVelocity(y.sample(v-jm).value,y.sample(v).value,jm)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:s,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=r.owner.getProps();return QV()&&n&&GV.has(n)&&!u&&!d&&!a&&s!=="mirror"&&o!==0&&l!=="inertia"}}const tW={type:"spring",stiffness:500,damping:25,restSpeed:10},rW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nW={type:"keyframes",duration:.8},iW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aW=(e,{keyframes:t})=>t.length>2?nW:vo.has(e)?e.startsWith("scale")?rW(t[1]):tW:iW;function sW({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const w2=(e,t,r,n={},a,s)=>o=>{const l=o2(n,e)||{},u=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-ca(u);let h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};sW(l)||(h={...h,...aW(e,h)}),h.duration&&(h.duration=ca(h.duration)),h.repeatDelay&&(h.repeatDelay=ca(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),m&&!s&&t.get()!==void 0){const p=Bp(h.keyframes,l);if(p!==void 0)return Pt.update(()=>{h.onUpdate(p),h.onComplete()}),new S7([])}return!s&&O4.supports(h)?new O4(h):new j2(h)};function oW({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function kI(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...u}=t;n&&(o=n);const d=[],h=a&&e.animationState&&e.animationState.getState()[a];for(const m in u){const p=e.getValue(m,(s=e.latestValues[m])!==null&&s!==void 0?s:null),g=u[m];if(g===void 0||h&&oW(h,m))continue;const y={delay:r,...o2(o||{},m)};let v=!1;if(window.MotionHandoffAnimation){const w=QD(e);if(w){const S=window.MotionHandoffAnimation(w,m,Pt);S!==null&&(y.startTime=S,v=!0)}}Cw(e,m),p.start(w2(m,p,g,e.shouldReduceMotion&&GD.has(m)?{type:!1}:y,e,v));const b=p.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{Pt.update(()=>{l&&L7(e,l)})}),d}function Dw(e,t,r={}){var n;const a=qp(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(s=r.transitionOverride);const o=a?()=>Promise.all(kI(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=s;return lW(e,t,h+d,m,p,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(r.delay)])}function lW(e,t,r=0,n=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*n,u=a===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(cW).forEach((d,h)=>{d.notify("AnimationStart",t),o.push(Dw(d,t,{...s,delay:r+u(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function cW(e,t){return e.sortNodePosition(t)}function uW(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>Dw(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=Dw(e,t,r);else{const a=typeof t=="function"?qp(e,t,r.custom):t;n=Promise.all(kI(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const dW=YN.length;function PI(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?PI(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<dW;r++){const n=YN[r],a=e.props[n];(Yu(a)||a===!1)&&(t[n]=a)}return t}const fW=[...GN].reverse(),hW=GN.length;function mW(e){return t=>Promise.all(t.map(({animation:r,options:n})=>uW(e,r,n)))}function pW(e){let t=mW(e),r=T4(),n=!0;const a=u=>(d,h)=>{var m;const p=qp(e,h,u==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(p){const{transition:g,transitionEnd:y,...v}=p;d={...d,...v,...y}}return d};function s(u){t=u(e)}function o(u){const{props:d}=e,h=PI(e.parent)||{},m=[],p=new Set;let g={},y=1/0;for(let b=0;b<hW;b++){const w=fW[b],S=r[w],k=d[w]!==void 0?d[w]:h[w],E=Yu(k),P=w===u?S.isActive:null;P===!1&&(y=b);let _=k===h[w]&&k!==d[w]&&E;if(_&&n&&e.manuallyAnimateOnMount&&(_=!1),S.protectedKeys={...g},!S.isActive&&P===null||!k&&!S.prevProp||Lp(k)||typeof k=="boolean")continue;const T=xW(S.prevProp,k);let D=T||w===u&&S.isActive&&!_&&E||b>y&&E,L=!1;const M=Array.isArray(k)?k:[k];let F=M.reduce(a(w),{});P===!1&&(F={});const{prevResolvedValues:q={}}=S,H={...q,...F},K=Q=>{D=!0,p.has(Q)&&(L=!0,p.delete(Q)),S.needsAnimating[Q]=!0;const Y=e.getValue(Q);Y&&(Y.liveStyle=!1)};for(const Q in H){const Y=F[Q],X=q[Q];if(g.hasOwnProperty(Q))continue;let R=!1;Sw(Y)&&Sw(X)?R=!zD(Y,X):R=Y!==X,R?Y!=null?K(Q):p.add(Q):Y!==void 0&&p.has(Q)?K(Q):S.protectedKeys[Q]=!0}S.prevProp=k,S.prevResolvedValues=F,S.isActive&&(g={...g,...F}),n&&e.blockInitialAnimation&&(D=!1),D&&(!(_&&T)||L)&&m.push(...M.map(Q=>({animation:Q,options:{type:w}})))}if(p.size){const b={};p.forEach(w=>{const S=e.getBaseTarget(w),k=e.getValue(w);k&&(k.liveStyle=!0),b[w]=S??null}),m.push({animation:b})}let v=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(m):Promise.resolve()}function l(u,d){var h;if(r[u].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(u,d)}),r[u].isActive=d;const m=o(u);for(const p in r)r[p].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=T4(),n=!0}}}function xW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zD(t,e):!1}function Fs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T4(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class ys{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gW extends ys{constructor(t){super(t),t.animationState||(t.animationState=pW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let yW=0;class vW extends ys{constructor(){super(...arguments),this.id=yW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const bW={animation:{Feature:gW},exit:{Feature:vW}};function Zu(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Wd(e){return{point:{x:e.pageX,y:e.pageY}}}const jW=e=>t=>u2(t)&&e(t,Wd(t));function Ru(e,t,r,n){return Zu(e,t,jW(r),n)}const A4=(e,t)=>Math.abs(e-t);function wW(e,t){const r=A4(e.x,t.x),n=A4(e.y,t.y);return Math.sqrt(r**2+n**2)}class CI{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Dg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=wW(m.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:y}=m,{timestamp:v}=yr;this.history.push({...y,timestamp:v});const{onStart:b,onMove:w}=this.handlers;p||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Rg(p,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Dg(m.type==="pointercancel"?this.lastMoveEventInfo:Rg(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,b),y&&y(m,b)},!u2(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Wd(t),l=Rg(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=yr;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=r;h&&h(t,Dg(l,this.history)),this.removeListeners=Vd(Ru(this.contextWindow,"pointermove",this.handlePointerMove),Ru(this.contextWindow,"pointerup",this.handlePointerUp),Ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),hs(this.updatePoint)}}function Rg(e,t){return t?{point:t(e.point)}:e}function M4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dg({point:e},t){return{point:e,delta:M4(e,EI(t)),offset:M4(e,NW(t)),velocity:_W(t,.1)}}function NW(e){return e[0]}function EI(e){return e[e.length-1]}function _W(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=EI(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>ca(t)));)r--;if(!n)return{x:0,y:0};const s=ua(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const OI=1e-4,SW=1-OI,kW=1+OI,TI=.01,PW=0-TI,CW=0+TI;function Cn(e){return e.max-e.min}function EW(e,t,r){return Math.abs(e-t)<=r}function R4(e,t,r,n=.5){e.origin=n,e.originPoint=Rt(t.min,t.max,e.origin),e.scale=Cn(r)/Cn(t),e.translate=Rt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=SW&&e.scale<=kW||isNaN(e.scale))&&(e.scale=1),(e.translate>=PW&&e.translate<=CW||isNaN(e.translate))&&(e.translate=0)}function Du(e,t,r,n){R4(e.x,t.x,r.x,n?n.originX:void 0),R4(e.y,t.y,r.y,n?n.originY:void 0)}function D4(e,t,r){e.min=r.min+t.min,e.max=e.min+Cn(t)}function OW(e,t,r){D4(e.x,t.x,r.x),D4(e.y,t.y,r.y)}function I4(e,t,r){e.min=t.min-r.min,e.max=e.min+Cn(t)}function Iu(e,t,r){I4(e.x,t.x,r.x),I4(e.y,t.y,r.y)}function TW(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Rt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Rt(r,e,n.max):Math.min(e,r)),e}function $4(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function AW(e,{top:t,left:r,bottom:n,right:a}){return{x:$4(e.x,r,a),y:$4(e.y,t,n)}}function F4(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function MW(e,t){return{x:F4(e.x,t.x),y:F4(e.y,t.y)}}function RW(e,t){let r=.5;const n=Cn(e),a=Cn(t);return a>n?r=Al(t.min,t.max-n,e.min):n>a&&(r=Al(e.min,e.max-a,t.min)),xa(0,1,r)}function DW(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Iw=.35;function IW(e=Iw){return e===!1?e=0:e===!0&&(e=Iw),{x:L4(e,"left","right"),y:L4(e,"top","bottom")}}function L4(e,t,r){return{min:z4(e,t),max:z4(e,r)}}function z4(e,t){return typeof e=="number"?e:e[t]||0}const q4=()=>({translate:0,scale:1,origin:0,originPoint:0}),gl=()=>({x:q4(),y:q4()}),B4=()=>({min:0,max:0}),Vt=()=>({x:B4(),y:B4()});function qn(e){return[e("x"),e("y")]}function AI({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function $W({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function FW(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ig(e){return e===void 0||e===1}function $w({scale:e,scaleX:t,scaleY:r}){return!Ig(e)||!Ig(t)||!Ig(r)}function qs(e){return $w(e)||MI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function MI(e){return U4(e.x)||U4(e.y)}function U4(e){return e&&e!=="0%"}function wm(e,t,r){const n=e-r,a=t*n;return r+a}function V4(e,t,r,n,a){return a!==void 0&&(e=wm(e,a,n)),wm(e,r,n)+t}function Fw(e,t=0,r=1,n,a){e.min=V4(e.min,t,r,n,a),e.max=V4(e.max,t,r,n,a)}function RI(e,{x:t,y:r}){Fw(e.x,t.translate,t.scale,t.originPoint),Fw(e.y,r.translate,r.scale,r.originPoint)}const W4=.999999999999,H4=1.0000000000001;function LW(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,RI(e,o)),n&&qs(s.latestValues)&&vl(e,s.latestValues))}t.x<H4&&t.x>W4&&(t.x=1),t.y<H4&&t.y>W4&&(t.y=1)}function yl(e,t){e.min=e.min+t,e.max=e.max+t}function K4(e,t,r,n,a=.5){const s=Rt(e.min,e.max,a);Fw(e,t,r,s,n)}function vl(e,t){K4(e.x,t.x,t.scaleX,t.scale,t.originX),K4(e.y,t.y,t.scaleY,t.scale,t.originY)}function DI(e,t){return AI(FW(e.getBoundingClientRect(),t))}function zW(e,t,r){const n=DI(e,r),{scroll:a}=t;return a&&(yl(n.x,a.offset.x),yl(n.y,a.offset.y)),n}const II=({current:e})=>e?e.ownerDocument.defaultView:null,qW=new WeakMap;class BW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Wd(h).point)},s=(h,m)=>{const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R7(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(b=>{let w=this.getAxisMotionValue(b).get()||0;if(Di.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const k=S.layout.layoutBox[b];k&&(w=Cn(k)*(parseFloat(w)/100))}}this.originPoint[b]=w}),y&&Pt.postRender(()=>y(h,m)),Cw(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=m;if(g&&this.currentDirection===null){this.currentDirection=UW(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),v&&v(h,m)},l=(h,m)=>this.stop(h,m),u=()=>qn(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new CI(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:II(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&Pt.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Ch(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=TW(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&pl(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=AW(a.layoutBox,r):this.constraints=!1,this.elastic=IW(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&qn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DW(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!pl(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=zW(n,a.root,this.visualElement.getTransformPagePoint());let o=MW(a.layout.layoutBox,s);if(r){const l=r($W(o));this.hasMutatedConstraints=!!l,l&&(o=AI(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=qn(h=>{if(!Ch(h,r,this.currentDirection))return;let m=u&&u[h]||{};o&&(m={min:0,max:0});const p=a?200:1e6,g=a?40:1e7,y={type:"inertia",velocity:n?t[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(h,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Cw(this.visualElement,t),n.start(w2(t,n,0,r,this.visualElement,!1))}stopAnimation(){qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){qn(r=>{const{drag:n}=this.getProps();if(!Ch(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(t[r]-Rt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!pl(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();a[o]=RW({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),qn(o=>{if(!Ch(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Rt(u,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;qW.set(this.visualElement,this);const t=this.visualElement.current,r=Ru(t,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();pl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pt.read(n);const o=Zu(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(qn(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=Iw,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Ch(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function UW(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class VW extends ys{constructor(t){super(t),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new BW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const G4=e=>(t,r)=>{e&&Pt.postRender(()=>e(t,r))};class WW extends ys{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(t){this.session=new CI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:II(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:G4(t),onStart:G4(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&Pt.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=Ru(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const om={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Y4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const r=Y4(e,t.target.x),n=Y4(e,t.target.y);return`${r}% ${n}%`}},HW={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=ms.parse(e);if(a.length>5)return n;const s=ms.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=u;const d=Rt(l,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),s(a)}};class KW extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;h7(GW),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),om.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Pt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),XN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $I(e){const[t,r]=vD(),n=O.useContext(UN);return i.jsx(KW,{...e,layoutGroup:n,switchLayoutGroup:O.useContext(PD),isPresent:t,safeToRemove:r})}const GW={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:HW};function YW(e,t,r){const n=Fr(e)?e:Xu(e);return n.start(w2("",n,t,r)),n.animation}function QW(e){return e instanceof SVGElement&&e.tagName!=="svg"}const XW=(e,t)=>e.depth-t.depth;class JW{constructor(){this.children=[],this.isDirty=!1}add(t){d2(this.children,t),this.isDirty=!0}remove(t){f2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XW),this.isDirty=!1,this.children.forEach(t)}}function ZW(e,t){const r=Ii.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(hs(n),e(s-t))};return Pt.read(n,!0),()=>hs(n)}const FI=["TopLeft","TopRight","BottomLeft","BottomRight"],eH=FI.length,Q4=e=>typeof e=="string"?parseFloat(e):e,X4=e=>typeof e=="number"||Fe.test(e);function tH(e,t,r,n,a,s){a?(e.opacity=Rt(0,r.opacity!==void 0?r.opacity:1,rH(n)),e.opacityExit=Rt(t.opacity!==void 0?t.opacity:1,0,nH(n))):s&&(e.opacity=Rt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<eH;o++){const l=`border${FI[o]}Radius`;let u=J4(t,l),d=J4(r,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||X4(u)===X4(d)?(e[l]=Math.max(Rt(Q4(u),Q4(d),n),0),(Di.test(d)||Di.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Rt(t.rotate||0,r.rotate||0,n))}function J4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rH=LI(0,.5,nI),nH=LI(.5,.95,Sn);function LI(e,t,r){return n=>n<e?0:n>t?1:r(Al(e,t,n))}function Z4(e,t){e.min=t.min,e.max=t.max}function $n(e,t){Z4(e.x,t.x),Z4(e.y,t.y)}function eC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function tC(e,t,r,n,a){return e-=t,e=wm(e,1/r,n),a!==void 0&&(e=wm(e,1/a,n)),e}function iH(e,t=0,r=1,n=.5,a,s=e,o=e){if(Di.test(t)&&(t=parseFloat(t),t=Rt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Rt(s.min,s.max,n);e===s&&(l-=t),e.min=tC(e.min,t,r,l,a),e.max=tC(e.max,t,r,l,a)}function rC(e,t,[r,n,a],s,o){iH(e,t[r],t[n],t[a],t.scale,s,o)}const aH=["x","scaleX","originX"],sH=["y","scaleY","originY"];function nC(e,t,r,n){rC(e.x,t,aH,r?r.x:void 0,n?n.x:void 0),rC(e.y,t,sH,r?r.y:void 0,n?n.y:void 0)}function iC(e){return e.translate===0&&e.scale===1}function zI(e){return iC(e.x)&&iC(e.y)}function aC(e,t){return e.min===t.min&&e.max===t.max}function oH(e,t){return aC(e.x,t.x)&&aC(e.y,t.y)}function sC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qI(e,t){return sC(e.x,t.x)&&sC(e.y,t.y)}function oC(e){return Cn(e.x)/Cn(e.y)}function lC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lH{constructor(){this.members=[]}add(t){d2(this.members,t),t.scheduleRender()}remove(t){if(f2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cH(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=r?.z||0;if((a||s||o)&&(n=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:p,skewX:g,skewY:y}=r;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),g&&(n+=`skewX(${g}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Eu=typeof window<"u"&&window.MotionDebug!==void 0,$g=["","X","Y","Z"],uH={visibility:"hidden"},cC=1e3;let dH=0;function Fg(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function BI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=QD(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Pt,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&BI(n)}function UI({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=dH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eu&&(Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0),this.nodes.forEach(mH),this.nodes.forEach(vH),this.nodes.forEach(bH),this.nodes.forEach(pH),Eu&&window.MotionDebug.record(Bs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new JW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new h2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=QW(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),e){let m;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=ZW(p,250),om.hasAnimatedSinceResize&&(om.hasAnimatedSinceResize=!1,this.nodes.forEach(dC))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||SH,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=h.getProps(),S=!this.targetLayout||!qI(this.targetLayout,y)||g,k=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const E={...o2(v,"layout"),onPlay:b,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||dC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uC);return}this.isUpdating||this.nodes.forEach(gH),this.isUpdating=!1,this.nodes.forEach(yH),this.nodes.forEach(fH),this.nodes.forEach(hH),this.clearAllSnapshots();const l=Ii.now();yr.delta=xa(0,1e3/60,l-yr.timestamp),yr.timestamp=l,yr.isProcessing=!0,Cg.update.process(yr),Cg.preRender.process(yr),Cg.render.process(yr),yr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xH),this.sharedNodes.forEach(wH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!zI(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||qs(this.latestValues)||h)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),kH(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Vt();const u=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(PH))){const{scroll:h}=this.root;h&&(yl(u.x,h.offset.x),yl(u.y,h.offset.y))}return u}removeElementScroll(o){var l;const u=Vt();if($n(u,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:p}=h;h!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&$n(u,o),yl(u.x,m.offset.x),yl(u.y,m.offset.y))}return u}applyTransform(o,l=!1){const u=Vt();$n(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&vl(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),qs(h.latestValues)&&vl(u,h.latestValues)}return qs(this.latestValues)&&vl(u,this.latestValues),u}removeTransform(o){const l=Vt();$n(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!qs(d.latestValues))continue;$w(d.latestValues)&&d.updateSnapshot();const h=Vt(),m=d.measurePageBox();$n(h,m),nC(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return qs(this.latestValues)&&nC(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=yr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Iu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),RI(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Iu(this.relativeTargetOrigin,this.target,g.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eu&&Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$w(this.parent.latestValues)||MI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===yr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;$n(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;LW(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Vt());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eC(this.prevProjectionDelta.x,this.projectionDelta.x),eC(this.prevProjectionDelta.y,this.projectionDelta.y)),Du(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!lC(this.projectionDelta.x,this.prevProjectionDelta.x)||!lC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Eu&&Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gl(),this.projectionDelta=gl(),this.projectionDeltaWithTransform=gl()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},m=gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Vt(),g=u?u.source:void 0,y=this.layout?this.layout.source:void 0,v=g!==y,b=this.getStack(),w=!b||b.members.length<=1,S=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(_H));this.animationProgress=0;let k;this.mixTargetDelta=E=>{const P=E/1e3;fC(m.x,o.x,P),fC(m.y,o.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Iu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NH(this.relativeTarget,this.relativeTargetOrigin,p,P),k&&oH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Vt()),$n(k,this.relativeTarget)),v&&(this.animationValues=h,tH(h,d,this.latestValues,P,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{om.hasAnimatedSinceResize=!0,this.currentAnimation=YW(0,cC,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&VI(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Vt();const m=Cn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const p=Cn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}$n(l,u),vl(l,h),Du(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lH),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Fg("z",o,d,this.animationValues);for(let h=0;h<$g.length;h++)Fg(`rotate${$g[h]}`,o,d,this.animationValues),Fg(`skew${$g[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uH;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=am(o?.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=am(o?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=cH(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x:g,y}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,m.animationValues?d.opacity=m===this?(u=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in gm){if(p[v]===void 0)continue;const{correct:b,applyTo:w}=gm[v],S=d.transform==="none"?p[v]:b(p[v],m);if(w){const k=w.length;for(let E=0;E<k;E++)d[w[E]]=S}else d[v]=S}return this.options.layoutId&&(d.pointerEvents=m===this?am(o?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(uC),this.root.sharedNodes.clear()}}}function fH(e){e.updateLayout()}function hH(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?qn(m=>{const p=o?r.measuredBox[m]:r.layoutBox[m],g=Cn(p);p.min=n[m].min,p.max=p.min+g}):VI(s,r.layoutBox,n)&&qn(m=>{const p=o?r.measuredBox[m]:r.layoutBox[m],g=Cn(n[m]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+g)});const l=gl();Du(l,n,r.layoutBox);const u=gl();o?Du(u,e.applyTransform(a,!0),r.measuredBox):Du(u,n,r.layoutBox);const d=!zI(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:g}=m;if(p&&g){const y=Vt();Iu(y,r.layoutBox,p.layoutBox);const v=Vt();Iu(v,n,g.layoutBox),qI(y,v)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function mH(e){Eu&&Bs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xH(e){e.clearSnapshot()}function uC(e){e.clearMeasurements()}function gH(e){e.isLayoutDirty=!1}function yH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vH(e){e.resolveTargetDelta()}function bH(e){e.calcProjection()}function jH(e){e.resetSkewAndRotation()}function wH(e){e.removeLeadSnapshot()}function fC(e,t,r){e.translate=Rt(t.translate,0,r),e.scale=Rt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function hC(e,t,r,n){e.min=Rt(t.min,r.min,n),e.max=Rt(t.max,r.max,n)}function NH(e,t,r,n){hC(e.x,t.x,r.x,n),hC(e.y,t.y,r.y,n)}function _H(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SH={duration:.45,ease:[.4,0,.1,1]},mC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pC=mC("applewebkit/")&&!mC("chrome/")?Math.round:Sn;function xC(e){e.min=pC(e.min),e.max=pC(e.max)}function kH(e){xC(e.x),xC(e.y)}function VI(e,t,r){return e==="position"||e==="preserve-aspect"&&!EW(oC(t),oC(r),.2)}function PH(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const CH=UI({attachResizeListener:(e,t)=>Zu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lg={current:void 0},WI=UI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Lg.current){const e=new CH({});e.mount(window),e.setOptions({layoutScroll:!0}),Lg.current=e}return Lg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),EH={pan:{Feature:WW},drag:{Feature:VW,ProjectionNode:WI,MeasureLayout:$I}};function gC(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&Pt.postRender(()=>s(t,Wd(t)))}class OH extends ys{mount(){const{current:t}=this.node;t&&(this.unmount=E7(t,r=>(gC(this.node,r,"Start"),n=>gC(this.node,n,"End"))))}unmount(){}}class TH extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vd(Zu(this.node.current,"focus",()=>this.onFocus()),Zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yC(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&Pt.postRender(()=>s(t,Wd(t)))}class AH extends ys{mount(){const{current:t}=this.node;t&&(this.unmount=M7(t,r=>(yC(this.node,r,"Start"),(n,{success:a})=>yC(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lw=new WeakMap,zg=new WeakMap,MH=e=>{const t=Lw.get(e.target);t&&t(e)},RH=e=>{e.forEach(MH)};function DH({root:e,...t}){const r=e||document;zg.has(r)||zg.set(r,{});const n=zg.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(RH,{root:e,...t})),n[a]}function IH(e,t,r){const n=DH(t);return Lw.set(e,r),n.observe(e),()=>{Lw.delete(e),n.unobserve(e)}}const $H={some:0,all:1};class FH extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:$H[a]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=d?h:m;p&&p(u)};return IH(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(LH(t,r))&&this.startObserver()}unmount(){}}function LH({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const zH={inView:{Feature:FH},tap:{Feature:AH},focus:{Feature:TH},hover:{Feature:OH}},qH={layout:{ProjectionNode:WI,MeasureLayout:$I}},zw={current:null},HI={current:!1};function BH(){if(HI.current=!0,!!HN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zw.current=e.matches;e.addListener(t),t()}else zw.current=!1}const UH=[...gI,Mr,ms],VH=e=>UH.find(xI(e)),vC=new WeakMap;function WH(e,t,r){for(const n in t){const a=t[n],s=r[n];if(Fr(a))e.addValue(n,a);else if(Fr(s))e.addValue(n,Xu(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Xu(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const bC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HH{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ii.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Pt.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:h}=o;this.onUpdate=h,this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=zp(r),this.isVariantNode=SD(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const y=p[g];u[g]!==void 0&&Fr(y)&&y.set(u[g],!1)}}mount(t){this.current=t,vC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),HI.current||BH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vC.delete(this.current),this.projection&&this.projection.unmount(),hs(this.notifyUpdate),hs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=vo.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ml){const r=Ml[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<bC.length;n++){const a=bC[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=WH(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Xu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(mI(a)||aI(a))?a=parseFloat(a):!VH(a)&&ms.test(r)&&(a=dI(t,r)),this.setBaseTarget(t,Fr(a)?a.get():a)),Fr(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=ZN(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Fr(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new h2),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class KI extends HH{constructor(){super(...arguments),this.KeyframeResolver=yI}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function KH(e){return window.getComputedStyle(e)}class GH extends KI{constructor(){super(...arguments),this.type="html",this.renderInstance=RD}readValueFromInstance(t,r){if(vo.has(r)){const n=y2(r);return n&&n.default||0}else{const n=KH(t),a=(TD(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return DI(t,r)}build(t,r,n){r2(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return s2(t,r,n)}}class YH extends KI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(vo.has(r)){const n=y2(r);return n&&n.default||0}return r=DD.has(r)?r:QN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return FD(t,r,n)}build(t,r,n){n2(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){ID(t,r,n,a)}mount(t){this.isSVGTag=a2(t.tagName),super.mount(t)}}const QH=(e,t)=>JN(e)?new YH(t):new GH(t,{allowProjection:e!==O.Fragment}),XH=w7({...bW,...zH,...EH,...qH},QH),de=$9(XH);var fc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JH={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ZH=class{#e=JH;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Gs=new ZH;function eK(e){setTimeout(e,0)}var lo=typeof window>"u"||"Deno"in globalThis;function Gr(){}function tK(e,t){return typeof e=="function"?e(t):e}function qw(e){return typeof e=="number"&&e>=0&&e!==1/0}function GI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cs(e,t){return typeof e=="function"?e(t):e}function Un(e,t){return typeof e=="function"?e(t):e}function jC(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==N2(o,t.options))return!1}else if(!ed(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function wC(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(co(t.options.mutationKey)!==co(s))return!1}else if(!ed(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function N2(e,t){return(t?.queryKeyHashFn||co)(e)}function co(e){return JSON.stringify(e,(t,r)=>Bw(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ed(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ed(e[r],t[r])):!1}var rK=Object.prototype.hasOwnProperty;function YI(e,t){if(e===t)return e;const r=NC(e)&&NC(t);if(!r&&!(Bw(e)&&Bw(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),o=s.length,l=r?new Array(o):{};let u=0;for(let d=0;d<o;d++){const h=r?d:s[d],m=e[h],p=t[h];if(m===p){l[h]=m,(r?d<a:rK.call(e,h))&&u++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[h]=p;continue}const g=YI(m,p);l[h]=g,g===m&&u++}return a===o&&u===a?e:l}function Nm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function NC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bw(e){if(!_C(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!_C(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _C(e){return Object.prototype.toString.call(e)==="[object Object]"}function nK(e){return new Promise(t=>{Gs.setTimeout(t,e)})}function Uw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?YI(e,t):t}function iK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function aK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var _2=Symbol();function QI(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===_2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function XI(e,t){return typeof e=="function"?e(...t):!!e}var sK=class extends fc{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!lo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},S2=new sK;function Vw(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var oK=eK;function lK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=oK;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var nr=lK(),cK=class extends fc{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!lo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},_m=new cK;function uK(e){return Math.min(1e3*2**e,3e4)}function JI(e){return(e??"online")==="online"?_m.isOnline():!0}var Ww=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ZI(e){let t=!1,r=0,n;const a=Vw(),s=()=>a.status!=="pending",o=v=>{if(!s()){const b=new Ww(v);p(b),e.onCancel?.(b)}},l=()=>{t=!0},u=()=>{t=!1},d=()=>S2.isFocused()&&(e.networkMode==="always"||_m.isOnline())&&e.canRun(),h=()=>JI(e.networkMode)&&e.canRun(),m=v=>{s()||(n?.(),a.resolve(v))},p=v=>{s()||(n?.(),a.reject(v))},g=()=>new Promise(v=>{n=b=>{(s()||d())&&v(b)},e.onPause?.()}).then(()=>{n=void 0,s()||e.onContinue?.()}),y=()=>{if(s())return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(m).catch(w=>{if(s())return;const S=e.retry??(lo?0:3),k=e.retryDelay??uK,E=typeof k=="function"?k(r,w):k,P=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,w);if(t||!P){p(w);return}r++,e.onFail?.(r,w),nK(E).then(()=>d()?void 0:g()).then(()=>{t?p(w):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n?.(),a),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?y():g().then(y),a)}}var e$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qw(this.gcTime)&&(this.#e=Gs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Gs.clearTimeout(this.#e),this.#e=void 0)}},dK=class extends e${#e;#t;#r;#i;#n;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#r=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=kC(this.options);t.data!==void 0&&(this.setState(SC(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=Uw(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Gr).catch(Gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Un(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>cs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!GI(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const l=QI(this.options,t),d=(()=>{const h={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=ZI({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof Ww&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,u)=>{this.#a({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Ww){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#a({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...t$(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...SC(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function t$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function SC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function kC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var fK=class extends fc{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#o=Vw(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#i=void 0;#n;#s;#o;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),PC(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hw(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hw(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Un(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Nm(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&CC(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||Un(this.options.enabled,this.#t)!==Un(t.enabled,this.#t)||cs(this.options.staleTime,this.#t)!==cs(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||Un(this.options.enabled,this.#t)!==Un(t.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return mK(this,r)&&(this.#i=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Gr)),t}#x(){this.#b();const e=cs(this.options.staleTime,this.#t);if(lo||this.#i.isStale||!qw(e))return;const r=GI(this.#i.dataUpdatedAt,e)+1;this.#c=Gs.setTimeout(()=>{this.#i.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#j(),this.#l=e,!(lo||Un(this.options.enabled,this.#t)===!1||!qw(this.#l)||this.#l===0)&&(this.#u=Gs.setInterval(()=>{(this.options.refetchIntervalInBackground||S2.isFocused())&&this.#d()},this.#l))}#v(){this.#x(),this.#y(this.#g())}#b(){this.#c&&(Gs.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(Gs.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#i,s=this.#n,o=this.#s,u=e!==r?e.state:this.#r,{state:d}=e;let h={...d},m=!1,p;if(t._optimisticResults){const D=this.hasListeners(),L=!D&&PC(e,t),M=D&&CC(e,r,t,n);(L||M)&&(h={...h,...t$(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:v}=h;p=h.data;let b=!1;if(t.placeholderData!==void 0&&p===void 0&&v==="pending"){let D;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(D=a.data,b=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,D!==void 0&&(v="success",p=Uw(a?.data,D,t),m=!0)}if(t.select&&p!==void 0&&!b)if(a&&p===s?.data&&t.select===this.#p)p=this.#f;else try{this.#p=t.select,p=t.select(p),p=Uw(a?.data,p,t),this.#f=p,this.#a=null}catch(D){this.#a=D}this.#a&&(g=this.#a,p=this.#f,y=Date.now(),v="error");const w=h.fetchStatus==="fetching",S=v==="pending",k=v==="error",E=S&&w,P=p!==void 0,T={status:v,fetchStatus:h.fetchStatus,isPending:S,isSuccess:v==="success",isError:k,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:k&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:k&&P,isStale:k2(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Un(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=F=>{T.status==="error"?F.reject(T.error):T.data!==void 0&&F.resolve(T.data)},L=()=>{const F=this.#o=T.promise=Vw();D(F)},M=this.#o;switch(M.status){case"pending":e.queryHash===r.queryHash&&D(M);break;case"fulfilled":(T.status==="error"||T.data!==M.value)&&L();break;case"rejected":(T.status!=="error"||T.error!==M.reason)&&L();break}}return T}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Nm(t,e))return;this.#i=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const s=new Set(a??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const l=o;return this.#i[l]!==e[l]&&s.has(l)})};this.#N({listeners:r()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){nr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function hK(e,t){return Un(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function PC(e,t){return hK(e,t)||e.state.data!==void 0&&Hw(e,t,t.refetchOnMount)}function Hw(e,t,r){if(Un(t.enabled,e)!==!1&&cs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&k2(e,t)}return!1}function CC(e,t,r,n){return(e!==t||Un(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&k2(e,r)}function k2(e,t){return Un(t.enabled,e)!==!1&&e.isStaleByTime(cs(t.staleTime,e))}function mK(e,t){return!Nm(e.getCurrentResult(),t)}function EC(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const m=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},p=QI(t.options,t.fetchOptions),g=async(y,v,b)=>{if(h)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:v,direction:b?"backward":"forward",meta:t.options.meta};return m(_),_})(),k=await p(S),{maxPages:E}=t.options,P=b?aK:iK;return{pages:P(y.pages,k,E),pageParams:P(y.pageParams,v,E)}};if(a&&s.length){const y=a==="backward",v=y?pK:OC,b={pages:s,pageParams:o},w=v(n,b);l=await g(b,w,y)}else{const y=e??s.length;do{const v=u===0?o[0]??n.initialPageParam:OC(n,l);if(u>0&&v==null)break;l=await g(l,v),u++}while(u<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function OC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pK(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var xK=class extends e${#e;#t;#r;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||r$(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=ZI({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#n({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#i.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:a})}const s=await this.#i.start();return await this.#r.config.onSuccess?.(s,e,this.state.context,this,r),await this.options.onSuccess?.(s,e,this.state.context,r),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,e,this.state.context,r),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#r.config.onError?.(s,e,this.state.context,this,r),await this.options.onError?.(s,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,s,e,this.state.context,r),s}finally{this.#n({type:"error",error:s})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),nr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function r$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gK=class extends fc{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new xK({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=Eh(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Eh(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Eh(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Eh(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){nr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>wC(t,r))}findAll(e={}){return this.getAll().filter(t=>wC(e,t))}notify(e){nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return nr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Gr))))}};function Eh(e){return e.options.scope?.id}var yK=class extends fc{#e;#t=void 0;#r;#i;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Nm(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&co(r.mutationKey)!==co(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#i=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??r$();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){nr.batch(()=>{if(this.#i&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#i.onSuccess?.(t.data,r,n,a),this.#i.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#i.onError?.(t.error,r,n,a),this.#i.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},vK=class extends fc{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??N2(n,t);let s=this.get(a);return s||(s=new dK({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>jC(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>jC(e,r)):t}notify(e){nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bK=class{#e;#t;#r;#i;#n;#s;#o;#a;constructor(e={}){this.#e=e.queryCache||new vK,this.#t=e.mutationCache||new gK,this.#r=e.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=S2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=_m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(cs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(n.queryHash)?.state.data,o=tK(t,s);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return nr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;nr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return nr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=nr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Gr).catch(Gr)}invalidateQueries(e,t={}){return nr.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=nr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Gr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(cs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gr).catch(Gr)}fetchInfiniteQuery(e){return e.behavior=EC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gr).catch(Gr)}ensureInfiniteQueryData(e){return e.behavior=EC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _m.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#i.set(co(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{ed(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(co(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{ed(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=N2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_2&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},n$=O.createContext(void 0),Nt=e=>{const t=O.useContext(n$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jK=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(n$.Provider,{value:e,children:t})),i$=O.createContext(!1),wK=()=>O.useContext(i$);i$.Provider;function NK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _K=O.createContext(NK()),SK=()=>O.useContext(_K),kK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},PK=e=>{O.useEffect(()=>{e.clearReset()},[e])},CK=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||XI(r,[e.error,n])),EK=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},OK=(e,t)=>e.isLoading&&e.isFetching&&!t,TK=(e,t)=>e?.suspense&&t.isPending,TC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function AK(e,t,r){const n=wK(),a=SK(),s=Nt(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",EK(o),kK(o,a),PK(a);const l=!s.getQueryCache().get(o.queryHash),[u]=O.useState(()=>new t(s,o)),d=u.getOptimisticResult(o),h=!n&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(m=>{const p=h?u.subscribe(nr.batchCalls(m)):Gr;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),O.useEffect(()=>{u.setOptions(o)},[o,u]),TK(o,d))throw TC(o,u,a);if(CK({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!lo&&OK(d,n)&&(l?TC(o,u,a):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Gr).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function xe(e,t){return AK(e,fK)}function qe(e,t){const r=Nt(),[n]=O.useState(()=>new yK(r,e));O.useEffect(()=>{n.setOptions(e)},[n,e]);const a=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(nr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=O.useCallback((o,l)=>{n.mutate(o,l).catch(Gr)},[n]);if(a.error&&XI(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}var MK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:u,...d},h)=>O.createElement("svg",{ref:h,...MK,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${RK(e)}`,l].join(" "),...d},[...t.map(([m,p])=>O.createElement(m,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};const vr=me("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Nl=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Te=me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const DK=me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Kw=me("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const a$=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Hs=me("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const dr=me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const AC=me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const uo=me("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const to=me("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);const _l=me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const MC=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const IK=me("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const ut=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ga=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const hc=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Zr=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const P2=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const s$=me("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const $K=me("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const RC=me("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const gi=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Ui=me("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const FK=me("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);const Gw=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const $i=me("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const qg=me("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const C2=me("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);const LK=me("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const bo=me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const zK=me("FileWarning",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const qK=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const o$=me("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const l$=me("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const lm=me("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);const BK=me("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const c$=me("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const ya=me("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const DC=me("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);const Sm=me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const E2=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const UK=me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const VK=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const O2=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const fn=me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const WK=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const T2=me("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);const td=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const $u=me("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const us=me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Yw=me("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);const u$=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Qw=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const wr=me("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const A2=me("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const M2=me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const vi=me("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Dl=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const De=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const HK=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const KK=me("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);const Xw=me("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const km=me("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);const Up=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const d$=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const GK=me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const Xr=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Bg=me("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const Oh=me("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const YK=me("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]);const da=me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const ro=me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const Vp=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const QK=me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const br=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const XK=me("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);const f$=me("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);const h$=me("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);const Xn=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const ar=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Jw=me("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);const m$=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Sl=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const JK=me("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);const IC=me("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);const p$=me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const kl=me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const va=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const zr=me("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ce="http://127.0.0.1:8000",Th=({title:e,description:t,endpoint:r,icon:n})=>{const[a,s]=O.useState(null),[o,l]=O.useState(!1),[u,d]=O.useState(null),[h,m]=O.useState(null),p=y=>{y.target.files&&y.target.files[0]&&(s(y.target.files[0]),d(null))},g=async()=>{if(a){l(!0),d(null);try{const y=new FormData;y.append("file",a);const v=await fetch(`${Ce}${r}`,{method:"POST",body:y});if(!v.ok){const w=await v.json();throw new Error(w.detail||"Erro ao fazer upload")}const b=await v.json();d(b),m({file:a.name,date:new Date().toLocaleString("pt-PT"),status:b.success?"OK":"Com avisos"})}catch(y){d({success:!1,errors:[y.message||"Erro desconhecido"]})}finally{l(!1)}}};return i.jsxs("div",{className:"bg-surface border border-border rounded-xl p-6 space-y-4",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-3xl",children:n}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:e}),i.jsx("p",{className:"text-sm text-text-muted",children:t})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"flex-1 cursor-pointer",children:[i.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:p,className:"hidden",disabled:o}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-background border border-border rounded-lg hover:bg-background/80 transition",children:[i.jsx(LK,{className:"w-4 h-4 text-text-muted"}),i.jsx("span",{className:"text-sm text-text-primary",children:a?a.name:"Selecionar ficheiro Excel..."})]})]}),i.jsx("button",{onClick:g,disabled:!a||o,className:"px-4 py-2 bg-nikufra hover:bg-nikufra/90 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"A carregar..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(m$,{className:"w-4 h-4"}),i.jsx("span",{children:"Carregar"})]})})]}),h&&i.jsxs("div",{className:"text-xs text-text-muted flex items-center gap-2",children:[i.jsx(ut,{className:"w-3 h-3"}),i.jsxs("span",{children:["ltimo: ",h.file," (",h.date,") - ",h.status]})]}),u&&i.jsxs("div",{className:`rounded-lg p-4 ${u.success?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[i.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[u.success?i.jsx(ut,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}):i.jsx(Nl,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-semibold ${u.success?"text-green-400":"text-red-400"}`,children:u.success?"Importao bem-sucedida":"Importao com erros"}),i.jsxs("p",{className:"text-sm text-text-muted mt-1",children:[u.imported_count," linhas importadas",u.failed_count>0&&`, ${u.failed_count} falhadas`]})]})]}),u.warnings&&u.warnings.length>0&&i.jsxs("div",{className:"mt-3 space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold text-amber-400",children:"Avisos:"}),i.jsx("ul",{className:"text-xs text-text-muted space-y-1 max-h-32 overflow-y-auto",children:u.warnings.slice(0,5).map((y,v)=>i.jsxs("li",{children:[" ",y]},v))}),u.warnings.length>5&&i.jsxs("p",{className:"text-xs text-text-muted",children:["+",u.warnings.length-5," mais avisos"]})]}),u.errors&&u.errors.length>0&&i.jsxs("div",{className:"mt-3 space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold text-red-400",children:"Erros:"}),i.jsx("ul",{className:"text-xs text-text-muted space-y-1 max-h-32 overflow-y-auto",children:u.errors.slice(0,5).map((y,v)=>i.jsxs("li",{children:[" ",y]},v))}),u.errors.length>5&&i.jsxs("p",{className:"text-xs text-text-muted",children:["+",u.errors.length-5," mais erros"]})]})]})]})]})},ZK=({isOpen:e,onClose:t})=>e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-surface border border-border rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",children:[i.jsxs("div",{className:"sticky top-0 bg-surface border-b border-border p-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Carregar Dados Operacionais"}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Importe dados de Excel para o sistema (Ordens, Movimentos, RH, Mquinas)"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-background rounded-lg transition",children:i.jsx(va,{className:"w-5 h-5 text-text-muted"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(Th,{title:"Ordens de Produo",description:"Importa ordens de produo com routing e quantidades",endpoint:"/ops-ingestion/orders/excel",icon:""}),i.jsx(Th,{title:"Movimentos Internos",description:"Importa movimentos de inventrio/WIP entre estaes",endpoint:"/ops-ingestion/inventory-moves/excel",icon:""}),i.jsx(Th,{title:"Recursos Humanos",description:"Importa dados de colaboradores, skills e turnos",endpoint:"/ops-ingestion/hr/excel",icon:""}),i.jsx(Th,{title:"Mquinas & Linhas",description:"Importa dados de mquinas, capacidade e manuteno",endpoint:"/ops-ingestion/machines/excel",icon:""})]}),i.jsx("div",{className:"sticky bottom-0 bg-surface border-t border-border p-4 flex justify-end",children:i.jsx("button",{onClick:t,className:"px-6 py-2 bg-background border border-border rounded-lg hover:bg-background/80 transition",children:"Fechar"})})]})}):null,eG="modulepreload",tG=function(e){return"/"+e},$C={},ka=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=u(r.map(d=>{if(d=tG(d),d in $C)return;$C[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":eG,h||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function ba(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Nr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Jn(e){Nr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Pm(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function FC(e,t){Nr(2,arguments);var r=Jn(e),n=ba(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function rG(e,t){Nr(2,arguments);var r=Jn(e).getTime(),n=ba(t);return new Date(r+n)}var nG={};function Hd(){return nG}function LC(e,t){var r,n,a,s,o,l,u,d;Nr(1,arguments);var h=Hd(),m=ba((r=(n=(a=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Jn(e),g=p.getDay(),y=(g<m?7:0)+g-m;return p.setDate(p.getDate()-y),p.setHours(0,0,0,0),p}function iG(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function aG(e){return Nr(1,arguments),e instanceof Date||Pm(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sG(e){if(Nr(1,arguments),!aG(e)&&typeof e!="number")return!1;var t=Jn(e);return!isNaN(Number(t))}function oG(e,t){Nr(2,arguments);var r=ba(t);return rG(e,-r)}var lG=864e5;function cG(e){Nr(1,arguments);var t=Jn(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/lG)+1}function Cm(e){Nr(1,arguments);var t=1,r=Jn(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function x$(e){Nr(1,arguments);var t=Jn(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Cm(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=Cm(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function uG(e){Nr(1,arguments);var t=x$(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Cm(r);return n}var dG=6048e5;function fG(e){Nr(1,arguments);var t=Jn(e),r=Cm(t).getTime()-uG(t).getTime();return Math.round(r/dG)+1}function Em(e,t){var r,n,a,s,o,l,u,d;Nr(1,arguments);var h=Hd(),m=ba((r=(n=(a=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Jn(e),g=p.getUTCDay(),y=(g<m?7:0)+g-m;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function g$(e,t){var r,n,a,s,o,l,u,d;Nr(1,arguments);var h=Jn(e),m=h.getUTCFullYear(),p=Hd(),g=ba((r=(n=(a=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&n!==void 0?n:(u=p.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(m+1,0,g),y.setUTCHours(0,0,0,0);var v=Em(y,t),b=new Date(0);b.setUTCFullYear(m,0,g),b.setUTCHours(0,0,0,0);var w=Em(b,t);return h.getTime()>=v.getTime()?m+1:h.getTime()>=w.getTime()?m:m-1}function hG(e,t){var r,n,a,s,o,l,u,d;Nr(1,arguments);var h=Hd(),m=ba((r=(n=(a=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=g$(e,t),g=new Date(0);g.setUTCFullYear(p,0,m),g.setUTCHours(0,0,0,0);var y=Em(g,t);return y}var mG=6048e5;function pG(e,t){Nr(1,arguments);var r=Jn(e),n=Em(r,t).getTime()-hG(r,t).getTime();return Math.round(n/mG)+1}function ft(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ja={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return ft(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):ft(n+1,2)},d:function(t,r){return ft(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return ft(t.getUTCHours()%12||12,r.length)},H:function(t,r){return ft(t.getUTCHours(),r.length)},m:function(t,r){return ft(t.getUTCMinutes(),r.length)},s:function(t,r){return ft(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return ft(s,r.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xG={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Ja.y(t,r)},Y:function(t,r,n,a){var s=g$(t,a),o=s>0?s:1-s;if(r==="YY"){var l=o%100;return ft(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):ft(o,r.length)},R:function(t,r){var n=x$(t);return ft(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return ft(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ft(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ft(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Ja.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return ft(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=pG(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):ft(s,r.length)},I:function(t,r,n){var a=fG(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ft(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ja.d(t,r)},D:function(t,r,n){var a=cG(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ft(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return ft(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return ft(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return ft(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=el.noon:a===0?s=el.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=el.evening:a>=12?s=el.afternoon:a>=4?s=el.morning:s=el.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ja.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ja.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ft(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ft(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ja.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ja.s(t,r)},S:function(t,r){return Ja.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return qC(o);case"XXXX":case"XX":return Us(o);case"XXXXX":case"XXX":default:return Us(o,":")}},x:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"x":return qC(o);case"xxxx":case"xx":return Us(o);case"xxxxx":case"xxx":default:return Us(o,":")}},O:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zC(o,":");case"OOOO":default:return"GMT"+Us(o,":")}},z:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zC(o,":");case"zzzz":default:return"GMT"+Us(o,":")}},t:function(t,r,n,a){var s=a._originalDate||t,o=Math.floor(s.getTime()/1e3);return ft(o,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,o=s.getTime();return ft(o,r.length)}};function zC(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var o=t;return r+String(a)+o+ft(s,2)}function qC(e,t){if(e%60===0){var r=e>0?"-":"+";return r+ft(Math.abs(e)/60,2)}return Us(e,t)}function Us(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=ft(Math.floor(a/60),2),o=ft(a%60,2);return n+s+r+o}var BC=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},y$=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},gG=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return BC(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",BC(a,r)).replace("{{time}}",y$(s,r))},yG={p:y$,P:gG},vG=["D","DD"],bG=["YY","YYYY"];function jG(e){return vG.indexOf(e)!==-1}function wG(e){return bG.indexOf(e)!==-1}function UC(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var NG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_G=function(t,r,n){var a,s=NG[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Ug(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var SG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CG={date:Ug({formats:SG,defaultWidth:"full"}),time:Ug({formats:kG,defaultWidth:"full"}),dateTime:Ug({formats:PG,defaultWidth:"full"})},EG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OG=function(t,r,n,a){return EG[t]};function cu(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{var l=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var TG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$G=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FG={ordinalNumber:$G,era:cu({values:TG,defaultWidth:"wide"}),quarter:cu({values:AG,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:cu({values:MG,defaultWidth:"wide"}),day:cu({values:RG,defaultWidth:"wide"}),dayPeriod:cu({values:DG,defaultWidth:"wide",formattingValues:IG,defaultFormattingWidth:"wide"})};function uu(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?zG(l,function(m){return m.test(o)}):LG(l,function(m){return m.test(o)}),d;d=e.valueCallback?e.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;var h=t.slice(o.length);return{value:d,rest:h}}}function LG(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function zG(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function qG(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var BG=/^(\d+)(th|st|nd|rd)?/i,UG=/\d+/i,VG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WG={any:[/^b/i,/^(a|c)/i]},HG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KG={any:[/1/i,/2/i,/3/i,/4/i]},GG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eY={ordinalNumber:qG({matchPattern:BG,parsePattern:UG,valueCallback:function(t){return parseInt(t,10)}}),era:uu({matchPatterns:VG,defaultMatchWidth:"wide",parsePatterns:WG,defaultParseWidth:"any"}),quarter:uu({matchPatterns:HG,defaultMatchWidth:"wide",parsePatterns:KG,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:uu({matchPatterns:GG,defaultMatchWidth:"wide",parsePatterns:YG,defaultParseWidth:"any"}),day:uu({matchPatterns:QG,defaultMatchWidth:"wide",parsePatterns:XG,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:JG,defaultMatchWidth:"any",parsePatterns:ZG,defaultParseWidth:"any"})},tY={code:"en-US",formatDistance:_G,formatLong:CG,formatRelative:OG,localize:FG,match:eY,options:{weekStartsOn:0,firstWeekContainsDate:1}},rY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iY=/^'([^]*?)'?$/,aY=/''/g,sY=/[a-zA-Z]/;function VC(e,t,r){var n,a,s,o,l,u,d,h,m,p,g,y,v,b;Nr(2,arguments);var w=String(t),S=Hd(),k=(n=(a=void 0)!==null&&a!==void 0?a:S.locale)!==null&&n!==void 0?n:tY,E=ba((s=(o=(l=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&l!==void 0?l:S.firstWeekContainsDate)!==null&&o!==void 0?o:(d=S.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=ba((m=(p=(g=(y=void 0)!==null&&y!==void 0?y:void 0)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&p!==void 0?p:(v=S.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&m!==void 0?m:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var _=Jn(e);if(!sG(_))throw new RangeError("Invalid time value");var T=iG(_),D=oG(_,T),L={firstWeekContainsDate:E,weekStartsOn:P,locale:k,_originalDate:_},M=w.match(nY).map(function(F){var q=F[0];if(q==="p"||q==="P"){var H=yG[q];return H(F,k.formatLong)}return F}).join("").match(rY).map(function(F){if(F==="''")return"'";var q=F[0];if(q==="'")return oY(F);var H=xG[q];if(H)return wG(F)&&UC(F,t,String(e)),jG(F)&&UC(F,t,String(e)),H(D,F,k.localize,L);if(q.match(sY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return F}).join("");return M}function oY(e){var t=e.match(iY);return t?t[1].replace(aY,"'"):e}const lY=z.createContext({}),v$=!0;function cY({baseColor:e,highlightColor:t,width:r,height:n,borderRadius:a,circle:s,direction:o,duration:l,enableAnimation:u=v$,customHighlightBackground:d}){const h={};return o==="rtl"&&(h["--animation-direction"]="reverse"),typeof l=="number"&&(h["--animation-duration"]=`${l}s`),u||(h["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(h.width=r),(typeof n=="string"||typeof n=="number")&&(h.height=n),(typeof a=="string"||typeof a=="number")&&(h.borderRadius=a),s&&(h.borderRadius="50%"),typeof e<"u"&&(h["--base-color"]=e),typeof t<"u"&&(h["--highlight-color"]=t),typeof d=="string"&&(h["--custom-highlight-background"]=d),h}function no({count:e=1,wrapper:t,className:r,containerClassName:n,containerTestId:a,circle:s=!1,style:o,...l}){var u,d,h;const m=z.useContext(lY),p={...l};for(const[k,E]of Object.entries(l))typeof E>"u"&&delete p[k];const g={...m,...p,circle:s},y={...o,...cY(g)};let v="react-loading-skeleton";r&&(v+=` ${r}`);const b=(u=g.inline)!==null&&u!==void 0?u:!1,w=[],S=Math.ceil(e);for(let k=0;k<S;k++){let E=y;if(S>e&&k===S-1){const _=(d=E.width)!==null&&d!==void 0?d:"100%",T=e%1,D=typeof _=="number"?_*T:`calc(${_} * ${T})`;E={...E,width:D}}const P=z.createElement("span",{className:v,style:E,key:k},"");b?w.push(P):w.push(z.createElement(z.Fragment,{key:k},P,z.createElement("br",null)))}return z.createElement("span",{className:n,"data-testid":a,"aria-live":"polite","aria-busy":(h=g.enableAnimation)!==null&&h!==void 0?h:v$},t?w.map((k,E)=>z.createElement(t,{key:E},k)):w)}function uY(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const dY=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fY=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hY={};function WC(e,t){return(hY.jsx?fY:dY).test(e)}const mY=/[ \t\n\f\r]/g;function pY(e){return typeof e=="object"?e.type==="text"?HC(e.value):!1:HC(e)}function HC(e){return e.replace(mY,"")===""}class Kd{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Kd.prototype.normal={};Kd.prototype.property={};Kd.prototype.space=void 0;function b$(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Kd(r,n,t)}function Zw(e){return e.toLowerCase()}class pn{constructor(t,r){this.attribute=r,this.property=t}}pn.prototype.attribute="";pn.prototype.booleanish=!1;pn.prototype.boolean=!1;pn.prototype.commaOrSpaceSeparated=!1;pn.prototype.commaSeparated=!1;pn.prototype.defined=!1;pn.prototype.mustUseProperty=!1;pn.prototype.number=!1;pn.prototype.overloadedBoolean=!1;pn.prototype.property="";pn.prototype.spaceSeparated=!1;pn.prototype.space=void 0;let xY=0;const Ve=jo(),Kt=jo(),e1=jo(),fe=jo(),jt=jo(),Pl=jo(),jn=jo();function jo(){return 2**++xY}const t1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ve,booleanish:Kt,commaOrSpaceSeparated:jn,commaSeparated:Pl,number:fe,overloadedBoolean:e1,spaceSeparated:jt},Symbol.toStringTag,{value:"Module"})),Vg=Object.keys(t1);class R2 extends pn{constructor(t,r,n,a){let s=-1;if(super(t,r),KC(this,"space",a),typeof n=="number")for(;++s<Vg.length;){const o=Vg[s];KC(this,Vg[s],(n&t1[o])===t1[o])}}}R2.prototype.defined=!0;function KC(e,t,r){r&&(e[t]=r)}function mc(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const s=new R2(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[Zw(n)]=n,r[Zw(s.attribute)]=n}return new Kd(t,r,e.space)}const j$=mc({properties:{ariaActiveDescendant:null,ariaAtomic:Kt,ariaAutoComplete:null,ariaBusy:Kt,ariaChecked:Kt,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:jt,ariaCurrent:null,ariaDescribedBy:jt,ariaDetails:null,ariaDisabled:Kt,ariaDropEffect:jt,ariaErrorMessage:null,ariaExpanded:Kt,ariaFlowTo:jt,ariaGrabbed:Kt,ariaHasPopup:null,ariaHidden:Kt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jt,ariaLevel:fe,ariaLive:null,ariaModal:Kt,ariaMultiLine:Kt,ariaMultiSelectable:Kt,ariaOrientation:null,ariaOwns:jt,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:Kt,ariaReadOnly:Kt,ariaRelevant:null,ariaRequired:Kt,ariaRoleDescription:jt,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:Kt,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function w$(e,t){return t in e?e[t]:t}function N$(e,t){return w$(e,t.toLowerCase())}const gY=mc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pl,acceptCharset:jt,accessKey:jt,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:jt,autoFocus:Ve,autoPlay:Ve,blocking:jt,capture:null,charSet:null,checked:Ve,cite:null,className:jt,cols:fe,colSpan:null,content:null,contentEditable:Kt,controls:Ve,controlsList:jt,coords:fe|Pl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:e1,draggable:Kt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:jt,height:fe,hidden:e1,high:fe,href:null,hrefLang:null,htmlFor:jt,httpEquiv:jt,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:jt,itemRef:jt,itemScope:Ve,itemType:jt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:fe,pattern:null,ping:jt,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:jt,required:Ve,reversed:Ve,rows:fe,rowSpan:fe,sandbox:jt,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:Kt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:Kt,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jt,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:Kt,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:N$}),yY=mc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:jn,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:jt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pl,g2:Pl,glyphName:Pl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:jn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jn,rev:jn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jn,requiredFeatures:jn,requiredFonts:jn,requiredFormats:jn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:jn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jn,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:w$}),_$=mc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),S$=mc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:N$}),k$=mc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),vY={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bY=/[A-Z]/g,GC=/-[a-z]/g,jY=/^data[-\w.:]+$/i;function wY(e,t){const r=Zw(t);let n=t,a=pn;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&jY.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(GC,_Y);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!GC.test(s)){let o=s.replace(bY,NY);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=R2}return new a(n,t)}function NY(e){return"-"+e.toLowerCase()}function _Y(e){return e.charAt(1).toUpperCase()}const SY=b$([j$,gY,_$,S$,k$],"html"),D2=b$([j$,yY,_$,S$,k$],"svg");function kY(e){return e.join(" ").trim()}var tl={},Wg,YC;function PY(){if(YC)return Wg;YC=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",h="*",m="",p="comment",g="declaration";function y(b,w){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];w=w||{};var S=1,k=1;function E(K){var W=K.match(t);W&&(S+=W.length);var $=K.lastIndexOf(u);k=~$?K.length-$:k+K.length}function P(){var K={line:S,column:k};return function(W){return W.position=new _(K),L(),W}}function _(K){this.start=K,this.end={line:S,column:k},this.source=w.source}_.prototype.content=b;function T(K){var W=new Error(w.source+":"+S+":"+k+": "+K);if(W.reason=K,W.filename=w.source,W.line=S,W.column=k,W.source=b,!w.silent)throw W}function D(K){var W=K.exec(b);if(W){var $=W[0];return E($),b=b.slice($.length),W}}function L(){D(r)}function M(K){var W;for(K=K||[];W=F();)W!==!1&&K.push(W);return K}function F(){var K=P();if(!(d!=b.charAt(0)||h!=b.charAt(1))){for(var W=2;m!=b.charAt(W)&&(h!=b.charAt(W)||d!=b.charAt(W+1));)++W;if(W+=2,m===b.charAt(W-1))return T("End of comment missing");var $=b.slice(2,W-2);return k+=2,E($),b=b.slice(W),k+=2,K({type:p,comment:$})}}function q(){var K=P(),W=D(n);if(W){if(F(),!D(a))return T("property missing ':'");var $=D(s),Q=K({type:g,property:v(W[0].replace(e,m)),value:$?v($[0].replace(e,m)):m});return D(o),Q}}function H(){var K=[];M(K);for(var W;W=q();)W!==!1&&(K.push(W),M(K));return K}return L(),H()}function v(b){return b?b.replace(l,m):m}return Wg=y,Wg}var QC;function CY(){if(QC)return tl;QC=1;var e=tl&&tl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tl,"__esModule",{value:!0}),tl.default=r;const t=e(PY());function r(n,a){let s=null;if(!n||typeof n!="string")return s;const o=(0,t.default)(n),l=typeof a=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:h}=u;l?a(d,h,u):h&&(s=s||{},s[d]=h)}),s}return tl}var du={},XC;function EY(){if(XC)return du;XC=1,Object.defineProperty(du,"__esModule",{value:!0}),du.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(d){return!d||r.test(d)||e.test(d)},o=function(d,h){return h.toUpperCase()},l=function(d,h){return"".concat(h,"-")},u=function(d,h){return h===void 0&&(h={}),s(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(a,l):d=d.replace(n,l),d.replace(t,o))};return du.camelCase=u,du}var fu,JC;function OY(){if(JC)return fu;JC=1;var e=fu&&fu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(CY()),r=EY();function n(a,s){var o={};return!a||typeof a!="string"||(0,t.default)(a,function(l,u){l&&u&&(o[(0,r.camelCase)(l,s)]=u)}),o}return n.default=n,fu=n,fu}var TY=OY();const AY=ot(TY),P$=C$("end"),I2=C$("start");function C$(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function MY(e){const t=I2(e),r=P$(e);if(t&&r)return{start:t,end:r}}function Fu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ZC(e.position):"start"in e||"end"in e?ZC(e):"line"in e||"column"in e?r1(e):""}function r1(e){return eE(e&&e.line)+":"+eE(e&&e.column)}function ZC(e){return r1(e&&e.start)+"-"+r1(e&&e.end)}function eE(e){return e&&typeof e=="number"?e:1}class qr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",s={},o=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?a=t:!s.cause&&t&&(o=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?s.ruleId=n:(s.source=n.slice(0,u),s.ruleId=n.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=Fu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qr.prototype.file="";qr.prototype.name="";qr.prototype.reason="";qr.prototype.message="";qr.prototype.stack="";qr.prototype.column=void 0;qr.prototype.line=void 0;qr.prototype.ancestors=void 0;qr.prototype.cause=void 0;qr.prototype.fatal=void 0;qr.prototype.place=void 0;qr.prototype.ruleId=void 0;qr.prototype.source=void 0;const $2={}.hasOwnProperty,RY=new Map,DY=/[A-Z]/g,IY=new Set(["table","tbody","thead","tfoot","tr"]),$Y=new Set(["td","th"]),E$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function FY(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=HY(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=WY(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?D2:SY,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=O$(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function O$(e,t,r){if(t.type==="element")return LY(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return zY(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return BY(e,t,r);if(t.type==="mdxjsEsm")return qY(e,t);if(t.type==="root")return UY(e,t,r);if(t.type==="text")return VY(e,t)}function LY(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=D2,e.schema=a),e.ancestors.push(t);const s=A$(e,t.tagName,!1),o=KY(e,t);let l=L2(e,t);return IY.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!pY(u):!0})),T$(e,o,s,t),F2(o,l),e.ancestors.pop(),e.schema=n,e.create(t,s,o,r)}function zY(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}rd(e,t.position)}function qY(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rd(e,t.position)}function BY(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=D2,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:A$(e,t.name,!0),o=GY(e,t),l=L2(e,t);return T$(e,o,s,t),F2(o,l),e.ancestors.pop(),e.schema=n,e.create(t,s,o,r)}function UY(e,t,r){const n={};return F2(n,L2(e,t)),e.create(t,e.Fragment,n,r)}function VY(e,t){return t.value}function T$(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function F2(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function WY(e,t,r){return n;function n(a,s,o,l){const d=Array.isArray(o.children)?r:t;return l?d(s,o,l):d(s,o)}}function HY(e,t){return r;function r(n,a,s,o){const l=Array.isArray(s.children),u=I2(n);return t(a,s,o,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function KY(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&$2.call(t.properties,a)){const s=YY(e,a,t.properties[a]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&$Y.has(t.tagName)?n=l:r[o]=l}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function GY(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else rd(e,t.position);else{const a=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else rd(e,t.position);else s=n.value===null?!0:n.value;r[a]=s}return r}function L2(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:RY;for(;++n<t.children.length;){const s=t.children[n];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=a.get(u)||0;o=u+"-"+d,a.set(u,d+1)}}const l=O$(e,s,o);l!==void 0&&r.push(l)}return r}function YY(e,t,r){const n=wY(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?uY(r):kY(r)),n.property==="style"){let a=typeof r=="object"?r:QY(e,String(r));return e.stylePropertyNameCase==="css"&&(a=XY(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?vY[n.property]||n.property:n.attribute,r]}}function QY(e,t){try{return AY(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new qr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=E$+"#cannot-parse-style-attribute",a}}function A$(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,o;for(;++s<a.length;){const l=WC(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}n=o}else n=WC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return $2.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);rd(e)}function rd(e,t){const r=new qr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=E$+"#cannot-handle-mdx-estrees-without-createevaluater",r}function XY(e){const t={};let r;for(r in e)$2.call(e,r)&&(t[JY(r)]=e[r]);return t}function JY(e){let t=e.replace(DY,ZY);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ZY(e){return"-"+e.toLowerCase()}const Hg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},eQ={};function z2(e,t){const r=eQ,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return M$(e,n,a)}function M$(e,t,r){if(tQ(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tE(e.children,t,r)}return Array.isArray(e)?tE(e,t,r):""}function tE(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=M$(e[a],t,r);return n.join("")}function tQ(e){return!!(e&&typeof e=="object")}const rE=document.createElement("i");function q2(e){const t="&"+e+";";rE.innerHTML=t;const r=rE.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function kn(e,t,r,n){const a=e.length;let s=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);s<n.length;)o=n.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Wn(e,t){return e.length>0?(kn(e,e.length,0,t),e):t}const nE={}.hasOwnProperty;function R$(e){const t={};let r=-1;for(;++r<e.length;)rQ(t,e[r]);return t}function rQ(e,t){let r;for(r in t){const a=(nE.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let o;if(s)for(o in s){nE.call(a,o)||(a[o]=[]);const l=s[o];nQ(a[o],Array.isArray(l)?l:l?[l]:[])}}}function nQ(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);kn(e,0,0,n)}function D$(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function yi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yr=vs(/[A-Za-z]/),Lr=vs(/[\dA-Za-z]/),iQ=vs(/[#-'*+\--9=?A-Z^-~]/);function Om(e){return e!==null&&(e<32||e===127)}const n1=vs(/\d/),aQ=vs(/[\dA-Fa-f]/),sQ=vs(/[!-/:-@[-`{-~]/);function Re(e){return e!==null&&e<-2}function vt(e){return e!==null&&(e<0||e===32)}function Je(e){return e===-2||e===-1||e===32}const Wp=vs(new RegExp("\\p{P}|\\p{S}","u")),fo=vs(/\s/);function vs(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function pc(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const s=e.charCodeAt(r);let o="";if(s===37&&Lr(e.charCodeAt(r+1))&&Lr(e.charCodeAt(r+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(r+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),a=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+a+1,o=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function tt(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Je(u)?(e.enter(r),l(u)):t(u)}function l(u){return Je(u)&&s++<a?(e.consume(u),l):(e.exit(r),t(u))}}const oQ={tokenize:lQ};function lQ(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),tt(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),s(l)}function s(l){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Re(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}const cQ={tokenize:uQ},iE={tokenize:dQ};function uQ(e){const t=this,r=[];let n=0,a,s,o;return l;function l(k){if(n<r.length){const E=r[n];return t.containerState=E[1],e.attempt(E[0].continuation,u,d)(k)}return d(k)}function u(k){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&S();const E=t.events.length;let P=E,_;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){_=t.events[P][1].end;break}w(n);let T=E;for(;T<t.events.length;)t.events[T][1].end={..._},T++;return kn(t.events,P+1,0,t.events.slice(E)),t.events.length=T,d(k)}return l(k)}function d(k){if(n===r.length){if(!a)return p(k);if(a.currentConstruct&&a.currentConstruct.concrete)return y(k);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(iE,h,m)(k)}function h(k){return a&&S(),w(n),p(k)}function m(k){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,y(k)}function p(k){return t.containerState={},e.attempt(iE,g,y)(k)}function g(k){return n++,r.push([t.currentConstruct,t.containerState]),p(k)}function y(k){if(k===null){a&&S(),w(0),e.consume(k);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),v(k)}function v(k){if(k===null){b(e.exit("chunkFlow"),!0),w(0),e.consume(k);return}return Re(k)?(e.consume(k),b(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(k),v)}function b(k,E){const P=t.sliceStream(k);if(E&&P.push(null),k.previous=s,s&&(s.next=k),s=k,a.defineSkip(k.start),a.write(P),t.parser.lazy[k.start.line]){let _=a.events.length;for(;_--;)if(a.events[_][1].start.offset<o&&(!a.events[_][1].end||a.events[_][1].end.offset>o))return;const T=t.events.length;let D=T,L,M;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(L){M=t.events[D][1].end;break}L=!0}for(w(n),_=T;_<t.events.length;)t.events[_][1].end={...M},_++;kn(t.events,D+1,0,t.events.slice(T)),t.events.length=_}}function w(k){let E=r.length;for(;E-- >k;){const P=r[E];t.containerState=P[1],P[0].exit.call(t,e)}r.length=k}function S(){a.write([null]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function dQ(e,t,r){return tt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Il(e){if(e===null||vt(e)||fo(e))return 1;if(Wp(e))return 2}function Hp(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const i1={name:"attention",resolveAll:fQ,tokenize:hQ};function fQ(e,t){let r=-1,n,a,s,o,l,u,d,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const m={...e[n][1].end},p={...e[r][1].start};aE(m,-u),aE(p,u),o={type:u>1?"strongSequence":"emphasisSequence",start:m,end:{...e[n][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},s={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[n][1].end={...o.start},e[r][1].start={...l.end},d=[],e[n][1].end.offset-e[n][1].start.offset&&(d=Wn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])),d=Wn(d,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",s,t]]),d=Wn(d,Hp(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),d=Wn(d,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,d=Wn(d,[["enter",e[r][1],t],["exit",e[r][1],t]])):h=0,kn(e,n-1,r-n+3,d),r=n+d.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function hQ(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=Il(n);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===s)return e.consume(u),l;const d=e.exit("attentionSequence"),h=Il(u),m=!h||h===2&&a||r.includes(u),p=!a||a===2&&h||r.includes(n);return d._open=!!(s===42?m:m&&(a||!p)),d._close=!!(s===42?p:p&&(h||!m)),t(u)}}function aE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const mQ={name:"autolink",tokenize:pQ};function pQ(e,t,r){let n=0;return a;function a(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return Yr(g)?(e.consume(g),o):g===64?r(g):d(g)}function o(g){return g===43||g===45||g===46||Lr(g)?(n=1,l(g)):d(g)}function l(g){return g===58?(e.consume(g),n=0,u):(g===43||g===45||g===46||Lr(g))&&n++<32?(e.consume(g),l):(n=0,d(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||Om(g)?r(g):(e.consume(g),u)}function d(g){return g===64?(e.consume(g),h):iQ(g)?(e.consume(g),d):r(g)}function h(g){return Lr(g)?m(g):r(g)}function m(g){return g===46?(e.consume(g),n=0,h):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):p(g)}function p(g){if((g===45||Lr(g))&&n++<63){const y=g===45?p:m;return e.consume(g),y}return r(g)}}const Gd={partial:!0,tokenize:xQ};function xQ(e,t,r){return n;function n(s){return Je(s)?tt(e,a,"linePrefix")(s):a(s)}function a(s){return s===null||Re(s)?t(s):r(s)}}const I$={continuation:{tokenize:yQ},exit:vQ,name:"blockQuote",tokenize:gQ};function gQ(e,t,r){const n=this;return a;function a(o){if(o===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return r(o)}function s(o){return Je(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function yQ(e,t,r){const n=this;return a;function a(o){return Je(o)?tt(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(I$,t,r)(o)}}function vQ(e){e.exit("blockQuote")}const $$={name:"characterEscape",tokenize:bQ};function bQ(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),a}function a(s){return sQ(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const F$={name:"characterReference",tokenize:jQ};function jQ(e,t,r){const n=this;let a=0,s,o;return l;function l(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),u}function u(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),s=31,o=Lr,h(m))}function d(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=aQ,h):(e.enter("characterReferenceValue"),s=7,o=n1,h(m))}function h(m){if(m===59&&a){const p=e.exit("characterReferenceValue");return o===Lr&&!q2(n.sliceSerialize(p))?r(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(m)&&a++<s?(e.consume(m),h):r(m)}}const sE={partial:!0,tokenize:NQ},oE={concrete:!0,name:"codeFenced",tokenize:wQ};function wQ(e,t,r){const n=this,a={partial:!0,tokenize:P};let s=0,o=0,l;return u;function u(_){return d(_)}function d(_){const T=n.events[n.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(_)}function h(_){return _===l?(o++,e.consume(_),h):o<3?r(_):(e.exit("codeFencedFenceSequence"),Je(_)?tt(e,m,"whitespace")(_):m(_))}function m(_){return _===null||Re(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(sE,v,E)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||Re(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(_)):Je(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),tt(e,g,"whitespace")(_)):_===96&&_===l?r(_):(e.consume(_),p)}function g(_){return _===null||Re(_)?m(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===null||Re(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(_)):_===96&&_===l?r(_):(e.consume(_),y)}function v(_){return e.attempt(a,E,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),w}function w(_){return s>0&&Je(_)?tt(e,S,"linePrefix",s+1)(_):S(_)}function S(_){return _===null||Re(_)?e.check(sE,v,E)(_):(e.enter("codeFlowValue"),k(_))}function k(_){return _===null||Re(_)?(e.exit("codeFlowValue"),S(_)):(e.consume(_),k)}function E(_){return e.exit("codeFenced"),t(_)}function P(_,T,D){let L=0;return M;function M(W){return _.enter("lineEnding"),_.consume(W),_.exit("lineEnding"),F}function F(W){return _.enter("codeFencedFence"),Je(W)?tt(_,q,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):q(W)}function q(W){return W===l?(_.enter("codeFencedFenceSequence"),H(W)):D(W)}function H(W){return W===l?(L++,_.consume(W),H):L>=o?(_.exit("codeFencedFenceSequence"),Je(W)?tt(_,K,"whitespace")(W):K(W)):D(W)}function K(W){return W===null||Re(W)?(_.exit("codeFencedFence"),T(W)):D(W)}}}function NQ(e,t,r){const n=this;return a;function a(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const Kg={name:"codeIndented",tokenize:SQ},_Q={partial:!0,tokenize:kQ};function SQ(e,t,r){const n=this;return a;function a(d){return e.enter("codeIndented"),tt(e,s,"linePrefix",5)(d)}function s(d){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(d):r(d)}function o(d){return d===null?u(d):Re(d)?e.attempt(_Q,o,u)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||Re(d)?(e.exit("codeFlowValue"),o(d)):(e.consume(d),l)}function u(d){return e.exit("codeIndented"),t(d)}}function kQ(e,t,r){const n=this;return a;function a(o){return n.parser.lazy[n.now().line]?r(o):Re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):tt(e,s,"linePrefix",5)(o)}function s(o){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):Re(o)?a(o):r(o)}}const PQ={name:"codeText",previous:EQ,resolve:CQ,tokenize:OQ};function CQ(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function EQ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function OQ(e,t,r){let n=0,a,s;return o;function o(m){return e.enter("codeText"),e.enter("codeTextSequence"),l(m)}function l(m){return m===96?(e.consume(m),n++,l):(e.exit("codeTextSequence"),u(m))}function u(m){return m===null?r(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),u):m===96?(s=e.enter("codeTextSequence"),a=0,h(m)):Re(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Re(m)?(e.exit("codeTextData"),u(m)):(e.consume(m),d)}function h(m){return m===96?(e.consume(m),a++,h):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(s.type="codeTextData",d(m))}}class TQ{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&hu(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),hu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),hu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);hu(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);hu(this.left,r.reverse())}}}function hu(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function L$(e){const t={};let r=-1,n,a,s,o,l,u,d;const h=new TQ(e);for(;++r<h.length;){for(;r in t;)r=t[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,AQ(h,r)),r=t[r],d=!0);else if(n[1]._container){for(s=r,a=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(n[1].end={...h.get(a)[1].start},l=h.slice(a,r),l.unshift(n),h.splice(a,r-a+1,l))}}return kn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function AQ(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const s=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],d={};let h,m,p=-1,g=r,y=0,v=0;const b=[v];for(;g;){for(;e.get(++a)[1]!==g;);s.push(a),g._tokenizer||(h=n.sliceStream(g),g.next||h.push(null),m&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=g,g=g.next}for(g=r;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(v=p+1,b.push(v),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):b.pop(),p=b.length;p--;){const w=l.slice(b[p],b[p+1]),S=s.pop();u.push([S,S+w.length-1]),e.splice(S,2,w)}for(u.reverse(),p=-1;++p<u.length;)d[y+u[p][0]]=y+u[p][1],y+=u[p][1]-u[p][0]-1;return d}const MQ={resolve:DQ,tokenize:IQ},RQ={partial:!0,tokenize:$Q};function DQ(e){return L$(e),e}function IQ(e,t){let r;return n;function n(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?s(l):Re(l)?e.check(RQ,o,s)(l):(e.consume(l),a)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function $Q(e,t,r){const n=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),tt(e,s,"linePrefix")}function s(o){if(o===null||Re(o))return r(o);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function z$(e,t,r,n,a,s,o,l,u){const d=u||Number.POSITIVE_INFINITY;let h=0;return m;function m(w){return w===60?(e.enter(n),e.enter(a),e.enter(s),e.consume(w),e.exit(s),p):w===null||w===32||w===41||Om(w)?r(w):(e.enter(n),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),v(w))}function p(w){return w===62?(e.enter(s),e.consume(w),e.exit(s),e.exit(a),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(e.exit("chunkString"),e.exit(l),p(w)):w===null||w===60||Re(w)?r(w):(e.consume(w),w===92?y:g)}function y(w){return w===60||w===62||w===92?(e.consume(w),g):g(w)}function v(w){return!h&&(w===null||w===41||vt(w))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(n),t(w)):h<d&&w===40?(e.consume(w),h++,v):w===41?(e.consume(w),h--,v):w===null||w===32||w===40||Om(w)?r(w):(e.consume(w),w===92?b:v)}function b(w){return w===40||w===41||w===92?(e.consume(w),v):v(w)}}function q$(e,t,r,n,a,s){const o=this;let l=0,u;return d;function d(g){return e.enter(n),e.enter(a),e.consume(g),e.exit(a),e.enter(s),h}function h(g){return l>999||g===null||g===91||g===93&&!u||g===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?r(g):g===93?(e.exit(s),e.enter(a),e.consume(g),e.exit(a),e.exit(n),t):Re(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===null||g===91||g===93||Re(g)||l++>999?(e.exit("chunkString"),h(g)):(e.consume(g),u||(u=!Je(g)),g===92?p:m)}function p(g){return g===91||g===92||g===93?(e.consume(g),l++,m):m(g)}}function B$(e,t,r,n,a,s){let o;return l;function l(p){return p===34||p===39||p===40?(e.enter(n),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,u):r(p)}function u(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(n),t):(e.enter(s),d(p))}function d(p){return p===o?(e.exit(s),u(o)):p===null?r(p):Re(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),tt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||Re(p)?(e.exit("chunkString"),d(p)):(e.consume(p),p===92?m:h)}function m(p){return p===o||p===92?(e.consume(p),h):h(p)}}function Lu(e,t){let r;return n;function n(a){return Re(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):Je(a)?tt(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const FQ={name:"definition",tokenize:zQ},LQ={partial:!0,tokenize:qQ};function zQ(e,t,r){const n=this;let a;return s;function s(g){return e.enter("definition"),o(g)}function o(g){return q$.call(n,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return a=yi(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):r(g)}function u(g){return vt(g)?Lu(e,d)(g):d(g)}function d(g){return z$(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return e.attempt(LQ,m,m)(g)}function m(g){return Je(g)?tt(e,p,"whitespace")(g):p(g)}function p(g){return g===null||Re(g)?(e.exit("definition"),n.parser.defined.push(a),t(g)):r(g)}}function qQ(e,t,r){return n;function n(l){return vt(l)?Lu(e,a)(l):r(l)}function a(l){return B$(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Je(l)?tt(e,o,"whitespace")(l):o(l)}function o(l){return l===null||Re(l)?t(l):r(l)}}const BQ={name:"hardBreakEscape",tokenize:UQ};function UQ(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),a}function a(s){return Re(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const VQ={name:"headingAtx",resolve:WQ,tokenize:HQ};function WQ(e,t){let r=e.length-2,n=3,a,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},kn(e,n,r-n+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function HQ(e,t,r){let n=0;return a;function a(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&n++<6?(e.consume(h),o):h===null||vt(h)?(e.exit("atxHeadingSequence"),l(h)):r(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||Re(h)?(e.exit("atxHeading"),t(h)):Je(h)?tt(e,l,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||vt(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),d)}}const KQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lE=["pre","script","style","textarea"],GQ={concrete:!0,name:"htmlFlow",resolveTo:XQ,tokenize:JQ},YQ={partial:!0,tokenize:eX},QQ={partial:!0,tokenize:ZQ};function XQ(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function JQ(e,t,r){const n=this;let a,s,o,l,u;return d;function d(I){return h(I)}function h(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),m}function m(I){return I===33?(e.consume(I),p):I===47?(e.consume(I),s=!0,v):I===63?(e.consume(I),a=3,n.interrupt?t:R):Yr(I)?(e.consume(I),o=String.fromCharCode(I),b):r(I)}function p(I){return I===45?(e.consume(I),a=2,g):I===91?(e.consume(I),a=5,l=0,y):Yr(I)?(e.consume(I),a=4,n.interrupt?t:R):r(I)}function g(I){return I===45?(e.consume(I),n.interrupt?t:R):r(I)}function y(I){const ae="CDATA[";return I===ae.charCodeAt(l++)?(e.consume(I),l===ae.length?n.interrupt?t:q:y):r(I)}function v(I){return Yr(I)?(e.consume(I),o=String.fromCharCode(I),b):r(I)}function b(I){if(I===null||I===47||I===62||vt(I)){const ae=I===47,ye=o.toLowerCase();return!ae&&!s&&lE.includes(ye)?(a=1,n.interrupt?t(I):q(I)):KQ.includes(o.toLowerCase())?(a=6,ae?(e.consume(I),w):n.interrupt?t(I):q(I)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(I):s?S(I):k(I))}return I===45||Lr(I)?(e.consume(I),o+=String.fromCharCode(I),b):r(I)}function w(I){return I===62?(e.consume(I),n.interrupt?t:q):r(I)}function S(I){return Je(I)?(e.consume(I),S):M(I)}function k(I){return I===47?(e.consume(I),M):I===58||I===95||Yr(I)?(e.consume(I),E):Je(I)?(e.consume(I),k):M(I)}function E(I){return I===45||I===46||I===58||I===95||Lr(I)?(e.consume(I),E):P(I)}function P(I){return I===61?(e.consume(I),_):Je(I)?(e.consume(I),P):k(I)}function _(I){return I===null||I===60||I===61||I===62||I===96?r(I):I===34||I===39?(e.consume(I),u=I,T):Je(I)?(e.consume(I),_):D(I)}function T(I){return I===u?(e.consume(I),u=null,L):I===null||Re(I)?r(I):(e.consume(I),T)}function D(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||vt(I)?P(I):(e.consume(I),D)}function L(I){return I===47||I===62||Je(I)?k(I):r(I)}function M(I){return I===62?(e.consume(I),F):r(I)}function F(I){return I===null||Re(I)?q(I):Je(I)?(e.consume(I),F):r(I)}function q(I){return I===45&&a===2?(e.consume(I),$):I===60&&a===1?(e.consume(I),Q):I===62&&a===4?(e.consume(I),B):I===63&&a===3?(e.consume(I),R):I===93&&a===5?(e.consume(I),X):Re(I)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(YQ,V,H)(I)):I===null||Re(I)?(e.exit("htmlFlowData"),H(I)):(e.consume(I),q)}function H(I){return e.check(QQ,K,V)(I)}function K(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),W}function W(I){return I===null||Re(I)?H(I):(e.enter("htmlFlowData"),q(I))}function $(I){return I===45?(e.consume(I),R):q(I)}function Q(I){return I===47?(e.consume(I),o="",Y):q(I)}function Y(I){if(I===62){const ae=o.toLowerCase();return lE.includes(ae)?(e.consume(I),B):q(I)}return Yr(I)&&o.length<8?(e.consume(I),o+=String.fromCharCode(I),Y):q(I)}function X(I){return I===93?(e.consume(I),R):q(I)}function R(I){return I===62?(e.consume(I),B):I===45&&a===2?(e.consume(I),R):q(I)}function B(I){return I===null||Re(I)?(e.exit("htmlFlowData"),V(I)):(e.consume(I),B)}function V(I){return e.exit("htmlFlow"),t(I)}}function ZQ(e,t,r){const n=this;return a;function a(o){return Re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):r(o)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function eX(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Gd,t,r)}}const tX={name:"htmlText",tokenize:rX};function rX(e,t,r){const n=this;let a,s,o;return l;function l(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),u}function u(R){return R===33?(e.consume(R),d):R===47?(e.consume(R),P):R===63?(e.consume(R),k):Yr(R)?(e.consume(R),D):r(R)}function d(R){return R===45?(e.consume(R),h):R===91?(e.consume(R),s=0,y):Yr(R)?(e.consume(R),S):r(R)}function h(R){return R===45?(e.consume(R),g):r(R)}function m(R){return R===null?r(R):R===45?(e.consume(R),p):Re(R)?(o=m,Q(R)):(e.consume(R),m)}function p(R){return R===45?(e.consume(R),g):m(R)}function g(R){return R===62?$(R):R===45?p(R):m(R)}function y(R){const B="CDATA[";return R===B.charCodeAt(s++)?(e.consume(R),s===B.length?v:y):r(R)}function v(R){return R===null?r(R):R===93?(e.consume(R),b):Re(R)?(o=v,Q(R)):(e.consume(R),v)}function b(R){return R===93?(e.consume(R),w):v(R)}function w(R){return R===62?$(R):R===93?(e.consume(R),w):v(R)}function S(R){return R===null||R===62?$(R):Re(R)?(o=S,Q(R)):(e.consume(R),S)}function k(R){return R===null?r(R):R===63?(e.consume(R),E):Re(R)?(o=k,Q(R)):(e.consume(R),k)}function E(R){return R===62?$(R):k(R)}function P(R){return Yr(R)?(e.consume(R),_):r(R)}function _(R){return R===45||Lr(R)?(e.consume(R),_):T(R)}function T(R){return Re(R)?(o=T,Q(R)):Je(R)?(e.consume(R),T):$(R)}function D(R){return R===45||Lr(R)?(e.consume(R),D):R===47||R===62||vt(R)?L(R):r(R)}function L(R){return R===47?(e.consume(R),$):R===58||R===95||Yr(R)?(e.consume(R),M):Re(R)?(o=L,Q(R)):Je(R)?(e.consume(R),L):$(R)}function M(R){return R===45||R===46||R===58||R===95||Lr(R)?(e.consume(R),M):F(R)}function F(R){return R===61?(e.consume(R),q):Re(R)?(o=F,Q(R)):Je(R)?(e.consume(R),F):L(R)}function q(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),a=R,H):Re(R)?(o=q,Q(R)):Je(R)?(e.consume(R),q):(e.consume(R),K)}function H(R){return R===a?(e.consume(R),a=void 0,W):R===null?r(R):Re(R)?(o=H,Q(R)):(e.consume(R),H)}function K(R){return R===null||R===34||R===39||R===60||R===61||R===96?r(R):R===47||R===62||vt(R)?L(R):(e.consume(R),K)}function W(R){return R===47||R===62||vt(R)?L(R):r(R)}function $(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):r(R)}function Q(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),Y}function Y(R){return Je(R)?tt(e,X,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):X(R)}function X(R){return e.enter("htmlTextData"),o(R)}}const B2={name:"labelEnd",resolveAll:sX,resolveTo:oX,tokenize:lX},nX={tokenize:cX},iX={tokenize:uX},aX={tokenize:dX};function sX(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&kn(e,0,e.length,r),e}function oX(e,t){let r=e.length,n=0,a,s,o,l;for(;r--;)if(a=e[r][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(o=r);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",u,t],["enter",d,t]],l=Wn(l,e.slice(s+1,s+n+3)),l=Wn(l,[["enter",h,t]]),l=Wn(l,Hp(t.parser.constructs.insideSpan.null,e.slice(s+n+4,o-3),t)),l=Wn(l,[["exit",h,t],e[o-2],e[o-1],["exit",d,t]]),l=Wn(l,e.slice(o+1)),l=Wn(l,[["exit",u,t]]),kn(e,s,e.length,l),e}function lX(e,t,r){const n=this;let a=n.events.length,s,o;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){s=n.events[a][1];break}return l;function l(p){return s?s._inactive?m(p):(o=n.parser.defined.includes(yi(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),u):r(p)}function u(p){return p===40?e.attempt(nX,h,o?h:m)(p):p===91?e.attempt(iX,h,o?d:m)(p):o?h(p):m(p)}function d(p){return e.attempt(aX,h,m)(p)}function h(p){return t(p)}function m(p){return s._balanced=!0,r(p)}}function cX(e,t,r){return n;function n(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),a}function a(m){return vt(m)?Lu(e,s)(m):s(m)}function s(m){return m===41?h(m):z$(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return vt(m)?Lu(e,u)(m):h(m)}function l(m){return r(m)}function u(m){return m===34||m===39||m===40?B$(e,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function d(m){return vt(m)?Lu(e,h)(m):h(m)}function h(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):r(m)}}function uX(e,t,r){const n=this;return a;function a(l){return q$.call(n,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return n.parser.defined.includes(yi(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function o(l){return r(l)}}function dX(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),a}function a(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const fX={name:"labelStartImage",resolveAll:B2.resolveAll,tokenize:hX};function hX(e,t,r){const n=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):r(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const mX={name:"labelStartLink",resolveAll:B2.resolveAll,tokenize:pX};function pX(e,t,r){const n=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Gg={name:"lineEnding",tokenize:xX};function xX(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),tt(e,t,"linePrefix")}}const cm={name:"thematicBreak",tokenize:gX};function gX(e,t,r){let n=0,a;return s;function s(d){return e.enter("thematicBreak"),o(d)}function o(d){return a=d,l(d)}function l(d){return d===a?(e.enter("thematicBreakSequence"),u(d)):n>=3&&(d===null||Re(d))?(e.exit("thematicBreak"),t(d)):r(d)}function u(d){return d===a?(e.consume(d),n++,u):(e.exit("thematicBreakSequence"),Je(d)?tt(e,l,"whitespace")(d):l(d))}}const cn={continuation:{tokenize:jX},exit:NX,name:"list",tokenize:bX},yX={partial:!0,tokenize:_X},vX={partial:!0,tokenize:wX};function bX(e,t,r){const n=this,a=n.events[n.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(g){const y=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:n1(g)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(cm,r,d)(g):d(g);if(!n.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return r(g)}function u(g){return n1(g)&&++o<10?(e.consume(g),u):(!n.interrupt||o<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),d(g)):r(g)}function d(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,e.check(Gd,n.interrupt?r:h,e.attempt(yX,p,m))}function h(g){return n.containerState.initialBlankLine=!0,s++,p(g)}function m(g){return Je(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),p):r(g)}function p(g){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function jX(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Gd,a,s);function a(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,tt(e,t,"listItemIndent",n.containerState.size+1)(l)}function s(l){return n.containerState.furtherBlankLines||!Je(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(vX,t,o)(l))}function o(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,tt(e,e.attempt(cn,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function wX(e,t,r){const n=this;return tt(e,a,"listItemIndent",n.containerState.size+1);function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(s):r(s)}}function NX(e){e.exit(this.containerState.type)}function _X(e,t,r){const n=this;return tt(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(s){const o=n.events[n.events.length-1];return!Je(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const cE={name:"setextUnderline",resolveTo:SX,tokenize:kX};function SX(e,t){let r=e.length,n,a,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",s?(e.splice(a,0,["enter",o,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function kX(e,t,r){const n=this;let a;return s;function s(d){let h=n.events.length,m;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){m=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||m)?(e.enter("setextHeadingLine"),a=d,o(d)):r(d)}function o(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===a?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),Je(d)?tt(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Re(d)?(e.exit("setextHeadingLine"),t(d)):r(d)}}const PX={tokenize:CX};function CX(e){const t=this,r=e.attempt(Gd,n,e.attempt(this.parser.constructs.flowInitial,a,tt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(MQ,a)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const EX={resolveAll:V$()},OX=U$("string"),TX=U$("text");function U$(e){return{resolveAll:V$(e==="text"?AX:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],s=r.attempt(a,o,l);return o;function o(h){return d(h)?s(h):l(h)}function l(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),u}function u(h){return d(h)?(r.exit("data"),s(h)):(r.consume(h),u)}function d(h){if(h===null)return!0;const m=a[h];let p=-1;if(m)for(;++p<m.length;){const g=m[p];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function V$(e){return t;function t(r,n){let a=-1,s;for(;++a<=r.length;)s===void 0?r[a]&&r[a][1].type==="data"&&(s=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==s+2&&(r[s][1].end=r[a-1][1].end,r.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(r,n):r}}function AX(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let s=a.length,o=-1,l=0,u;for(;s--;){const d=a[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)u=!0,l++;else if(d!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const d={type:r===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:n.start._bufferIndex+o,_index:n.start._index+s,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(e.splice(r,0,["enter",d,t],["exit",d,t]),r+=2)}r++}return e}const MX={42:cn,43:cn,45:cn,48:cn,49:cn,50:cn,51:cn,52:cn,53:cn,54:cn,55:cn,56:cn,57:cn,62:I$},RX={91:FQ},DX={[-2]:Kg,[-1]:Kg,32:Kg},IX={35:VQ,42:cm,45:[cE,cm],60:GQ,61:cE,95:cm,96:oE,126:oE},$X={38:F$,92:$$},FX={[-5]:Gg,[-4]:Gg,[-3]:Gg,33:fX,38:F$,42:i1,60:[mQ,tX],91:mX,92:[BQ,$$],93:B2,95:i1,96:PQ},LX={null:[i1,EX]},zX={null:[42,95]},qX={null:[]},BX=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:zX,contentInitial:RX,disable:qX,document:MX,flow:IX,flowInitial:DX,insideSpan:LX,string:$X,text:FX},Symbol.toStringTag,{value:"Module"}));function UX(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},s=[];let o=[],l=[];const u={attempt:T(P),check:T(_),consume:S,enter:k,exit:E,interrupt:T(_,{interrupt:!0})},d={code:null,containerState:{},defineSkip:v,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:g,write:m};let h=t.tokenize.call(d,u);return t.resolveAll&&s.push(t),d;function m(F){return o=Wn(o,F),b(),o[o.length-1]!==null?[]:(D(t,0),d.events=Hp(s,d.events,d),d.events)}function p(F,q){return WX(g(F),q)}function g(F){return VX(o,F)}function y(){const{_bufferIndex:F,_index:q,line:H,column:K,offset:W}=n;return{_bufferIndex:F,_index:q,line:H,column:K,offset:W}}function v(F){a[F.line]=F.column,M()}function b(){let F;for(;n._index<o.length;){const q=o[n._index];if(typeof q=="string")for(F=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===F&&n._bufferIndex<q.length;)w(q.charCodeAt(n._bufferIndex));else w(q)}}function w(F){h=h(F)}function S(F){Re(F)?(n.line++,n.column=1,n.offset+=F===-3?2:1,M()):F!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=F}function k(F,q){const H=q||{};return H.type=F,H.start=y(),d.events.push(["enter",H,d]),l.push(H),H}function E(F){const q=l.pop();return q.end=y(),d.events.push(["exit",q,d]),q}function P(F,q){D(F,q.from)}function _(F,q){q.restore()}function T(F,q){return H;function H(K,W,$){let Q,Y,X,R;return Array.isArray(K)?V(K):"tokenize"in K?V([K]):B(K);function B(be){return we;function we(ke){const se=ke!==null&&be[ke],ve=ke!==null&&be.null,Oe=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return V(Oe)(ke)}}function V(be){return Q=be,Y=0,be.length===0?$:I(be[Y])}function I(be){return we;function we(ke){return R=L(),X=be,be.partial||(d.currentConstruct=be),be.name&&d.parser.constructs.disable.null.includes(be.name)?ye():be.tokenize.call(q?Object.assign(Object.create(d),q):d,u,ae,ye)(ke)}}function ae(be){return F(X,R),W}function ye(be){return R.restore(),++Y<Q.length?I(Q[Y]):$}}}function D(F,q){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&kn(d.events,q,d.events.length-q,F.resolve(d.events.slice(q),d)),F.resolveTo&&(d.events=F.resolveTo(d.events,d))}function L(){const F=y(),q=d.previous,H=d.currentConstruct,K=d.events.length,W=Array.from(l);return{from:K,restore:$};function $(){n=F,d.previous=q,d.currentConstruct=H,d.events.length=K,l=W,M()}}function M(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function VX(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let o;if(r===a)o=[e[r].slice(n,s)];else{if(o=e.slice(r,a),n>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(n):o.shift()}s>0&&o.push(e[a].slice(0,s))}return o}function WX(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const s=e[r];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(s)}a=s===-2,n.push(o)}return n.join("")}function HX(e){const n={constructs:R$([BX,...(e||{}).extensions||[]]),content:a(oQ),defined:[],document:a(cQ),flow:a(PX),lazy:{},string:a(OX),text:a(TX)};return n;function a(s){return o;function o(l){return UX(n,s,l)}}}function KX(e){for(;!L$(e););return e}const uE=/[\0\t\n\r]/g;function GX(){let e=1,t="",r=!0,n;return a;function a(s,o,l){const u=[];let d,h,m,p,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),m=0,t="",r&&(s.charCodeAt(0)===65279&&m++,r=void 0);m<s.length;){if(uE.lastIndex=m,d=uE.exec(s),p=d&&d.index!==void 0?d.index:s.length,g=s.charCodeAt(p),!d){t=s.slice(m);break}if(g===10&&m===p&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),m<p&&(u.push(s.slice(m,p)),e+=p-m),g){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}m=p+1}return l&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const YX=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QX(e){return e.replace(YX,XX)}function XX(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),s=a===120||a===88;return D$(r.slice(s?2:1),s?16:10)}return q2(r)||e}const W$={}.hasOwnProperty;function JX(e,t,r){return typeof t!="string"&&(r=t,t=void 0),ZX(r)(KX(HX(r).document().write(GX()(e,t,!0))))}function ZX(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Br),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(xt),blockQuote:s(ve),characterEscape:L,characterReference:L,codeFenced:s(Oe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Oe,o),codeText:s(oe,o),codeTextData:L,data:L,codeFlowValue:L,definition:s(Ze),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Be),hardBreakEscape:s(ht),hardBreakTrailing:s(ht),htmlFlow:s(Tt,o),htmlFlowData:L,htmlText:s(Tt,o),htmlTextData:L,image:s(hr),label:o,link:s(Br),listItem:s($t),listItemValue:p,listOrdered:s(_r,m),listUnordered:s(_r),paragraph:s(Sr),reference:I,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(xt),strong:s(kr),thematicBreak:s(Ki)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:se,autolinkProtocol:ke,blockQuote:u(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:be,characterReference:we,codeFenced:u(b),codeFencedFence:v,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:M,codeIndented:u(w),codeText:u(W),codeTextData:M,data:M,definition:u(),definitionDestinationString:E,definitionLabelString:S,definitionTitleString:k,emphasis:u(),hardBreakEscape:u(q),hardBreakTrailing:u(q),htmlFlow:u(H),htmlFlowData:M,htmlText:u(K),htmlTextData:M,image:u(Q),label:X,labelText:Y,lineEnding:F,link:u($),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ae,resourceDestinationString:R,resourceTitleString:B,resource:V,setextHeading:u(D),setextHeadingLineSequence:T,setextHeadingText:_,strong:u(),thematicBreak:u()}};H$(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ne){let he={type:"root",children:[]};const Ie={stack:[he],tokenStack:[],config:t,enter:l,exit:d,buffer:o,resume:h,data:r},He=[];let Ge=-1;for(;++Ge<ne.length;)if(ne[Ge][1].type==="listOrdered"||ne[Ge][1].type==="listUnordered")if(ne[Ge][0]==="enter")He.push(Ge);else{const Qt=He.pop();Ge=a(ne,Qt,Ge)}for(Ge=-1;++Ge<ne.length;){const Qt=t[ne[Ge][0]];W$.call(Qt,ne[Ge][1].type)&&Qt[ne[Ge][1].type].call(Object.assign({sliceSerialize:ne[Ge][2].sliceSerialize},Ie),ne[Ge][1])}if(Ie.tokenStack.length>0){const Qt=Ie.tokenStack[Ie.tokenStack.length-1];(Qt[1]||dE).call(Ie,void 0,Qt[0])}for(he.position={start:Za(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Za(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<t.transforms.length;)he=t.transforms[Ge](he)||he;return he}function a(ne,he,Ie){let He=he-1,Ge=-1,Qt=!1,En,Pr,Ur,wi;for(;++He<=Ie;){const Ct=ne[He];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?Ge++:Ge--,wi=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(En&&!wi&&!Ge&&!Ur&&(Ur=He),wi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wi=void 0}if(!Ge&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||Ge===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(En){let On=He;for(Pr=void 0;On--;){const Vr=ne[On];if(Vr[1].type==="lineEnding"||Vr[1].type==="lineEndingBlank"){if(Vr[0]==="exit")continue;Pr&&(ne[Pr][1].type="lineEndingBlank",Qt=!0),Vr[1].type="lineEnding",Pr=On}else if(!(Vr[1].type==="linePrefix"||Vr[1].type==="blockQuotePrefix"||Vr[1].type==="blockQuotePrefixWhitespace"||Vr[1].type==="blockQuoteMarker"||Vr[1].type==="listItemIndent"))break}Ur&&(!Pr||Ur<Pr)&&(En._spread=!0),En.end=Object.assign({},Pr?ne[Pr][1].start:Ct[1].end),ne.splice(Pr||He,0,["exit",En,Ct[2]]),He++,Ie++}if(Ct[1].type==="listItemPrefix"){const On={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};En=On,ne.splice(He,0,["enter",On,Ct[2]]),He++,Ie++,Ur=void 0,wi=!0}}}return ne[he][1]._spread=Qt,Ie}function s(ne,he){return Ie;function Ie(He){l.call(this,ne(He),He),he&&he.call(this,He)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(ne,he,Ie){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([he,Ie||void 0]),ne.position={start:Za(he.start),end:void 0}}function u(ne){return he;function he(Ie){ne&&ne.call(this,Ie),d.call(this,Ie)}}function d(ne,he){const Ie=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==ne.type&&(he?he.call(this,ne,He[0]):(He[1]||dE).call(this,ne,He[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Fu({start:ne.start,end:ne.end})+"): its not open");Ie.position.end=Za(ne.end)}function h(){return z2(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function p(ne){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.lang=ne}function y(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.meta=ne}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.value=ne.replace(/(\r?\n|\r)$/g,"")}function S(ne){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=he,Ie.identifier=yi(this.sliceSerialize(ne)).toLowerCase()}function k(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.title=ne}function E(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.url=ne}function P(ne){const he=this.stack[this.stack.length-1];if(!he.depth){const Ie=this.sliceSerialize(ne).length;he.depth=Ie}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function T(ne){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function L(ne){const Ie=this.stack[this.stack.length-1].children;let He=Ie[Ie.length-1];(!He||He.type!=="text")&&(He=Hi(),He.position={start:Za(ne.start),end:void 0},Ie.push(He)),this.stack.push(He)}function M(ne){const he=this.stack.pop();he.value+=this.sliceSerialize(ne),he.position.end=Za(ne.end)}function F(ne){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=he.children[he.children.length-1];Ie.position.end=Za(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(he.type)&&(L.call(this,ne),M.call(this,ne))}function q(){this.data.atHardBreak=!0}function H(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.value=ne}function K(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.value=ne}function W(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.value=ne}function $(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=he,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Q(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=he,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Y(ne){const he=this.sliceSerialize(ne),Ie=this.stack[this.stack.length-2];Ie.label=QX(he),Ie.identifier=yi(he).toLowerCase()}function X(){const ne=this.stack[this.stack.length-1],he=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const He=ne.children;Ie.children=He}else Ie.alt=he}function R(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.url=ne}function B(){const ne=this.resume(),he=this.stack[this.stack.length-1];he.title=ne}function V(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function ae(ne){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=he,Ie.identifier=yi(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function ye(ne){this.data.characterReferenceType=ne.type}function be(ne){const he=this.sliceSerialize(ne),Ie=this.data.characterReferenceType;let He;Ie?(He=D$(he,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=q2(he);const Ge=this.stack[this.stack.length-1];Ge.value+=He}function we(ne){const he=this.stack.pop();he.position.end=Za(ne.end)}function ke(ne){M.call(this,ne);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(ne)}function se(ne){M.call(this,ne);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(ne)}function ve(){return{type:"blockquote",children:[]}}function Oe(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function Ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Be(){return{type:"emphasis",children:[]}}function xt(){return{type:"heading",depth:0,children:[]}}function ht(){return{type:"break"}}function Tt(){return{type:"html",value:""}}function hr(){return{type:"image",title:null,url:"",alt:null}}function Br(){return{type:"link",title:null,url:"",children:[]}}function _r(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function $t(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function Sr(){return{type:"paragraph",children:[]}}function kr(){return{type:"strong",children:[]}}function Hi(){return{type:"text",value:""}}function Ki(){return{type:"thematicBreak"}}}function Za(e){return{line:e.line,column:e.column,offset:e.offset}}function H$(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?H$(e,n):eJ(e,n)}}function eJ(e,t){let r;for(r in t)if(W$.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function dE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Fu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Fu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Fu({start:t.start,end:t.end})+") is still open")}function tJ(e){const t=this;t.parser=r;function r(n){return JX(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function rJ(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function nJ(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function iJ(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function aJ(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function sJ(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oJ(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=pc(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let o,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(n,l);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function lJ(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cJ(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function K$(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=n:a.push({type:"text",value:n}),a}function uJ(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return K$(e,t);const a={src:pc(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function dJ(e,t){const r={src:pc(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function fJ(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function hJ(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return K$(e,t);const a={href:pc(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function mJ(e,t){const r={href:pc(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pJ(e,t,r){const n=e.all(t),a=r?xJ(r):G$(t),s={},o=[];if(typeof t.checked=="boolean"){const h=n[0];let m;h&&h.type==="element"&&h.tagName==="p"?m=h:(m={type:"element",tagName:"p",properties:{},children:[]},n.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const h=n[l];(a||l!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?o.push(...h.children):o.push(h)}const u=n[n.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,d),e.applyData(t,d)}function xJ(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=G$(r[n])}return t}function G$(e){const t=e.spread;return t??e.children.length>1}function gJ(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const o=n[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function yJ(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vJ(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function bJ(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jJ(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),a.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=I2(t.children[1]),u=P$(t.children[t.children.length-1]);l&&u&&(o.position={start:l,end:u}),a.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function wJ(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,l=o?o.length:t.children.length;let u=-1;const d=[];for(;++u<l;){const m=t.children[u],p={},g=o?o[u]:void 0;g&&(p.align=g);let y={type:"element",tagName:s,properties:p,children:[]};m&&(y.children=e.all(m),e.patch(m,y),y=e.applyData(m,y)),d.push(y)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function NJ(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const fE=9,hE=32;function _J(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const s=[];for(;n;)s.push(mE(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return s.push(mE(t.slice(a),a>0,!1)),s.join("")}function mE(e,t,r){let n=0,a=e.length;if(t){let s=e.codePointAt(n);for(;s===fE||s===hE;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(a-1);for(;s===fE||s===hE;)a--,s=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function SJ(e,t){const r={type:"text",value:_J(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function kJ(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const PJ={blockquote:rJ,break:nJ,code:iJ,delete:aJ,emphasis:sJ,footnoteReference:oJ,heading:lJ,html:cJ,imageReference:uJ,image:dJ,inlineCode:fJ,linkReference:hJ,link:mJ,listItem:pJ,list:gJ,paragraph:yJ,root:vJ,strong:bJ,table:jJ,tableCell:NJ,tableRow:wJ,text:SJ,thematicBreak:kJ,toml:Ah,yaml:Ah,definition:Ah,footnoteDefinition:Ah};function Ah(){}const Y$=-1,Kp=0,zu=1,Tm=2,U2=3,V2=4,W2=5,H2=6,Q$=7,X$=8,pE=typeof self=="object"?self:globalThis,CJ=(e,t)=>{const r=(a,s)=>(e.set(s,a),a),n=a=>{if(e.has(a))return e.get(a);const[s,o]=t[a];switch(s){case Kp:case Y$:return r(o,a);case zu:{const l=r([],a);for(const u of o)l.push(n(u));return l}case Tm:{const l=r({},a);for(const[u,d]of o)l[n(u)]=n(d);return l}case U2:return r(new Date(o),a);case V2:{const{source:l,flags:u}=o;return r(new RegExp(l,u),a)}case W2:{const l=r(new Map,a);for(const[u,d]of o)l.set(n(u),n(d));return l}case H2:{const l=r(new Set,a);for(const u of o)l.add(n(u));return l}case Q$:{const{name:l,message:u}=o;return r(new pE[l](u),a)}case X$:return r(BigInt(o),a);case"BigInt":return r(Object(BigInt(o)),a);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return r(new DataView(l),o)}}return r(new pE[s](o),a)};return n},xE=e=>CJ(new Map,e)(0),rl="",{toString:EJ}={},{keys:OJ}=Object,mu=e=>{const t=typeof e;if(t!=="object"||!e)return[Kp,t];const r=EJ.call(e).slice(8,-1);switch(r){case"Array":return[zu,rl];case"Object":return[Tm,rl];case"Date":return[U2,rl];case"RegExp":return[V2,rl];case"Map":return[W2,rl];case"Set":return[H2,rl];case"DataView":return[zu,r]}return r.includes("Array")?[zu,r]:r.includes("Error")?[Q$,r]:[Tm,r]},Mh=([e,t])=>e===Kp&&(t==="function"||t==="symbol"),TJ=(e,t,r,n)=>{const a=(o,l)=>{const u=n.push(o)-1;return r.set(l,u),u},s=o=>{if(r.has(o))return r.get(o);let[l,u]=mu(o);switch(l){case Kp:{let h=o;switch(u){case"bigint":l=X$,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return a([Y$],o)}return a([l,h],o)}case zu:{if(u){let p=o;return u==="DataView"?p=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(p=new Uint8Array(o)),a([u,[...p]],o)}const h=[],m=a([l,h],o);for(const p of o)h.push(s(p));return m}case Tm:{if(u)switch(u){case"BigInt":return a([u,o.toString()],o);case"Boolean":case"Number":case"String":return a([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const h=[],m=a([l,h],o);for(const p of OJ(o))(e||!Mh(mu(o[p])))&&h.push([s(p),s(o[p])]);return m}case U2:return a([l,o.toISOString()],o);case V2:{const{source:h,flags:m}=o;return a([l,{source:h,flags:m}],o)}case W2:{const h=[],m=a([l,h],o);for(const[p,g]of o)(e||!(Mh(mu(p))||Mh(mu(g))))&&h.push([s(p),s(g)]);return m}case H2:{const h=[],m=a([l,h],o);for(const p of o)(e||!Mh(mu(p)))&&h.push(s(p));return m}}const{message:d}=o;return a([l,{name:u,message:d}],o)};return s},gE=(e,{json:t,lossy:r}={})=>{const n=[];return TJ(!(t||r),!!t,new Map,n)(e),n},Am=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?xE(gE(e,t)):structuredClone(e):(e,t)=>xE(gE(e,t));function AJ(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function MJ(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function RJ(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||AJ,n=e.options.footnoteBackLabel||MJ,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const h=e.all(d),m=String(d.identifier).toUpperCase(),p=pc(m.toLowerCase());let g=0;const y=[],v=e.footnoteCounts.get(m);for(;v!==void 0&&++g<=v;){y.length>0&&y.push({type:"text",value:" "});let S=typeof r=="string"?r:r(u,g);typeof S=="string"&&(S={type:"text",value:S}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,g),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const b=h[h.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const S=b.children[b.children.length-1];S&&S.type==="text"?S.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else h.push(...y);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(h,!0)};e.patch(d,w),l.push(w)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Am(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Gp=(function(e){if(e==null)return FJ;if(typeof e=="function")return Yp(e);if(typeof e=="object")return Array.isArray(e)?DJ(e):IJ(e);if(typeof e=="string")return $J(e);throw new Error("Expected function, string, or object as test")});function DJ(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Gp(e[r]);return Yp(n);function n(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function IJ(e){const t=e;return Yp(r);function r(n){const a=n;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function $J(e){return Yp(t);function t(r){return r&&r.type===e}}function Yp(e){return t;function t(r,n,a){return!!(LJ(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function FJ(){return!0}function LJ(e){return e!==null&&typeof e=="object"&&"type"in e}const J$=[],zJ=!0,a1=!1,qJ="skip";function Z$(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const s=Gp(a),o=n?-1:1;l(e,void 0,[])();function l(u,d,h){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const g=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=J$,y,v,b;if((!t||s(u,d,h[h.length-1]||void 0))&&(g=BJ(r(u,h)),g[0]===a1))return g;if("children"in u&&u.children){const w=u;if(w.children&&g[0]!==qJ)for(v=(n?w.children.length:-1)+o,b=h.concat(w);v>-1&&v<w.children.length;){const S=w.children[v];if(y=l(S,v,b)(),y[0]===a1)return y;v=typeof y[1]=="number"?y[1]:v+o}}return g}}}function BJ(e){return Array.isArray(e)?e:typeof e=="number"?[zJ,e]:e==null?J$:[e]}function K2(e,t,r,n){let a,s,o;typeof t=="function"&&typeof r!="function"?(s=void 0,o=t,a=r):(s=t,o=r,a=n),Z$(e,s,l,a);function l(u,d){const h=d[d.length-1],m=h?h.children.indexOf(u):void 0;return o(u,m,h)}}const s1={}.hasOwnProperty,UJ={};function VJ(e,t){const r=t||UJ,n=new Map,a=new Map,s=new Map,o={...PJ,...r.handlers},l={all:d,applyData:HJ,definitionById:n,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:r,patch:WJ,wrap:GJ};return K2(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const m=h.type==="definition"?n:a,p=String(h.identifier).toUpperCase();m.has(p)||m.set(p,h)}}),l;function u(h,m){const p=h.type,g=l.handlers[p];if(s1.call(l.handlers,p)&&g)return g(l,h,m);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in h){const{children:v,...b}=h,w=Am(b);return w.children=l.all(h),w}return Am(h)}return(l.options.unknownHandler||KJ)(l,h,m)}function d(h){const m=[];if("children"in h){const p=h.children;let g=-1;for(;++g<p.length;){const y=l.one(p[g],h);if(y){if(g&&p[g-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=yE(y.value)),!Array.isArray(y)&&y.type==="element")){const v=y.children[0];v&&v.type==="text"&&(v.value=yE(v.value))}Array.isArray(y)?m.push(...y):m.push(y)}}}return m}}function WJ(e,t){e.position&&(t.position=MY(e))}function HJ(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&s&&Object.assign(r.properties,Am(s)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function KJ(e,t){const r=t.data||{},n="value"in t&&!(s1.call(r,"hProperties")||s1.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GJ(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function yE(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function vE(e,t){const r=VJ(e,t),n=r.one(e,void 0),a=RJ(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&s.children.push({type:"text",value:`
`},a),s}function YJ(e,t){return e&&"run"in e?async function(r,n){const a=vE(r,{file:n,...t});await e.run(a,n)}:function(r,n){return vE(r,{file:n,...e||t})}}function bE(e){if(e)throw e}var Yg,jE;function QJ(){if(jE)return Yg;jE=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},s=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!m)return!1;var p;for(p in d);return typeof p>"u"||e.call(d,p)},o=function(d,h){r&&h.name==="__proto__"?r(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(n)return n(d,h).value}else return;return d[h]};return Yg=function u(){var d,h,m,p,g,y,v=arguments[0],b=1,w=arguments.length,S=!1;for(typeof v=="boolean"&&(S=v,v=arguments[1]||{},b=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});b<w;++b)if(d=arguments[b],d!=null)for(h in d)m=l(v,h),p=l(d,h),v!==p&&(S&&p&&(s(p)||(g=a(p)))?(g?(g=!1,y=m&&a(m)?m:[]):y=m&&s(m)?m:{},o(v,{name:h,newValue:u(S,y,p)})):typeof p<"u"&&o(v,{name:h,newValue:p}));return v},Yg}var XJ=QJ();const Qg=ot(XJ);function o1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function JJ(){const e=[],t={run:r,use:n};return t;function r(...a){let s=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(u,...d){const h=e[++s];let m=-1;if(u){o(u);return}for(;++m<a.length;)(d[m]===null||d[m]===void 0)&&(d[m]=a[m]);a=d,h?ZJ(h,l)(...d):o(null,...d)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function ZJ(e,t){let r;return n;function n(...o){const l=e.length>o.length;let u;l&&o.push(a);try{u=e.apply(this,o)}catch(d){const h=d;if(l&&r)throw h;return a(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,a):u instanceof Error?a(u):s(u))}function a(o,...l){r||(r=!0,t(o,...l))}function s(o){a(null,o)}}const Ti={basename:eZ,dirname:tZ,extname:rZ,join:nZ,sep:"/"};function eZ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Yd(e);let r=0,n=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){r=a+1;break}}else n<0&&(s=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){r=a+1;break}}else o<0&&(s=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(n=a):(l=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function tZ(e){if(Yd(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function rZ(e){Yd(e);let t=e.length,r=-1,n=0,a=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),l===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||r<0||s===0||s===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function nZ(...e){let t=-1,r;for(;++t<e.length;)Yd(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":iZ(r)}function iZ(e){Yd(e);const t=e.codePointAt(0)===47;let r=aZ(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function aZ(e,t){let r="",n=0,a=-1,s=0,o=-1,l,u;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||s===1))if(a!==o-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),a=o,s=0;continue}}else if(r.length>0){r="",n=0,a=o,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,o):r=e.slice(a+1,o),n=o-a-1;a=o,s=0}else l===46&&s>-1?s++:s=-1}return r}function Yd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sZ={cwd:oZ};function oZ(){return"/"}function l1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function lZ(e){if(typeof e=="string")e=new URL(e);else if(!l1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return cZ(e)}function cZ(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Xg=["history","path","basename","stem","extname","dirname"];class eF{constructor(t){let r;t?l1(t)?r={path:t}:typeof t=="string"||uZ(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":sZ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Xg.length;){const s=Xg[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let a;for(a in r)Xg.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?Ti.basename(this.path):void 0}set basename(t){Zg(t,"basename"),Jg(t,"basename"),this.path=Ti.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ti.dirname(this.path):void 0}set dirname(t){wE(this.basename,"dirname"),this.path=Ti.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ti.extname(this.path):void 0}set extname(t){if(Jg(t,"extname"),wE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ti.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){l1(t)&&(t=lZ(t)),Zg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ti.basename(this.path,this.extname):void 0}set stem(t){Zg(t,"stem"),Jg(t,"stem"),this.path=Ti.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new qr(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Jg(e,t){if(e&&e.includes(Ti.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ti.sep+"`")}function Zg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function wE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function uZ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dZ=(function(e){const n=this.constructor.prototype,a=n[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),fZ={}.hasOwnProperty;class G2 extends dZ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=JJ()}copy(){const t=new G2;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Qg(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(ry("data",this.frozen),this.namespace[t]=r,this):fZ.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ry("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Rh(t),n=this.parser||this.Parser;return ey("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),ey("process",this.parser||this.Parser),ty("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(s,o){const l=Rh(t),u=n.parse(l);n.run(u,l,function(h,m,p){if(h||!m||!p)return d(h);const g=m,y=n.stringify(g,p);pZ(y)?p.value=y:p.result=y,d(h,p)});function d(h,m){h||!m?o(h):s?s(m):r(void 0,m)}}}processSync(t){let r=!1,n;return this.freeze(),ey("processSync",this.parser||this.Parser),ty("processSync",this.compiler||this.Compiler),this.process(t,a),_E("processSync","process",r),n;function a(s,o){r=!0,bE(s),n=o}}run(t,r,n){NE(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(o,l){const u=Rh(r);a.run(t,u,d);function d(h,m,p){const g=m||t;h?l(h):o?o(g):n(void 0,g,p)}}}runSync(t,r){let n=!1,a;return this.run(t,r,s),_E("runSync","run",n),a;function s(o,l){bE(o),a=l,n=!0}}stringify(t,r){this.freeze();const n=Rh(r),a=this.compiler||this.Compiler;return ty("stringify",a),NE(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(ry("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...m]=d;u(h,m)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(a.settings=Qg(!0,a.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const m=d[h];s(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,h){let m=-1,p=-1;for(;++m<n.length;)if(n[m][0]===d){p=m;break}if(p===-1)n.push([d,...h]);else if(h.length>0){let[g,...y]=h;const v=n[p][1];o1(v)&&o1(g)&&(g=Qg(!0,v,g)),n[p]=[d,g,...y]}}}}const hZ=new G2().freeze();function ey(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ty(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ry(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function NE(e){if(!o1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function _E(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Rh(e){return mZ(e)?e:new eF(e)}function mZ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pZ(e){return typeof e=="string"||xZ(e)}function xZ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gZ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",SE=[],kE={allowDangerousHtml:!0},yZ=/^(https?|ircs?|mailto|xmpp)$/i,vZ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Qp(e){const t=bZ(e),r=jZ(e);return wZ(t.runSync(t.parse(r),r),e)}function bZ(e){const t=e.rehypePlugins||SE,r=e.remarkPlugins||SE,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...kE}:kE;return hZ().use(tJ).use(r).use(YJ,n).use(t)}function jZ(e){const t=e.children||"",r=new eF;return typeof t=="string"&&(r.value=t),r}function wZ(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,s=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||NZ;for(const h of vZ)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+gZ+h.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),K2(e,d),FY(e,{Fragment:i.Fragment,components:a,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function d(h,m,p){if(h.type==="raw"&&p&&typeof m=="number")return o?p.children.splice(m,1):p.children[m]={type:"text",value:h.value},m;if(h.type==="element"){let g;for(g in Hg)if(Object.hasOwn(Hg,g)&&Object.hasOwn(h.properties,g)){const y=h.properties[g],v=Hg[g];(v===null||v.includes(h.tagName))&&(h.properties[g]=u(String(y||""),g,h))}}if(h.type==="element"){let g=r?!r.includes(h.tagName):s?s.includes(h.tagName):!1;if(!g&&n&&typeof m=="number"&&(g=!n(h,m,p)),g&&p&&typeof m=="number")return l&&h.children?p.children.splice(m,1,...h.children):p.children.splice(m,1),m}}}function NZ(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||yZ.test(e.slice(0,t))?e:""}function PE(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;a!==-1;)n++,a=r.indexOf(t,a+t.length);return n}function _Z(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function SZ(e,t,r){const a=Gp((r||{}).ignore||[]),s=kZ(t);let o=-1;for(;++o<s.length;)Z$(e,"text",l);function l(d,h){let m=-1,p;for(;++m<h.length;){const g=h[m],y=p?p.children:void 0;if(a(g,y?y.indexOf(g):void 0,p))return;p=g}if(p)return u(d,h)}function u(d,h){const m=h[h.length-1],p=s[o][0],g=s[o][1];let y=0;const b=m.children.indexOf(d);let w=!1,S=[];p.lastIndex=0;let k=p.exec(d.value);for(;k;){const E=k.index,P={index:k.index,input:k.input,stack:[...h,d]};let _=g(...k,P);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?p.lastIndex=E+1:(y!==E&&S.push({type:"text",value:d.value.slice(y,E)}),Array.isArray(_)?S.push(..._):_&&S.push(_),y=E+k[0].length,w=!0),!p.global)break;k=p.exec(d.value)}return w?(y<d.value.length&&S.push({type:"text",value:d.value.slice(y)}),m.children.splice(b,1,...S)):S=[d],b+S.length}}function kZ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const a=r[n];t.push([PZ(a[0]),CZ(a[1])])}return t}function PZ(e){return typeof e=="string"?new RegExp(_Z(e),"g"):e}function CZ(e){return typeof e=="function"?e:function(){return e}}const ny="phrasing",iy=["autolink","link","image","label"];function EZ(){return{transforms:[IZ],enter:{literalAutolink:TZ,literalAutolinkEmail:ay,literalAutolinkHttp:ay,literalAutolinkWww:ay},exit:{literalAutolink:DZ,literalAutolinkEmail:RZ,literalAutolinkHttp:AZ,literalAutolinkWww:MZ}}}function OZ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ny,notInConstruct:iy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ny,notInConstruct:iy},{character:":",before:"[ps]",after:"\\/",inConstruct:ny,notInConstruct:iy}]}}function TZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ay(e){this.config.enter.autolinkProtocol.call(this,e)}function AZ(e){this.config.exit.autolinkProtocol.call(this,e)}function MZ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function RZ(e){this.config.exit.autolinkEmail.call(this,e)}function DZ(e){this.exit(e)}function IZ(e){SZ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$Z],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),FZ]],{ignore:["link","linkReference"]})}function $Z(e,t,r,n,a){let s="";if(!tF(a)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!LZ(r)))return!1;const o=zZ(r+n);if(!o[0])return!1;const l={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function FZ(e,t,r,n){return!tF(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function LZ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function zZ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=PE(e,"(");let s=PE(e,")");for(;n!==-1&&a>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function tF(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||fo(r)||Wp(r))&&(!t||r!==47)}rF.peek=YZ;function qZ(){this.buffer()}function BZ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function UZ(){this.buffer()}function VZ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function WZ(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=yi(this.sliceSerialize(e)).toLowerCase(),r.label=t}function HZ(e){this.exit(e)}function KZ(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=yi(this.sliceSerialize(e)).toLowerCase(),r.label=t}function GZ(e){this.exit(e)}function YZ(){return"["}function rF(e,t,r,n){const a=r.createTracker(n);let s=a.move("[^");const o=r.enter("footnoteReference"),l=r.enter("reference");return s+=a.move(r.safe(r.associationId(e),{after:"]",before:s})),l(),o(),s+=a.move("]"),s}function QZ(){return{enter:{gfmFootnoteCallString:qZ,gfmFootnoteCall:BZ,gfmFootnoteDefinitionLabelString:UZ,gfmFootnoteDefinition:VZ},exit:{gfmFootnoteCallString:WZ,gfmFootnoteCall:HZ,gfmFootnoteDefinitionLabelString:KZ,gfmFootnoteDefinition:GZ}}}function XZ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:rF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,a,s,o){const l=s.createTracker(o);let u=l.move("[^");const d=s.enter("footnoteDefinition"),h=s.enter("label");return u+=l.move(s.safe(s.associationId(n),{before:u,after:"]"})),h(),u+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),u+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,l.current()),t?nF:JZ))),d(),u}}function JZ(e,t,r){return t===0?e:nF(e,t,r)}function nF(e,t,r){return(r?"":"    ")+e}const ZZ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];iF.peek=iee;function eee(){return{canContainEols:["delete"],enter:{strikethrough:ree},exit:{strikethrough:nee}}}function tee(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ZZ}],handlers:{delete:iF}}}function ree(e){this.enter({type:"delete",children:[]},e)}function nee(e){this.exit(e)}function iF(e,t,r,n){const a=r.createTracker(n),s=r.enter("strikethrough");let o=a.move("~~");return o+=r.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),s(),o}function iee(){return"~"}function aee(e){return e.length}function see(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||aee,s=[],o=[],l=[],u=[];let d=0,h=-1;for(;++h<e.length;){const v=[],b=[];let w=-1;for(e[h].length>d&&(d=e[h].length);++w<e[h].length;){const S=oee(e[h][w]);if(r.alignDelimiters!==!1){const k=a(S);b[w]=k,(u[w]===void 0||k>u[w])&&(u[w]=k)}v.push(S)}o[h]=v,l[h]=b}let m=-1;if(typeof n=="object"&&"length"in n)for(;++m<d;)s[m]=CE(n[m]);else{const v=CE(n);for(;++m<d;)s[m]=v}m=-1;const p=[],g=[];for(;++m<d;){const v=s[m];let b="",w="";v===99?(b=":",w=":"):v===108?b=":":v===114&&(w=":");let S=r.alignDelimiters===!1?1:Math.max(1,u[m]-b.length-w.length);const k=b+"-".repeat(S)+w;r.alignDelimiters!==!1&&(S=b.length+S+w.length,S>u[m]&&(u[m]=S),g[m]=S),p[m]=k}o.splice(1,0,p),l.splice(1,0,g),h=-1;const y=[];for(;++h<o.length;){const v=o[h],b=l[h];m=-1;const w=[];for(;++m<d;){const S=v[m]||"";let k="",E="";if(r.alignDelimiters!==!1){const P=u[m]-(b[m]||0),_=s[m];_===114?k=" ".repeat(P):_===99?P%2?(k=" ".repeat(P/2+.5),E=" ".repeat(P/2-.5)):(k=" ".repeat(P/2),E=k):E=" ".repeat(P)}r.delimiterStart!==!1&&!m&&w.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&S==="")&&(r.delimiterStart!==!1||m)&&w.push(" "),r.alignDelimiters!==!1&&w.push(k),w.push(S),r.alignDelimiters!==!1&&w.push(E),r.padding!==!1&&w.push(" "),(r.delimiterEnd!==!1||m!==d-1)&&w.push("|")}y.push(r.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return y.join(`
`)}function oee(e){return e==null?"":String(e)}function CE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function lee(e,t,r,n){const a=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const o=r.indentLines(r.containerFlow(e,s.current()),cee);return a(),o}function cee(e,t,r){return">"+(r?"":" ")+e}function uee(e,t){return EE(e,t.inConstruct,!0)&&!EE(e,t.notInConstruct,!1)}function EE(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function OE(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&uee(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function dee(e,t){const r=String(e);let n=r.indexOf(t),a=n,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===a?++s>o&&(o=s):s=1,a=n+t.length,n=r.indexOf(t,a);return o}function fee(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hee(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function mee(e,t,r,n){const a=hee(r),s=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(fee(e,r)){const m=r.enter("codeIndented"),p=r.indentLines(s,pee);return m(),p}const l=r.createTracker(n),u=a.repeat(Math.max(dee(s,a)+1,3)),d=r.enter("codeFenced");let h=l.move(u);if(e.lang){const m=r.enter(`codeFencedLang${o}`);h+=l.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...l.current()})),m()}if(e.lang&&e.meta){const m=r.enter(`codeFencedMeta${o}`);h+=l.move(" "),h+=l.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...l.current()})),m()}return h+=l.move(`
`),s&&(h+=l.move(s+`
`)),h+=l.move(u),d(),h}function pee(e,t,r){return(r?"":"    ")+e}function Y2(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function xee(e,t,r,n){const a=Y2(r),s=a==='"'?"Quote":"Apostrophe",o=r.enter("definition");let l=r.enter("label");const u=r.createTracker(n);let d=u.move("[");return d+=u.move(r.safe(r.associationId(e),{before:d,after:"]",...u.current()})),d+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(r.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=r.enter("destinationRaw"),d+=u.move(r.safe(e.url,{before:d,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=r.enter(`title${s}`),d+=u.move(" "+a),d+=u.move(r.safe(e.title,{before:d,after:a,...u.current()})),d+=u.move(a),l()),o(),d}function gee(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function nd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Mm(e,t,r){const n=Il(e),a=Il(t);return n===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}aF.peek=yee;function aF(e,t,r,n){const a=gee(r),s=r.enter("emphasis"),o=r.createTracker(n),l=o.move(a);let u=o.move(r.containerPhrasing(e,{after:a,before:l,...o.current()}));const d=u.charCodeAt(0),h=Mm(n.before.charCodeAt(n.before.length-1),d,a);h.inside&&(u=nd(d)+u.slice(1));const m=u.charCodeAt(u.length-1),p=Mm(n.after.charCodeAt(0),m,a);p.inside&&(u=u.slice(0,-1)+nd(m));const g=o.move(a);return s(),r.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},l+u+g}function yee(e,t,r){return r.options.emphasis||"*"}function vee(e,t){let r=!1;return K2(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,a1}),!!((!e.depth||e.depth<3)&&z2(e)&&(t.options.setext||r))}function bee(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(vee(e,r)){const h=r.enter("headingSetext"),m=r.enter("phrasing"),p=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return m(),h(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),l=r.enter("headingAtx"),u=r.enter("phrasing");s.move(o+" ");let d=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=nd(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,r.options.closeAtx&&(d+=" "+o),u(),l(),d}sF.peek=jee;function sF(e){return e.value||""}function jee(){return"<"}oF.peek=wee;function oF(e,t,r,n){const a=Y2(r),s=a==='"'?"Quote":"Apostrophe",o=r.enter("image");let l=r.enter("label");const u=r.createTracker(n);let d=u.move("![");return d+=u.move(r.safe(e.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(r.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=r.enter("destinationRaw"),d+=u.move(r.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=r.enter(`title${s}`),d+=u.move(" "+a),d+=u.move(r.safe(e.title,{before:d,after:a,...u.current()})),d+=u.move(a),l()),d+=u.move(")"),o(),d}function wee(){return"!"}lF.peek=Nee;function lF(e,t,r,n){const a=e.referenceType,s=r.enter("imageReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");const d=r.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),o();const h=r.stack;r.stack=[],o=r.enter("reference");const m=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=h,s(),a==="full"||!d||d!==m?u+=l.move(m+"]"):a==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function Nee(){return"!"}cF.peek=_ee;function cF(e,t,r){let n=e.value||"",a="`",s=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const o=r.unsafe[s],l=r.compilePattern(o);let u;if(o.atBreak)for(;u=l.exec(n);){let d=u.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(u.index+1)}}return a+n+a}function _ee(){return"`"}function uF(e,t){const r=z2(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}dF.peek=See;function dF(e,t,r,n){const a=Y2(r),s=a==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let l,u;if(uF(e,r)){const h=r.stack;r.stack=[],l=r.enter("autolink");let m=o.move("<");return m+=o.move(r.containerPhrasing(e,{before:m,after:">",...o.current()})),m+=o.move(">"),l(),r.stack=h,m}l=r.enter("link"),u=r.enter("label");let d=o.move("[");return d+=o.move(r.containerPhrasing(e,{before:d,after:"](",...o.current()})),d+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(r.safe(e.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(u=r.enter("destinationRaw"),d+=o.move(r.safe(e.url,{before:d,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=r.enter(`title${s}`),d+=o.move(" "+a),d+=o.move(r.safe(e.title,{before:d,after:a,...o.current()})),d+=o.move(a),u()),d+=o.move(")"),l(),d}function See(e,t,r){return uF(e,r)?"<":"["}fF.peek=kee;function fF(e,t,r,n){const a=e.referenceType,s=r.enter("linkReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");const d=r.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),o();const h=r.stack;r.stack=[],o=r.enter("reference");const m=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=h,s(),a==="full"||!d||d!==m?u+=l.move(m+"]"):a==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function kee(){return"["}function Q2(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Pee(e){const t=Q2(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Cee(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function hF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Eee(e,t,r,n){const a=r.enter("list"),s=r.bulletCurrent;let o=e.ordered?Cee(r):Q2(r);const l=e.ordered?o==="."?")":".":Pee(r);let u=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),hF(r)===o&&h){let m=-1;for(;++m<e.children.length;){const p=e.children[m];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=l),r.bulletCurrent=o;const d=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=s,a(),d}function Oee(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Tee(e,t,r,n){const a=Oee(r);let s=r.bulletCurrent||Q2(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=r.createTracker(n);l.move(s+" ".repeat(o-s.length)),l.shift(o);const u=r.enter("listItem"),d=r.indentLines(r.containerFlow(e,l.current()),h);return u(),d;function h(m,p,g){return p?(g?"":" ".repeat(o))+m:(g?s:s+" ".repeat(o-s.length))+m}}function Aee(e,t,r,n){const a=r.enter("paragraph"),s=r.enter("phrasing"),o=r.containerPhrasing(e,n);return s(),a(),o}const Mee=Gp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ree(e,t,r,n){return(e.children.some(function(o){return Mee(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Dee(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}mF.peek=Iee;function mF(e,t,r,n){const a=Dee(r),s=r.enter("strong"),o=r.createTracker(n),l=o.move(a+a);let u=o.move(r.containerPhrasing(e,{after:a,before:l,...o.current()}));const d=u.charCodeAt(0),h=Mm(n.before.charCodeAt(n.before.length-1),d,a);h.inside&&(u=nd(d)+u.slice(1));const m=u.charCodeAt(u.length-1),p=Mm(n.after.charCodeAt(0),m,a);p.inside&&(u=u.slice(0,-1)+nd(m));const g=o.move(a+a);return s(),r.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},l+u+g}function Iee(e,t,r){return r.options.strong||"*"}function $ee(e,t,r,n){return r.safe(e.value,n)}function Fee(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Lee(e,t,r){const n=(hF(r)+(r.options.ruleSpaces?" ":"")).repeat(Fee(r));return r.options.ruleSpaces?n.slice(0,-1):n}const pF={blockquote:lee,break:OE,code:mee,definition:xee,emphasis:aF,hardBreak:OE,heading:bee,html:sF,image:oF,imageReference:lF,inlineCode:cF,link:dF,linkReference:fF,list:Eee,listItem:Tee,paragraph:Aee,root:Ree,strong:mF,text:$ee,thematicBreak:Lee};function zee(){return{enter:{table:qee,tableData:TE,tableHeader:TE,tableRow:Uee},exit:{codeText:Vee,table:Bee,tableData:sy,tableHeader:sy,tableRow:sy}}}function qee(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Bee(e){this.exit(e),this.data.inTable=void 0}function Uee(e){this.enter({type:"tableRow",children:[]},e)}function sy(e){this.exit(e)}function TE(e){this.enter({type:"tableCell",children:[]},e)}function Vee(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Wee));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Wee(e,t){return t==="|"?t:e}function Hee(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:u,tableRow:l}};function o(g,y,v,b){return d(h(g,v,b),g.align)}function l(g,y,v,b){const w=m(g,v,b),S=d([w]);return S.slice(0,S.indexOf(`
`))}function u(g,y,v,b){const w=v.enter("tableCell"),S=v.enter("phrasing"),k=v.containerPhrasing(g,{...b,before:s,after:s});return S(),w(),k}function d(g,y){return see(g,{align:y,alignDelimiters:n,padding:r,stringLength:a})}function h(g,y,v){const b=g.children;let w=-1;const S=[],k=y.enter("table");for(;++w<b.length;)S[w]=m(b[w],y,v);return k(),S}function m(g,y,v){const b=g.children;let w=-1;const S=[],k=y.enter("tableRow");for(;++w<b.length;)S[w]=u(b[w],g,y,v);return k(),S}function p(g,y,v){let b=pF.inlineCode(g,y,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Kee(){return{exit:{taskListCheckValueChecked:AE,taskListCheckValueUnchecked:AE,paragraph:Yee}}}function Gee(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Qee}}}function AE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Yee(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const a=t.children;let s=-1,o;for(;++s<a.length;){const l=a[s];if(l.type==="paragraph"){o=l;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Qee(e,t,r,n){const a=e.children[0],s=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=r.createTracker(n);s&&l.move(o);let u=pF.listItem(e,t,r,{...n,...l.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(h){return h+o}}function Xee(){return[EZ(),QZ(),eee(),zee(),Kee()]}function Jee(e){return{extensions:[OZ(),XZ(e),tee(),Hee(e),Gee()]}}const Zee={tokenize:ate,partial:!0},xF={tokenize:ste,partial:!0},gF={tokenize:ote,partial:!0},yF={tokenize:lte,partial:!0},ete={tokenize:cte,partial:!0},vF={name:"wwwAutolink",tokenize:nte,previous:jF},bF={name:"protocolAutolink",tokenize:ite,previous:wF},Pa={name:"emailAutolink",tokenize:rte,previous:NF},Vi={};function tte(){return{text:Vi}}let Ls=48;for(;Ls<123;)Vi[Ls]=Pa,Ls++,Ls===58?Ls=65:Ls===91&&(Ls=97);Vi[43]=Pa;Vi[45]=Pa;Vi[46]=Pa;Vi[95]=Pa;Vi[72]=[Pa,bF];Vi[104]=[Pa,bF];Vi[87]=[Pa,vF];Vi[119]=[Pa,vF];function rte(e,t,r){const n=this;let a,s;return o;function o(m){return!c1(m)||!NF.call(n,n.previous)||X2(n.events)?r(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(m))}function l(m){return c1(m)?(e.consume(m),l):m===64?(e.consume(m),u):r(m)}function u(m){return m===46?e.check(ete,h,d)(m):m===45||m===95||Lr(m)?(s=!0,e.consume(m),u):h(m)}function d(m){return e.consume(m),a=!0,u}function h(m){return s&&a&&Yr(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):r(m)}}function nte(e,t,r){const n=this;return a;function a(o){return o!==87&&o!==119||!jF.call(n,n.previous)||X2(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Zee,e.attempt(xF,e.attempt(gF,s),r),r)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function ite(e,t,r){const n=this;let a="",s=!1;return o;function o(m){return(m===72||m===104)&&wF.call(n,n.previous)&&!X2(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(m),e.consume(m),l):r(m)}function l(m){if(Yr(m)&&a.length<5)return a+=String.fromCodePoint(m),e.consume(m),l;if(m===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(m),u}return r(m)}function u(m){return m===47?(e.consume(m),s?d:(s=!0,u)):r(m)}function d(m){return m===null||Om(m)||vt(m)||fo(m)||Wp(m)?r(m):e.attempt(xF,e.attempt(gF,h),r)(m)}function h(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function ate(e,t,r){let n=0;return a;function a(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),a):o===46&&n===3?(e.consume(o),s):r(o)}function s(o){return o===null?r(o):t(o)}}function ste(e,t,r){let n,a,s;return o;function o(d){return d===46||d===95?e.check(yF,u,l)(d):d===null||vt(d)||fo(d)||d!==45&&Wp(d)?u(d):(s=!0,e.consume(d),o)}function l(d){return d===95?n=!0:(a=n,n=void 0),e.consume(d),o}function u(d){return a||n||!s?r(d):t(d)}}function ote(e,t){let r=0,n=0;return a;function a(o){return o===40?(r++,e.consume(o),a):o===41&&n<r?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(yF,t,s)(o):o===null||vt(o)||fo(o)?t(o):(e.consume(o),a)}function s(o){return o===41&&n++,e.consume(o),a}}function lte(e,t,r){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),s):l===93?(e.consume(l),a):l===60||l===null||vt(l)||fo(l)?t(l):r(l)}function a(l){return l===null||l===40||l===91||vt(l)||fo(l)?t(l):n(l)}function s(l){return Yr(l)?o(l):r(l)}function o(l){return l===59?(e.consume(l),n):Yr(l)?(e.consume(l),o):r(l)}}function cte(e,t,r){return n;function n(s){return e.consume(s),a}function a(s){return Lr(s)?r(s):t(s)}}function jF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||vt(e)}function wF(e){return!Yr(e)}function NF(e){return!(e===47||c1(e))}function c1(e){return e===43||e===45||e===46||e===95||Lr(e)}function X2(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const ute={tokenize:yte,partial:!0};function dte(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:pte,continuation:{tokenize:xte},exit:gte}},text:{91:{name:"gfmFootnoteCall",tokenize:mte},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:fte,resolveTo:hte}}}}function fte(e,t,r){const n=this;let a=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;a--;){const u=n.events[a][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!o||!o._balanced)return r(u);const d=yi(n.sliceSerialize({start:o.end,end:n.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function hte(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...l),e}function mte(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,o;return l;function l(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),u}function u(m){return m!==94?r(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(m){if(s>999||m===93&&!o||m===null||m===91||vt(m))return r(m);if(m===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(yi(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(m)}return vt(m)||(o=!0),s++,e.consume(m),m===92?h:d}function h(m){return m===91||m===92||m===93?(e.consume(m),s++,d):d(m)}}function pte(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,o=0,l;return u;function u(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(y)}function h(y){if(o>999||y===93&&!l||y===null||y===91||vt(y))return r(y);if(y===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return s=yi(n.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return vt(y)||(l=!0),o++,e.consume(y),y===92?m:h}function m(y){return y===91||y===92||y===93?(e.consume(y),o++,h):h(y)}function p(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),a.includes(s)||a.push(s),tt(e,g,"gfmFootnoteDefinitionWhitespace")):r(y)}function g(y){return t(y)}}function xte(e,t,r){return e.check(Gd,t,e.attempt(ute,t,r))}function gte(e){e.exit("gfmFootnoteDefinition")}function yte(e,t,r){const n=this;return tt(e,a,"gfmFootnoteDefinitionIndent",5);function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):r(s)}}function vte(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:a};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function a(o,l){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let d=u;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[u][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[u][1].end)},m={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[u][1].start)},p=[["enter",h,l],["enter",o[d][1],l],["exit",o[d][1],l],["enter",m,l]],g=l.parser.constructs.insideSpan.null;g&&kn(p,p.length,0,Hp(g,o.slice(d+1,u),l)),kn(p,p.length,0,[["exit",m,l],["enter",o[u][1],l],["exit",o[u][1],l],["exit",h,l]]),kn(o,d-1,u-d+3,p),u=d+p.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,l,u){const d=this.previous,h=this.events;let m=0;return p;function p(y){return d===126&&h[h.length-1][1].type!=="characterEscape"?u(y):(o.enter("strikethroughSequenceTemporary"),g(y))}function g(y){const v=Il(d);if(y===126)return m>1?u(y):(o.consume(y),m++,g);if(m<2&&!r)return u(y);const b=o.exit("strikethroughSequenceTemporary"),w=Il(y);return b._open=!w||w===2&&!!v,b._close=!v||v===2&&!!w,l(y)}}}class bte{constructor(){this.map=[]}add(t,r,n){jte(this,t,r,n)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let a=n.pop();for(;a;){for(const s of a)t.push(s);a=n.pop()}this.map.length=0}}function jte(e,t,r,n){let a=0;if(!(r===0&&n.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=r,e.map[a][2].push(...n);return}a+=1}e.map.push([t,r,n])}}function wte(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Nte(){return{flow:{null:{name:"table",tokenize:_te,resolveAll:Ste}}}}function _te(e,t,r){const n=this;let a=0,s=0,o;return l;function l(M){let F=n.events.length-1;for(;F>-1;){const K=n.events[F][1].type;if(K==="lineEnding"||K==="linePrefix")F--;else break}const q=F>-1?n.events[F][1].type:null,H=q==="tableHead"||q==="tableRow"?_:u;return H===_&&n.parser.lazy[n.now().line]?r(M):H(M)}function u(M){return e.enter("tableHead"),e.enter("tableRow"),d(M)}function d(M){return M===124||(o=!0,s+=1),h(M)}function h(M){return M===null?r(M):Re(M)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),g):r(M):Je(M)?tt(e,h,"whitespace")(M):(s+=1,o&&(o=!1,a+=1),M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),o=!0,h):(e.enter("data"),m(M)))}function m(M){return M===null||M===124||vt(M)?(e.exit("data"),h(M)):(e.consume(M),M===92?p:m)}function p(M){return M===92||M===124?(e.consume(M),m):m(M)}function g(M){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(M):(e.enter("tableDelimiterRow"),o=!1,Je(M)?tt(e,y,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):y(M))}function y(M){return M===45||M===58?b(M):M===124?(o=!0,e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),v):P(M)}function v(M){return Je(M)?tt(e,b,"whitespace")(M):b(M)}function b(M){return M===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),w):M===45?(s+=1,w(M)):M===null||Re(M)?E(M):P(M)}function w(M){return M===45?(e.enter("tableDelimiterFiller"),S(M)):P(M)}function S(M){return M===45?(e.consume(M),S):M===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k(M))}function k(M){return Je(M)?tt(e,E,"whitespace")(M):E(M)}function E(M){return M===124?y(M):M===null||Re(M)?!o||a!==s?P(M):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(M)):P(M)}function P(M){return r(M)}function _(M){return e.enter("tableRow"),T(M)}function T(M){return M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),T):M===null||Re(M)?(e.exit("tableRow"),t(M)):Je(M)?tt(e,T,"whitespace")(M):(e.enter("data"),D(M))}function D(M){return M===null||M===124||vt(M)?(e.exit("data"),T(M)):(e.consume(M),M===92?L:D)}function L(M){return M===92||M===124?(e.consume(M),D):D(M)}}function Ste(e,t){let r=-1,n=!0,a=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,u=0,d,h,m;const p=new bte;for(;++r<e.length;){const g=e[r],y=g[1];g[0]==="enter"?y.type==="tableHead"?(l=!1,u!==0&&(ME(p,t,u,d,h),h=void 0,u=0),d={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(r,0,[["enter",d,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(n=!0,m=void 0,s=[0,0,0,0],o=[0,r+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(r,0,[["enter",h,t]])),a=y.type==="tableDelimiterRow"?2:h?3:1):a&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],m=Dh(p,t,s,a,void 0,m),s=[0,0,0,0]),o[2]=r)):y.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(o[0]=o[1],m=Dh(p,t,s,a,void 0,m)),s=o,o=[s[1],r,0,0])):y.type==="tableHead"?(l=!0,u=r):y.type==="tableRow"||y.type==="tableDelimiterRow"?(u=r,s[1]!==0?(o[0]=o[1],m=Dh(p,t,s,a,r,m)):o[1]!==0&&(m=Dh(p,t,o,a,r,m)),a=0):a&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=r)}for(u!==0&&ME(p,t,u,d,h),p.consume(t.events),r=-1;++r<t.events.length;){const g=t.events[r];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=wte(t.events,r))}return e}function Dh(e,t,r,n,a,s){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(s.end=Object.assign({},ml(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const u=ml(t.events,r[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const d=ml(t.events,r[2]),h=ml(t.events,r[3]),m={type:l,start:Object.assign({},d),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",m,t]]),n!==2){const p=t.events[r[2]],g=t.events[r[3]];if(p[1].end=Object.assign({},g[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const y=r[2]+1,v=r[3]-r[2]-1;e.add(y,v,[])}}e.add(r[3]+1,0,[["exit",m,t]])}return a!==void 0&&(s.end=Object.assign({},ml(t.events,a)),e.add(a,0,[["exit",s,t]]),s=void 0),s}function ME(e,t,r,n,a){const s=[],o=ml(t.events,r);a&&(a.end=Object.assign({},o),s.push(["exit",a,t])),n.end=Object.assign({},o),s.push(["exit",n,t]),e.add(r+1,0,s)}function ml(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const kte={name:"tasklistCheck",tokenize:Cte};function Pte(){return{text:{91:kte}}}function Cte(e,t,r){const n=this;return a;function a(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return vt(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):r(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(u)}function l(u){return Re(u)?t(u):Je(u)?e.check({tokenize:Ete},t,r)(u):r(u)}}function Ete(e,t,r){return tt(e,n,"whitespace");function n(a){return a===null?r(a):t(a)}}function Ote(e){return R$([tte(),dte(),vte(e),Nte(),Pte()])}const Tte={};function Xp(e){const t=this,r=e||Tte,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(Ote(r)),s.push(Xee()),o.push(Jee(r))}function _F(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=_F(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=_F(e))&&(n&&(n+=" "),n+=t);return n}function SF(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ate}=Object.prototype,{getPrototypeOf:J2}=Object,{iterator:Jp,toStringTag:kF}=Symbol,Zp=(e=>t=>{const r=Ate.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),bi=e=>(e=e.toLowerCase(),t=>Zp(t)===e),ex=e=>t=>typeof t===e,{isArray:xc}=Array,$l=ex("undefined");function Qd(e){return e!==null&&!$l(e)&&e.constructor!==null&&!$l(e.constructor)&&hn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const PF=bi("ArrayBuffer");function Mte(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&PF(e.buffer),t}const Rte=ex("string"),hn=ex("function"),CF=ex("number"),Xd=e=>e!==null&&typeof e=="object",Dte=e=>e===!0||e===!1,um=e=>{if(Zp(e)!=="object")return!1;const t=J2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(kF in e)&&!(Jp in e)},Ite=e=>{if(!Xd(e)||Qd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$te=bi("Date"),Fte=bi("File"),Lte=bi("Blob"),zte=bi("FileList"),qte=e=>Xd(e)&&hn(e.pipe),Bte=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hn(e.append)&&((t=Zp(e))==="formdata"||t==="object"&&hn(e.toString)&&e.toString()==="[object FormData]"))},Ute=bi("URLSearchParams"),[Vte,Wte,Hte,Kte]=["ReadableStream","Request","Response","Headers"].map(bi),Gte=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jd(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),xc(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Qd(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function EF(e,t){if(Qd(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,OF=e=>!$l(e)&&e!==Ys;function u1(){const{caseless:e,skipUndefined:t}=OF(this)&&this||{},r={},n=(a,s)=>{const o=e&&EF(r,s)||s;um(r[o])&&um(a)?r[o]=u1(r[o],a):um(a)?r[o]=u1({},a):xc(a)?r[o]=a.slice():(!t||!$l(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Jd(arguments[a],n);return r}const Yte=(e,t,r,{allOwnKeys:n}={})=>(Jd(t,(a,s)=>{r&&hn(a)?e[s]=SF(a,r):e[s]=a},{allOwnKeys:n}),e),Qte=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Xte=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Jte=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&J2(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Zte=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},ere=e=>{if(!e)return null;if(xc(e))return e;let t=e.length;if(!CF(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},tre=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&J2(Uint8Array)),rre=(e,t)=>{const n=(e&&e[Jp]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},nre=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},ire=bi("HTMLFormElement"),are=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),RE=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),sre=bi("RegExp"),TF=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Jd(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},ore=e=>{TF(e,(t,r)=>{if(hn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(hn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},lre=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return xc(e)?n(e):n(String(e).split(t)),r},cre=()=>{},ure=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function dre(e){return!!(e&&hn(e.append)&&e[kF]==="FormData"&&e[Jp])}const fre=e=>{const t=new Array(10),r=(n,a)=>{if(Xd(n)){if(t.indexOf(n)>=0)return;if(Qd(n))return n;if(!("toJSON"in n)){t[a]=n;const s=xc(n)?[]:{};return Jd(n,(o,l)=>{const u=r(o,a+1);!$l(u)&&(s[l]=u)}),t[a]=void 0,s}}return n};return r(e,0)},hre=bi("AsyncFunction"),mre=e=>e&&(Xd(e)||hn(e))&&hn(e.then)&&hn(e.catch),AF=((e,t)=>e?setImmediate:t?((r,n)=>(Ys.addEventListener("message",({source:a,data:s})=>{a===Ys&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ys.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",hn(Ys.postMessage)),pre=typeof queueMicrotask<"u"?queueMicrotask.bind(Ys):typeof process<"u"&&process.nextTick||AF,xre=e=>e!=null&&hn(e[Jp]),re={isArray:xc,isArrayBuffer:PF,isBuffer:Qd,isFormData:Bte,isArrayBufferView:Mte,isString:Rte,isNumber:CF,isBoolean:Dte,isObject:Xd,isPlainObject:um,isEmptyObject:Ite,isReadableStream:Vte,isRequest:Wte,isResponse:Hte,isHeaders:Kte,isUndefined:$l,isDate:$te,isFile:Fte,isBlob:Lte,isRegExp:sre,isFunction:hn,isStream:qte,isURLSearchParams:Ute,isTypedArray:tre,isFileList:zte,forEach:Jd,merge:u1,extend:Yte,trim:Gte,stripBOM:Qte,inherits:Xte,toFlatObject:Jte,kindOf:Zp,kindOfTest:bi,endsWith:Zte,toArray:ere,forEachEntry:rre,matchAll:nre,isHTMLForm:ire,hasOwnProperty:RE,hasOwnProp:RE,reduceDescriptors:TF,freezeMethods:ore,toObjectSet:lre,toCamelCase:are,noop:cre,toFiniteNumber:ure,findKey:EF,global:Ys,isContextDefined:OF,isSpecCompliantForm:dre,toJSONObject:fre,isAsyncFn:hre,isThenable:mre,setImmediate:AF,asap:pre,isIterable:xre};function Ue(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}re.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const MF=Ue.prototype,RF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{RF[e]={value:e}});Object.defineProperties(Ue,RF);Object.defineProperty(MF,"isAxiosError",{value:!0});Ue.from=(e,t,r,n,a,s)=>{const o=Object.create(MF);re.toFlatObject(e,o,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Ue.call(o,l,u,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const gre=null;function d1(e){return re.isPlainObject(e)||re.isArray(e)}function DF(e){return re.endsWith(e,"[]")?e.slice(0,-2):e}function DE(e,t,r){return e?e.concat(t).map(function(a,s){return a=DF(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function yre(e){return re.isArray(e)&&!e.some(d1)}const vre=re.toFlatObject(re,{},null,function(t){return/^is[A-Z]/.test(t)});function tx(e,t,r){if(!re.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!re.isUndefined(b[v])});const n=r.metaTokens,a=r.visitor||h,s=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(t);if(!re.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(re.isDate(y))return y.toISOString();if(re.isBoolean(y))return y.toString();if(!u&&re.isBlob(y))throw new Ue("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(y)||re.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,v,b){let w=y;if(y&&!b&&typeof y=="object"){if(re.endsWith(v,"{}"))v=n?v:v.slice(0,-2),y=JSON.stringify(y);else if(re.isArray(y)&&yre(y)||(re.isFileList(y)||re.endsWith(v,"[]"))&&(w=re.toArray(y)))return v=DF(v),w.forEach(function(k,E){!(re.isUndefined(k)||k===null)&&t.append(o===!0?DE([v],E,s):o===null?v:v+"[]",d(k))}),!1}return d1(y)?!0:(t.append(DE(b,v,s),d(y)),!1)}const m=[],p=Object.assign(vre,{defaultVisitor:h,convertValue:d,isVisitable:d1});function g(y,v){if(!re.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(y),re.forEach(y,function(w,S){(!(re.isUndefined(w)||w===null)&&a.call(t,w,re.isString(S)?S.trim():S,v,p))===!0&&g(w,v?v.concat(S):[S])}),m.pop()}}if(!re.isObject(e))throw new TypeError("data must be an object");return g(e),t}function IE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Z2(e,t){this._pairs=[],e&&tx(e,this,t)}const IF=Z2.prototype;IF.append=function(t,r){this._pairs.push([t,r])};IF.toString=function(t){const r=t?function(n){return t.call(this,n,IE)}:IE;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function bre(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $F(e,t,r){if(!t)return e;const n=r&&r.encode||bre;re.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=re.isURLSearchParams(t)?t.toString():new Z2(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class $E{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){re.forEach(this.handlers,function(n){n!==null&&t(n)})}}const FF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jre=typeof URLSearchParams<"u"?URLSearchParams:Z2,wre=typeof FormData<"u"?FormData:null,Nre=typeof Blob<"u"?Blob:null,_re={isBrowser:!0,classes:{URLSearchParams:jre,FormData:wre,Blob:Nre},protocols:["http","https","file","blob","url","data"]},e_=typeof window<"u"&&typeof document<"u",f1=typeof navigator=="object"&&navigator||void 0,Sre=e_&&(!f1||["ReactNative","NativeScript","NS"].indexOf(f1.product)<0),kre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pre=e_&&window.location.href||"http://localhost",Cre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:e_,hasStandardBrowserEnv:Sre,hasStandardBrowserWebWorkerEnv:kre,navigator:f1,origin:Pre},Symbol.toStringTag,{value:"Module"})),$r={...Cre,..._re};function Ere(e,t){return tx(e,new $r.classes.URLSearchParams,{visitor:function(r,n,a,s){return $r.isNode&&re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Ore(e){return re.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tre(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function LF(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=r.length;return o=!o&&re.isArray(a)?a.length:o,u?(re.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!re.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&re.isArray(a[o])&&(a[o]=Tre(a[o])),!l)}if(re.isFormData(e)&&re.isFunction(e.entries)){const r={};return re.forEachEntry(e,(n,a)=>{t(Ore(n),a,r,0)}),r}return null}function Are(e,t,r){if(re.isString(e))try{return(t||JSON.parse)(e),re.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Zd={transitional:FF,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=re.isObject(t);if(s&&re.isHTMLForm(t)&&(t=new FormData(t)),re.isFormData(t))return a?JSON.stringify(LF(t)):t;if(re.isArrayBuffer(t)||re.isBuffer(t)||re.isStream(t)||re.isFile(t)||re.isBlob(t)||re.isReadableStream(t))return t;if(re.isArrayBufferView(t))return t.buffer;if(re.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ere(t,this.formSerializer).toString();if((l=re.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return tx(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Are(t)):t}],transformResponse:[function(t){const r=this.transitional||Zd.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(re.isResponse(t)||re.isReadableStream(t))return t;if(t&&re.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Ue.from(l,Ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$r.classes.FormData,Blob:$r.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],e=>{Zd.headers[e]={}});const Mre=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rre=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Mre[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},FE=Symbol("internals");function pu(e){return e&&String(e).trim().toLowerCase()}function dm(e){return e===!1||e==null?e:re.isArray(e)?e.map(dm):String(e)}function Dre(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Ire=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oy(e,t,r,n,a){if(re.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!re.isString(t)){if(re.isString(n))return t.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(t)}}function $re(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Fre(e,t){const r=re.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}let mn=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,u,d){const h=pu(u);if(!h)throw new Error("header name must be a non-empty string");const m=re.findKey(a,h);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||u]=dm(l))}const o=(l,u)=>re.forEach(l,(d,h)=>s(d,h,u));if(re.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(re.isString(t)&&(t=t.trim())&&!Ire(t))o(Rre(t),r);else if(re.isObject(t)&&re.isIterable(t)){let l={},u,d;for(const h of t){if(!re.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(u=l[d])?re.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=pu(t),t){const n=re.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Dre(a);if(re.isFunction(r))return r.call(this,a,n);if(re.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=pu(t),t){const n=re.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||oy(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=pu(o),o){const l=re.findKey(n,o);l&&(!r||oy(n,n[l],l,r))&&(delete n[l],a=!0)}}return re.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||oy(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return re.forEach(this,(a,s)=>{const o=re.findKey(n,s);if(o){r[o]=dm(a),delete r[s];return}const l=t?$re(s):String(s).trim();l!==s&&delete r[s],r[l]=dm(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return re.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[FE]=this[FE]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=pu(o);n[l]||(Fre(a,o),n[l]=!0)}return re.isArray(t)?t.forEach(s):s(t),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(mn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});re.freezeMethods(mn);function ly(e,t){const r=this||Zd,n=t||r,a=mn.from(n.headers);let s=n.data;return re.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function zF(e){return!!(e&&e.__CANCEL__)}function gc(e,t,r){Ue.call(this,e??"canceled",Ue.ERR_CANCELED,t,r),this.name="CanceledError"}re.inherits(gc,Ue,{__CANCEL__:!0});function qF(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ue("Request failed with status code "+r.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Lre(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zre(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),h=n[s];o||(o=d),r[a]=u,n[a]=d;let m=s,p=0;for(;m!==a;)p+=r[m++],m=m%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),d-o<t)return;const g=h&&d-h;return g?Math.round(p*1e3/g):void 0}}function qre(e,t){let r=0,n=1e3/t,a,s;const o=(d,h=Date.now())=>{r=h,a=null,s&&(clearTimeout(s),s=null),e(...d)};return[(...d)=>{const h=Date.now(),m=h-r;m>=n?o(d,h):(a=d,s||(s=setTimeout(()=>{s=null,o(a)},n-m)))},()=>a&&o(a)]}const Rm=(e,t,r=3)=>{let n=0;const a=zre(50,250);return qre(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-n,d=a(u),h=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},LE=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},zE=e=>(...t)=>re.asap(()=>e(...t)),Bre=$r.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$r.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($r.origin),$r.navigator&&/(msie|trident)/i.test($r.navigator.userAgent)):()=>!0,Ure=$r.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];re.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),re.isString(n)&&l.push(`path=${n}`),re.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),re.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Vre(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Wre(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function BF(e,t,r){let n=!Vre(t);return e&&(n||r==!1)?Wre(e,t):t}const qE=e=>e instanceof mn?{...e}:e;function ho(e,t){t=t||{};const r={};function n(d,h,m,p){return re.isPlainObject(d)&&re.isPlainObject(h)?re.merge.call({caseless:p},d,h):re.isPlainObject(h)?re.merge({},h):re.isArray(h)?h.slice():h}function a(d,h,m,p){if(re.isUndefined(h)){if(!re.isUndefined(d))return n(void 0,d,m,p)}else return n(d,h,m,p)}function s(d,h){if(!re.isUndefined(h))return n(void 0,h)}function o(d,h){if(re.isUndefined(h)){if(!re.isUndefined(d))return n(void 0,d)}else return n(void 0,h)}function l(d,h,m){if(m in t)return n(d,h);if(m in e)return n(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,m)=>a(qE(d),qE(h),m,!0)};return re.forEach(Object.keys({...e,...t}),function(h){const m=u[h]||a,p=m(e[h],t[h],h);re.isUndefined(p)&&m!==l||(r[h]=p)}),r}const UF=e=>{const t=ho({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=mn.from(o),t.url=$F(BF(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),re.isFormData(r)){if($r.hasStandardBrowserEnv||$r.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(re.isFunction(r.getHeaders)){const u=r.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([h,m])=>{d.includes(h.toLowerCase())&&o.set(h,m)})}}if($r.hasStandardBrowserEnv&&(n&&re.isFunction(n)&&(n=n(t)),n||n!==!1&&Bre(t.url))){const u=a&&s&&Ure.read(s);u&&o.set(a,u)}return t},Hre=typeof XMLHttpRequest<"u",Kre=Hre&&function(e){return new Promise(function(r,n){const a=UF(e);let s=a.data;const o=mn.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=a,h,m,p,g,y;function v(){g&&g(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function w(){if(!b)return;const k=mn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:k,config:e,request:b};qF(function(T){r(T),v()},function(T){n(T),v()},P),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(n(new Ue("Request aborted",Ue.ECONNABORTED,e,b)),b=null)},b.onerror=function(E){const P=E&&E.message?E.message:"Network Error",_=new Ue(P,Ue.ERR_NETWORK,e,b);_.event=E||null,n(_),b=null},b.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||FF;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),n(new Ue(E,P.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,e,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&re.forEach(o.toJSON(),function(E,P){b.setRequestHeader(P,E)}),re.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),d&&([p,y]=Rm(d,!0),b.addEventListener("progress",p)),u&&b.upload&&([m,g]=Rm(u),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(h=k=>{b&&(n(!k||k.type?new gc(null,e,b):k),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const S=Lre(a.url);if(S&&$r.protocols.indexOf(S)===-1){n(new Ue("Unsupported protocol "+S+":",Ue.ERR_BAD_REQUEST,e));return}b.send(s||null)})},Gre=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(d){if(!a){a=!0,l();const h=d instanceof Error?d:this.reason;n.abort(h instanceof Ue?h:new gc(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,s(new Ue(`timeout ${t} of ms exceeded`,Ue.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>re.asap(l),u}},Yre=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Qre=async function*(e,t){for await(const r of Xre(e))yield*Yre(r,t)},Xre=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},BE=(e,t,r,n)=>{const a=Qre(e,t);let s=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:h}=await a.next();if(d){l(),u.close();return}let m=h.byteLength;if(r){let p=s+=m;r(p)}u.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},UE=64*1024,{isFunction:Ih}=re,Jre=(({Request:e,Response:t})=>({Request:e,Response:t}))(re.global),{ReadableStream:VE,TextEncoder:WE}=re.global,HE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Zre=e=>{e=re.merge.call({skipUndefined:!0},Jre,e);const{fetch:t,Request:r,Response:n}=e,a=t?Ih(t):typeof fetch=="function",s=Ih(r),o=Ih(n);if(!a)return!1;const l=a&&Ih(VE),u=a&&(typeof WE=="function"?(y=>v=>y.encode(v))(new WE):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=s&&l&&HE(()=>{let y=!1;const v=new r($r.origin,{body:new VE,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),h=o&&l&&HE(()=>re.isReadableStream(new n("").body)),m={stream:h&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(v,b)=>{let w=v&&v[y];if(w)return w.call(v);throw new Ue(`Response type '${y}' is not supported`,Ue.ERR_NOT_SUPPORT,b)})});const p=async y=>{if(y==null)return 0;if(re.isBlob(y))return y.size;if(re.isSpecCompliantForm(y))return(await new r($r.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(re.isArrayBufferView(y)||re.isArrayBuffer(y))return y.byteLength;if(re.isURLSearchParams(y)&&(y=y+""),re.isString(y))return(await u(y)).byteLength},g=async(y,v)=>{const b=re.toFiniteNumber(y.getContentLength());return b??p(v)};return async y=>{let{url:v,method:b,data:w,signal:S,cancelToken:k,timeout:E,onDownloadProgress:P,onUploadProgress:_,responseType:T,headers:D,withCredentials:L="same-origin",fetchOptions:M}=UF(y),F=t||fetch;T=T?(T+"").toLowerCase():"text";let q=Gre([S,k&&k.toAbortSignal()],E),H=null;const K=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let W;try{if(_&&d&&b!=="get"&&b!=="head"&&(W=await g(D,w))!==0){let B=new r(v,{method:"POST",body:w,duplex:"half"}),V;if(re.isFormData(w)&&(V=B.headers.get("content-type"))&&D.setContentType(V),B.body){const[I,ae]=LE(W,Rm(zE(_)));w=BE(B.body,UE,I,ae)}}re.isString(L)||(L=L?"include":"omit");const $=s&&"credentials"in r.prototype,Q={...M,signal:q,method:b.toUpperCase(),headers:D.normalize().toJSON(),body:w,duplex:"half",credentials:$?L:void 0};H=s&&new r(v,Q);let Y=await(s?F(H,M):F(v,Q));const X=h&&(T==="stream"||T==="response");if(h&&(P||X&&K)){const B={};["status","statusText","headers"].forEach(ye=>{B[ye]=Y[ye]});const V=re.toFiniteNumber(Y.headers.get("content-length")),[I,ae]=P&&LE(V,Rm(zE(P),!0))||[];Y=new n(BE(Y.body,UE,I,()=>{ae&&ae(),K&&K()}),B)}T=T||"text";let R=await m[re.findKey(m,T)||"text"](Y,y);return!X&&K&&K(),await new Promise((B,V)=>{qF(B,V,{data:R,headers:mn.from(Y.headers),status:Y.status,statusText:Y.statusText,config:y,request:H})})}catch($){throw K&&K(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,y,H),{cause:$.cause||$}):Ue.from($,$&&$.code,y,H)}}},ene=new Map,VF=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,u,d,h=ene;for(;l--;)u=s[l],d=h.get(u),d===void 0&&h.set(u,d=l?new Map:Zre(t)),h=d;return d};VF();const t_={http:gre,xhr:Kre,fetch:{get:VF}};re.forEach(t_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const KE=e=>`- ${e}`,tne=e=>re.isFunction(e)||e===null||e===!1;function rne(e,t){e=re.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!tne(n)&&(a=t_[(l=String(n)).toLowerCase()],a===void 0))throw new Ue(`Unknown adapter '${l}'`);if(a&&(re.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(KE).join(`
`):" "+KE(o[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const WF={getAdapter:rne,adapters:t_};function cy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gc(null,e)}function GE(e){return cy(e),e.headers=mn.from(e.headers),e.data=ly.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WF.getAdapter(e.adapter||Zd.adapter,e)(e).then(function(n){return cy(e),n.data=ly.call(e,e.transformResponse,n),n.headers=mn.from(n.headers),n},function(n){return zF(n)||(cy(e),n&&n.response&&(n.response.data=ly.call(e,e.transformResponse,n.response),n.response.headers=mn.from(n.response.headers))),Promise.reject(n)})}const HF="1.13.2",rx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const YE={};rx.transitional=function(t,r,n){function a(s,o){return"[Axios v"+HF+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new Ue(a(o," has been removed"+(r?" in "+r:"")),Ue.ERR_DEPRECATED);return r&&!YE[o]&&(YE[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};rx.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function nne(e,t,r){if(typeof e!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],u=l===void 0||o(l,s,e);if(u!==!0)throw new Ue("option "+s+" must be "+u,Ue.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ue("Unknown option "+s,Ue.ERR_BAD_OPTION)}}const fm={assertOptions:nne,validators:rx},Oi=fm.validators;let io=class{constructor(t){this.defaults=t||{},this.interceptors={request:new $E,response:new $E}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ho(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&fm.assertOptions(n,{silentJSONParsing:Oi.transitional(Oi.boolean),forcedJSONParsing:Oi.transitional(Oi.boolean),clarifyTimeoutError:Oi.transitional(Oi.boolean)},!1),a!=null&&(re.isFunction(a)?r.paramsSerializer={serialize:a}:fm.assertOptions(a,{encode:Oi.function,serialize:Oi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fm.assertOptions(r,{baseUrl:Oi.spelling("baseURL"),withXsrfToken:Oi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&re.merge(s.common,s[r.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=mn.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(u=u&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let h,m=0,p;if(!u){const y=[GE.bind(this),void 0];for(y.unshift(...l),y.push(...d),p=y.length,h=Promise.resolve(r);m<p;)h=h.then(y[m++],y[m++]);return h}p=l.length;let g=r;for(;m<p;){const y=l[m++],v=l[m++];try{g=y(g)}catch(b){v.call(this,b);break}}try{h=GE.call(this,g)}catch(y){return Promise.reject(y)}for(m=0,p=d.length;m<p;)h=h.then(d[m++],d[m++]);return h}getUri(t){t=ho(this.defaults,t);const r=BF(t.baseURL,t.url,t.allowAbsoluteUrls);return $F(r,t.params,t.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(t){io.prototype[t]=function(r,n){return this.request(ho(n||{},{method:t,url:r,data:(n||{}).data}))}});re.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(ho(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}io.prototype[t]=r(),io.prototype[t+"Form"]=r(!0)});let ine=class KF{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new gc(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new KF(function(a){t=a}),cancel:t}}};function ane(e){return function(r){return e.apply(null,r)}}function sne(e){return re.isObject(e)&&e.isAxiosError===!0}const h1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(h1).forEach(([e,t])=>{h1[t]=e});function GF(e){const t=new io(e),r=SF(io.prototype.request,t);return re.extend(r,io.prototype,t,{allOwnKeys:!0}),re.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return GF(ho(e,a))},r}const Wt=GF(Zd);Wt.Axios=io;Wt.CanceledError=gc;Wt.CancelToken=ine;Wt.isCancel=zF;Wt.VERSION=HF;Wt.toFormData=tx;Wt.AxiosError=Ue;Wt.Cancel=Wt.CanceledError;Wt.all=function(t){return Promise.all(t)};Wt.spread=ane;Wt.isAxiosError=sne;Wt.mergeConfig=ho;Wt.AxiosHeaders=mn;Wt.formToJSON=e=>LF(re.isHTMLForm(e)?new FormData(e):e);Wt.getAdapter=WF.getAdapter;Wt.HttpStatusCode=h1;Wt.default=Wt;const{Axios:v2e,AxiosError:b2e,CanceledError:j2e,isCancel:w2e,CancelToken:N2e,VERSION:_2e,all:S2e,Cancel:k2e,isAxiosError:P2e,spread:C2e,toFormData:E2e,AxiosHeaders:O2e,HttpStatusCode:T2e,formToJSON:A2e,getAdapter:M2e,mergeConfig:R2e}=Wt,Kn=Wt.create({baseURL:Ce,headers:{"Content-Type":"application/json"}}),one=e=>{if(!e)return"";const t=e.split(`
`).map(a=>a.trim()).filter(a=>a.length>0);if(t.length===0)return"";const r=[];let n="";for(let a=0;a<t.length;a++){const s=t[a],o=a<t.length-1?t[a+1]:null,l=a>0?t[a-1]:null,u=/^[-*]\s/.test(s)||/^\d+[.)]\s/.test(s),d=s.endsWith(",")&&s.length<80&&l&&(l.endsWith(":")||l.endsWith(",")),h=(s.endsWith(".")||s.endsWith(","))&&s.length<100&&l&&(l.endsWith(",")||l.endsWith(":"));if(s.endsWith(":")&&o&&(u||o.endsWith(","))){n&&(r.push(n.trim()),n=""),r.push(s);continue}if(u||d||h){n&&(r.push(n.trim()),n=""),r.push(s);continue}const p=/[.!?]$/.test(s);s.length<50&&!p&&!p?n?n+=" "+s:n=s:p?n?(n+=" "+s,r.push(n.trim()),n=""):r.push(s):n?n+=" "+s:n=s}return n&&r.push(n.trim()),r.join(`

`)},lne=({className:e,refreshIntervalMs:t=6e5,title:r=" Resumo do Sistema",mode:n="resumo"})=>{const{data:a,isLoading:s,error:o}=xe({queryKey:["insight",n==="planeamento"?"planeamento":"resumo"],queryFn:async()=>{const l=await Kn.get("/insights/generate",{params:{mode:n==="planeamento"?"planeamento":"resumo"}});return{summary:l.data.insight||l.data.answer||"",model:l.data.model||"offline",generated_at:new Date().toISOString(),detail:l.data.detail}},refetchInterval:t,retry:1});if(s)return i.jsx(no,{height:110,baseColor:"#101010",highlightColor:"#1b1b1b",className:e});if(o||a?.detail){const l=a?.detail||o?.message||"Erro ao carregar resumo";return i.jsx("div",{className:Xe("rounded-2xl border border-warning/40 bg-warning/10 p-4 text-sm text-warning shadow-glow",e),children:l})}return a?i.jsxs("div",{className:Xe("relative overflow-hidden rounded-2xl border border-border bg-gradient-to-br from-[#0b1411] via-[#0f1f1a] to-[#142b24] p-5 shadow-glow",e),children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_left,rgba(110,247,185,0.25),transparent_55%)]"}),i.jsxs("div",{className:"relative space-y-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-nikufra/80 mb-4",children:r}),i.jsx("div",{className:"text-sm text-text-primary leading-relaxed",children:i.jsx(Qp,{remarkPlugins:[Xp],className:"prose prose-invert prose-sm max-w-none [&>p]:mb-3 [&>p]:leading-[1.7] [&>p]:text-justify [&>ul]:mb-3 [&>ul]:mt-2 [&>ul]:space-y-1.5 [&>ul]:list-disc [&>ul]:ml-5 [&>li]:leading-relaxed [&>li]:mb-1",components:{p:({children:l})=>i.jsx("p",{className:"mb-3 leading-[1.7] text-justify text-sm text-text-primary break-words",children:l}),ul:({children:l})=>i.jsx("ul",{className:"mb-3 mt-2 space-y-1.5 list-disc ml-5 text-sm text-text-primary",children:l}),li:({children:l})=>i.jsx("li",{className:"mb-1 leading-relaxed text-text-primary",children:l})},children:one(a.summary)})}),i.jsxs("p",{className:"text-xs text-text-muted/80 pt-3 border-t border-border/40 mt-4",children:["Atualizado: ",new Date(a.generated_at).toLocaleString("pt-PT")]})]})]}):null};async function Ca(e,t){if(!e.ok)throw new Error(`Erro no ${t}: ${e.status}`);return e.json()}async function cne(){const e=await fetch(`${Ce}/plan`);return Ca(e,"/plan")}async function une(){const e=await fetch(`${Ce}/plan/kpis`);return Ca(e,"/plan/kpis")}async function dne(){const e=await fetch(`${Ce}/plan/suggestions`);return Ca(e,"/plan/suggestions")}async function fne(){const e=await fetch(`${Ce}/bottleneck`);return Ca(e,"/bottleneck")}async function hne(e){const t=await fetch(`${Ce}/what-if/describe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenario:e})});return Ca(t,"/what-if/describe")}async function mne(e){const t=await fetch(`${Ce}/what-if/compare`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenario:e})});return Ca(t,"/what-if/compare")}async function pne(e){const t=e?`${Ce}/actions?status=${e}`:`${Ce}/actions`,r=await fetch(t);return Ca(r,"/actions")}async function xne(e,t,r){const n=await fetch(`${Ce}/actions/${e}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved_by:t,notes:r})});return Ca(n,`/actions/${e}/approve`)}async function gne(e,t,r){const n=await fetch(`${Ce}/actions/${e}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejected_by:t,reason:r})});return Ca(n,`/actions/${e}/reject`)}const es=({title:e,value:t,subtitle:r,icon:n,variant:a="default",tooltip:s})=>{const o={default:"border-border/60",success:"border-green-500/40 bg-green-500/5",warning:"border-amber-500/40 bg-amber-500/5",danger:"border-red-500/40 bg-red-500/5"},l={default:"text-text-primary",success:"text-green-400",warning:"text-amber-400",danger:"text-red-400"};return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-xl border-2 bg-gradient-to-br from-surface to-surface/80 p-4 shadow-lg ${o[a]}`,title:s,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold text-text-muted",children:e}),n&&i.jsx("span",{className:"text-lg",children:n})]}),i.jsx("div",{className:`text-2xl font-bold ${l[a]}`,children:t}),r&&i.jsx("div",{className:"text-xs text-text-muted mt-1",children:r})]})},yne=({distribution:e})=>{const t=Object.values(e).reduce((n,a)=>n+a,0);if(t===0)return null;const r={A:"bg-blue-500",B:"bg-amber-500",C:"bg-green-500",D:"bg-purple-500"};return i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex h-4 rounded-full overflow-hidden bg-background",children:Object.entries(e).map(([n,a])=>{const s=a/t*100;return i.jsx("div",{className:`${r[n]||"bg-gray-500"} transition-all`,style:{width:`${s}%`},title:`Rota ${n}: ${a} ops (${s.toFixed(1)}%)`},n)})}),i.jsx("div",{className:"flex flex-wrap gap-3 text-xs",children:Object.entries(e).map(([n,a])=>{const s=a/t*100;return i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:`w-2 h-2 rounded ${r[n]||"bg-gray-500"}`}),i.jsxs("span",{className:"text-text-muted",children:["Rota ",n,": ",i.jsxs("span",{className:"font-semibold text-text-primary",children:[s.toFixed(0),"%"]})]})]},n)})})]})},vne=({loads:e,maxItems:t=5})=>{const r=e.slice(0,t);return i.jsx("div",{className:"space-y-2",children:r.map((n,a)=>i.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-background/50 px-3 py-2",children:[i.jsx("span",{className:"text-xs font-bold text-text-muted w-4",children:a+1}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-semibold text-text-primary",children:n.machine_id}),i.jsxs("span",{className:"text-xs text-text-muted",children:[n.num_operations," ops"]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-border overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${n.utilization_pct>90?"bg-red-500":n.utilization_pct>70?"bg-amber-500":"bg-nikufra"}`,style:{width:`${Math.min(n.utilization_pct,100)}%`}})}),i.jsxs("span",{className:"text-xs font-semibold text-text-muted w-12 text-right",children:[n.utilization_pct.toFixed(0),"%"]})]})]})]},n.machine_id))})},bne=({total:e,byMachine:t})=>{if(e===0)return null;const r=Object.entries(t).sort((n,a)=>a[1]-n[1]).slice(0,3);return i.jsxs(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-xl border-2 border-amber-500/40 bg-amber-500/10 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsxs("span",{className:"text-sm font-semibold text-amber-400",children:[e," Sobreposies Detetadas"]})]}),r.length>0&&i.jsx("div",{className:"text-xs text-text-muted space-y-1",children:r.map(([n,a])=>i.jsxs("div",{children:[n,": ",a," overlap",a>1?"s":""]},n))})]})},jne=()=>{const{data:e,isLoading:t,error:r}=xe({queryKey:["plan-kpis"],queryFn:une,staleTime:3e4,refetchInterval:6e4});if(t)return i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:8}).map((s,o)=>i.jsx(no,{height:100,baseColor:"#121212",highlightColor:"#1c1c1c"},o))})});if(r||!e)return i.jsx("div",{className:"rounded-xl border border-red-500/40 bg-red-500/10 p-4 text-sm text-red-400",children:"Erro ao carregar KPIs. Verifique se o plano foi gerado."});const n=e.otd_percent>=95?"success":e.otd_percent>=85?"warning":"danger",a=[];if(e.otd_percent<90&&a.push({icon:"",message:`OTD baixo: ${e.otd_percent.toFixed(1)}%`,type:"danger"}),e.overlaps.total>0&&a.push({icon:"",message:`${e.overlaps.total} sobreposio(es) detetada(s)`,type:"warning"}),e.active_bottleneck){const s=e.machine_loads.find(o=>o.machine_id===e.active_bottleneck?.machine_id);s&&s.utilization_pct>80&&a.push({icon:"",message:`Gargalo ${e.active_bottleneck.machine_id} com ${s.utilization_pct.toFixed(0)}% de carga`,type:"danger"})}return i.jsxs("div",{className:"space-y-6",children:[a.length>0&&i.jsxs(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl border-2 border-danger/40 bg-gradient-to-r from-danger/10 to-warning/10 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsxs("span",{className:"text-sm font-bold text-danger",children:["Alertas Ativos (",a.length,")"]})]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:a.map((s,o)=>i.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg px-3 py-1 text-xs font-medium ${s.type==="danger"?"bg-danger/20 text-danger":"bg-warning/20 text-warning"}`,children:[s.icon," ",s.message]},o))})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[i.jsx(es,{title:"Makespan",value:`${e.makespan_hours.toFixed(1)}h`,subtitle:"Tempo total de produo",icon:""}),i.jsx(es,{title:"OTD (On-Time Delivery)",value:`${e.otd_percent.toFixed(1)}%`,subtitle:"Ordens entregues a tempo",icon:n==="success"?"":n==="warning"?"":"",variant:n}),i.jsx(es,{title:"Lead Time Mdio",value:`${e.lead_time_average_h.toFixed(1)}h`,subtitle:"Por artigo",icon:""}),i.jsx(es,{title:"Horas de Setup",value:`${e.setup_hours.toFixed(1)}h`,subtitle:"Estimativa de trocas",icon:""})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[i.jsx(es,{title:"Total Operaes",value:e.total_operations,subtitle:`${e.total_orders} ordens  ${e.total_articles} artigos`,icon:""}),i.jsx(es,{title:"Mquinas Ativas",value:e.total_machines,subtitle:"Com operaes planeadas",icon:""}),e.active_bottleneck&&i.jsx(es,{title:"Gargalo Ativo",value:e.active_bottleneck.machine_id,subtitle:`${(e.active_bottleneck.total_minutes/60).toFixed(1)}h de carga`,icon:"",variant:"warning"}),e.overlaps.total>0&&i.jsx(es,{title:"Sobreposies",value:e.overlaps.total,subtitle:"Conflitos detetados",icon:"",variant:"warning"})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-xl border-2 border-border/60 bg-gradient-to-br from-surface to-surface/80 p-5",children:[i.jsx("h4",{className:"text-sm font-semibold text-text-primary mb-4",children:"Distribuio de Rotas"}),i.jsx(yne,{distribution:e.route_distribution})]}),i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-xl border-2 border-border/60 bg-gradient-to-br from-surface to-surface/80 p-5",children:[i.jsx("h4",{className:"text-sm font-semibold text-text-primary mb-4",children:"Top 5 Mquinas Mais Carregadas"}),i.jsx(vne,{loads:e.machine_loads,maxItems:5})]})]}),e.overlaps.total>0&&i.jsx(bne,{total:e.overlaps.total,byMachine:e.overlaps.by_machine})]})};function wne(e){return e.map(t=>({...t,start:new Date(t.start_time),end:new Date(t.end_time)}))}function Nne(e){if(e.length===0){const n=new Date;return{from:n,to:new Date(n.getTime()+1440*60*1e3)}}let t=e[0].start.getTime(),r=e[0].end.getTime();for(const n of e)n.start.getTime()<t&&(t=n.start.getTime()),n.end.getTime()>r&&(r=n.end.getTime());return{from:new Date(t),to:new Date(r)}}function _ne(e,t,r){if(e==="full"){const a=t.to.getTime()-t.from.getTime(),s=r/100*a;return{from:t.from,to:new Date(t.from.getTime()+s)}}const n=e==="1day"?1:e==="3days"?3:7;return{from:t.from,to:new Date(t.from.getTime()+n*24*60*60*1e3)}}function YF(e,t,r){const n=t.to.getTime()-t.from.getTime();if(n<=0)return 0;const a=(e.getTime()-t.from.getTime())/n;return Math.max(0,Math.min(r,a*r))}function Sne(e,t,r,n){const a=r.to.getTime()-r.from.getTime();if(a<=0)return 0;const s=Math.max(e.getTime(),r.from.getTime()),o=Math.min(t.getTime(),r.to.getTime());return o<=s?0:Math.max(4,(o-s)/a*n)}function kne(e,t){return e.end.getTime()>t.from.getTime()&&e.start.getTime()<t.to.getTime()}function r_(e,t){switch(t){case"MACHINE":return e.machine_id;case"PRODUCT":return e.article_id;case"ROUTE":return`Rota ${e.route_label}`}}function Pne(e,t){const r=new Map;for(const n of e){const a=r_(n,t);r.has(a)||r.set(a,[]),r.get(a).push(n)}for(const[,n]of r)n.sort((a,s)=>a.start.getTime()-s.start.getTime());return new Map([...r.entries()].sort((n,a)=>n[0].localeCompare(a[0])))}function Cne(e){const t=new Map,r=[];for(const n of e){let a=!1;for(let s=0;s<r.length;s++)if(!r[s].some(l=>!(n.end.getTime()<=l.start.getTime()||n.start.getTime()>=l.end.getTime()))){r[s].push(n),t.set(n,s),a=!0;break}a||(r.push([n]),t.set(n,r.length-1))}return t}function Ene(e,t){const r=new Set;for(const n of e)r.add(r_(n,t));return[...r].sort()}function One(e,t,r){return r.length===0?e:e.filter(n=>r.includes(r_(n,t)))}function id(e){switch(e?.toUpperCase()){case"A":return"#3B82F6";case"B":return"#F59E0B";case"C":return"#10B981";case"D":return"#8B5CF6";case"E":return"#EC4899";default:return"#6B7280"}}function Tne(e){return e<=50?"rgba(16, 185, 129, 0.1)":e<=80?"rgba(245, 158, 11, 0.1)":"rgba(239, 68, 68, 0.15)"}function mo(e,t="short"){const r=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");if(t==="full"){const a=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${r}/${n} ${a}:${s}`}return`${r}/${n}`}function m1(e){if(e<60)return`${Math.round(e)}min`;const t=e/60;return t<24?`${t.toFixed(1)}h`:`${(t/24).toFixed(1)}d`}function Ane(e,t){const r=[],a=(e.to.getTime()-e.from.getTime())/(3600*1e3),s=a<=24?2:a<=72?6:a<=168?12:24,o=s*60*60*1e3;let l=new Date(e.from);l.setMinutes(0,0,0);const u=l.getHours();for(l.setHours(Math.floor(u/s)*s);l<=e.to;){if(l>=e.from){const d=YF(l,e,t),h=l.getHours()===0,m=h||s>=24?mo(l,"short"):`${String(l.getHours()).padStart(2,"0")}:00`;r.push({x:d,label:m,isMajor:h})}l=new Date(l.getTime()+o)}return r}const Mne=({value:e,onChange:t})=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-xs uppercase tracking-widest text-text-muted",children:"Vista"}),i.jsxs("select",{value:e,onChange:r=>t(r.target.value),className:"rounded-lg border border-border bg-surface px-3 py-1.5 text-sm text-text-primary focus:border-nikufra focus:outline-none",children:[i.jsx("option",{value:"MACHINE",children:"Por Mquina"}),i.jsx("option",{value:"PRODUCT",children:"Por Artigo"}),i.jsx("option",{value:"ROUTE",children:"Por Rota"})]})]}),Rne=({current:e,onChange:t})=>{const r=[{key:"1day",label:"1 Dia"},{key:"3days",label:"3 Dias"},{key:"1week",label:"1 Semana"},{key:"full",label:"Completo"}];return i.jsx("div",{className:"flex gap-1",children:r.map(n=>i.jsx("button",{onClick:()=>t(n.key),className:`rounded-lg px-3 py-1.5 text-xs font-medium transition ${e===n.key?"bg-nikufra text-white":"border border-border bg-surface text-text-muted hover:border-nikufra hover:text-nikufra"}`,children:n.label},n.key))})},Dne=({label:e,options:t,selected:r,onChange:n})=>{const[a,s]=O.useState(!1),o=O.useRef(null);O.useEffect(()=>{const u=d=>{o.current&&!o.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=u=>{r.includes(u)?n(r.filter(d=>d!==u)):n([...r,u])};return i.jsxs("div",{ref:o,className:"relative",children:[i.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 rounded-lg border border-border bg-surface px-3 py-1.5 text-sm text-text-muted hover:border-nikufra",children:[i.jsx("span",{children:e}),i.jsx("span",{className:"rounded bg-nikufra/20 px-1.5 py-0.5 text-xs text-nikufra",children:r.length===0?"Todos":r.length})]}),a&&i.jsxs("div",{className:"absolute left-0 top-full z-50 mt-1 max-h-60 w-48 overflow-auto rounded-xl border border-border bg-surface p-2 shadow-lg",children:[i.jsxs("div",{className:"mb-2 flex gap-1",children:[i.jsx("button",{onClick:()=>n(t),className:"flex-1 rounded bg-nikufra/10 px-2 py-1 text-xs text-nikufra hover:bg-nikufra/20",children:"Todos"}),i.jsx("button",{onClick:()=>n([]),className:"flex-1 rounded bg-danger/10 px-2 py-1 text-xs text-danger hover:bg-danger/20",children:"Limpar"})]}),t.map(u=>i.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded px-2 py-1 text-sm text-text-primary hover:bg-background",children:[i.jsx("input",{type:"checkbox",checked:r.includes(u),onChange:()=>l(u),className:"accent-nikufra"}),u]},u))]})]})},Ine=({value:e,onChange:t})=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-text-muted",children:"Zoom"}),i.jsx("input",{type:"range",min:10,max:100,value:e,onChange:r=>t(Number(r.target.value)),className:"h-1.5 w-24 cursor-pointer appearance-none rounded bg-border accent-nikufra"}),i.jsxs("span",{className:"w-8 text-xs text-text-muted",children:[e,"%"]})]}),$ne=()=>i.jsx("div",{className:"flex flex-wrap items-center gap-3",children:["A","B","C","D"].map(e=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("div",{className:"h-3 w-3 rounded",style:{backgroundColor:id(e)}}),i.jsxs("span",{className:"text-xs text-text-muted",children:["Rota ",e]})]},e))}),Fne=({machineId:e,totalMinutes:t,hasAlerts:r})=>i.jsxs("div",{className:`rounded-xl border p-3 ${r?"border-danger/60 bg-danger/10":"border-warning/40 bg-warning/10"}`,children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("p",{className:`text-xs uppercase tracking-widest ${r?"text-danger":"text-warning"}`,children:[r&&" "," Gargalo Atual"]})}),i.jsx("p",{className:"mt-1 text-lg font-bold text-text-primary",children:e}),i.jsxs("p",{className:"text-xs text-text-muted",children:[(t/60).toFixed(1)," horas de carga"]})]}),Lne=({ticks:e})=>i.jsx("div",{className:"relative h-8 border-b border-border bg-background/30",children:e.map((t,r)=>i.jsxs("div",{className:"absolute top-0 h-full",style:{left:t.x},children:[i.jsx("div",{className:`h-2 w-px ${t.isMajor?"bg-nikufra":"bg-border"}`}),i.jsx("span",{className:`absolute top-2 whitespace-nowrap text-[10px] ${t.isMajor?"font-semibold text-nikufra":"text-text-muted"}`,style:{transform:"translateX(-50%)"},children:t.label})]},r))}),zne=({op:e,x:t,width:r,subRow:n,rowHeight:a,onHover:s,onClick:o})=>{const l=id(e.route_label),u=a-8,d=n*a+4;return i.jsxs(de.div,{initial:{opacity:0,scaleX:.8},animate:{opacity:1,scaleX:1},className:"absolute flex cursor-pointer items-center gap-1 overflow-hidden rounded-md px-1.5 transition-transform hover:z-20 hover:scale-y-105",style:{left:t,width:Math.max(r,4),top:d,height:u,backgroundColor:l},onMouseEnter:h=>s(e,h.clientX,h.clientY),onMouseMove:h=>s(e,h.clientX,h.clientY),onMouseLeave:()=>s(null,0,0),onClick:()=>o(e),children:[i.jsx("span",{className:"truncate text-[10px] font-bold text-white",children:e.order_id}),r>60&&i.jsx("span",{className:"truncate text-[9px] text-white/80",children:e.op_code}),r>100&&i.jsx("span",{className:"ml-auto shrink-0 rounded bg-white/20 px-1 py-0.5 text-[8px] text-white",children:e.route_label})]})},qne=({op:e,x:t,y:r})=>i.jsx(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"pointer-events-none fixed z-50 max-w-xs rounded-lg border border-nikufra/50 bg-surface p-3 shadow-xl",style:{left:t+12,top:r+12},children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"border-b border-border pb-1 text-sm font-bold text-text-primary",children:[e.order_id,"  ",e.op_code]}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Mquina:"})," ",i.jsx("span",{className:"font-medium text-text-primary",children:e.machine_id})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Artigo:"})," ",i.jsx("span",{className:"font-medium text-text-primary",children:e.article_id})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Rota:"})," ",i.jsx("span",{className:"font-bold",style:{color:id(e.route_label)},children:e.route_label})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Quantidade:"})," ",i.jsx("span",{className:"font-medium text-text-primary",children:e.qty})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Durao:"})," ",i.jsx("span",{className:"font-medium text-nikufra",children:m1(e.duration_min||(e.end.getTime()-e.start.getTime())/6e4)})]}),i.jsxs("div",{className:"col-span-2 border-t border-border/50 pt-1",children:[i.jsx("span",{className:"text-text-muted",children:"Incio:"})," ",i.jsx("span",{className:"text-text-primary",children:mo(e.start,"full")})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-text-muted",children:"Fim:"})," ",i.jsx("span",{className:"text-text-primary",children:mo(e.end,"full")})]})]})]})}),Bne=({article:e,operations:t,onClose:r,onViewArticle:n})=>{const a=[...t].sort((o,l)=>o.op_seq!==l.op_seq?o.op_seq-l.op_seq:o.start.getTime()-l.start.getTime()),s=(o,l)=>(l.getTime()-o.getTime())/6e4;return i.jsxs(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"fixed right-4 top-24 z-40 w-80 max-h-[80vh] overflow-auto rounded-xl border border-nikufra/40 bg-surface p-4 shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary",children:["Percurso ",e]}),i.jsx("button",{onClick:r,className:"text-text-muted hover:text-text-primary",children:""})]}),i.jsx("div",{className:"space-y-3",children:a.map((o,l)=>{const u=l>0?a[l-1]:null,d=u?s(u.end,o.start):0,h=d>60;return i.jsxs("div",{children:[h&&i.jsxs("div",{className:"mb-2 rounded-lg bg-warning/10 border border-warning/40 px-3 py-2 text-xs text-warning",children:[" Espera de ",m1(d)," antes desta operao"]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background/50 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold text-text-primary",children:o.op_code}),i.jsxs("span",{className:"rounded px-2 py-0.5 text-xs",style:{backgroundColor:id(o.route_label)+"33",color:id(o.route_label)},children:["Rota ",o.route_label]})]}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-text-muted",children:[i.jsxs("div",{children:["Mquina: ",i.jsx("span",{className:"text-text-primary",children:o.machine_id})]}),i.jsxs("div",{children:["Durao: ",i.jsx("span",{className:"text-nikufra",children:m1(o.duration_min)})]}),i.jsxs("div",{className:"col-span-2",children:[mo(o.start,"full"),"  ",mo(o.end,"full")]})]})]})]},`${o.op_code}-${l}`)})}),i.jsxs("button",{onClick:n,className:"mt-4 w-full rounded-lg bg-nikufra/20 border border-nikufra px-4 py-2 text-sm font-semibold text-nikufra hover:bg-nikufra hover:text-white transition",children:["Ver percurso de ",e," no Gantt"]})]})},Une=({suggestions:e})=>{if(!e||e.summary.total_suggestions===0)return null;const t=[...e.overload_suggestions.map(r=>({...r,priority:r.expected_gain_h>2?"high":"medium"})),...e.idle_gaps.map(r=>({...r,priority:r.gap_min>120?"high":"low"})),...e.product_risks.map(r=>({...r,priority:r.wait_min>120?"high":"medium"}))].slice(0,5);return i.jsxs("div",{className:"rounded-xl border border-nikufra/40 bg-gradient-to-br from-nikufra/10 to-nikufra/5 p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("h3",{className:"text-sm font-bold text-text-primary flex items-center gap-2",children:[" Sugestes Inteligentes",i.jsx("span",{className:"rounded-full bg-nikufra/20 px-2 py-0.5 text-xs text-nikufra",children:e.summary.total_suggestions}),e.summary.high_priority>0&&i.jsxs("span",{className:"rounded-full bg-danger/20 px-2 py-0.5 text-xs text-danger",children:[e.summary.high_priority," urgentes"]})]})}),i.jsx("div",{className:"space-y-2",children:t.map((r,n)=>i.jsx(de.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:n*.05},className:`rounded-lg border px-3 py-2 text-sm ${r.priority==="high"?"border-danger/40 bg-danger/10 text-danger":r.priority==="medium"?"border-warning/40 bg-warning/10 text-warning":"border-nikufra/40 bg-nikufra/10 text-nikufra"}`,children:r.formatted_pt},n))})]})},Vne=()=>{const e=O.useRef(null),[t,r]=O.useState(800),[n,a]=O.useState("MACHINE"),[s,o]=O.useState("full"),[l,u]=O.useState(100),[d,h]=O.useState([]),[m,p]=O.useState(null),[g,y]=O.useState(null),{data:v,isLoading:b}=xe({queryKey:["unified-gantt-plan"],queryFn:cne,staleTime:3e4}),{data:w}=xe({queryKey:["unified-gantt-bottleneck"],queryFn:fne,staleTime:6e4}),{data:S}=xe({queryKey:["unified-gantt-suggestions"],queryFn:dne,staleTime:6e4}),k=O.useMemo(()=>v?wne(v):[],[v]),E=O.useMemo(()=>Nne(k),[k]),P=O.useMemo(()=>_ne(s,E,l),[s,E,l]),_=O.useMemo(()=>Ene(k,n),[k,n]),T=O.useMemo(()=>{const R=One(k,n,d);return Pne(R,n)},[k,n,d]),D=O.useMemo(()=>Ane(P,t),[P,t]),L=O.useMemo(()=>S?.machine_loads||{},[S]),M=O.useMemo(()=>g?k.filter(R=>R.article_id===g.article_id):[],[g,k]),F=O.useMemo(()=>S?S.summary.high_priority>0:!1,[S]);O.useEffect(()=>{h([])},[n]),O.useEffect(()=>{const R=()=>{e.current&&r(e.current.offsetWidth-140)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const q=R=>{o(R),R==="full"&&u(100)},H=R=>{u(R),o("full")},K=(R,B,V)=>{p(R?{op:R,x:B,y:V}:null)},W=R=>{y(R)},$=()=>{g&&(a("PRODUCT"),h([g.article_id]),y(null))},Q=n==="MACHINE"?"Mquinas":n==="PRODUCT"?"Artigos":"Rotas",Y=28,X=140;return b?i.jsx("div",{className:"flex h-96 items-center justify-center rounded-2xl border border-border bg-surface",children:i.jsx("p",{className:"text-text-muted",children:"A carregar plano de produo..."})}):!v||v.length===0?i.jsx("div",{className:"flex h-96 items-center justify-center rounded-2xl border border-border bg-surface",children:i.jsx("p",{className:"text-text-muted",children:"Nenhum plano de produo disponvel."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Plano de Produo"}),i.jsxs("p",{className:"text-xs text-text-muted",children:[mo(P.from,"full"),"  ",mo(P.to,"full")]})]}),w?.machine_id&&i.jsx(Fne,{machineId:w.machine_id,totalMinutes:w.total_minutes,hasAlerts:F})]}),i.jsx(Une,{suggestions:S}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 rounded-xl border border-border bg-surface p-4",children:[i.jsx(Mne,{value:n,onChange:a}),i.jsx("div",{className:"h-6 w-px bg-border"}),i.jsx(Dne,{label:Q,options:_,selected:d,onChange:h}),i.jsx("div",{className:"h-6 w-px bg-border"}),i.jsx(Rne,{current:s,onChange:q}),i.jsx("div",{className:"h-6 w-px bg-border"}),i.jsx(Ine,{value:l,onChange:H}),i.jsx("div",{className:"ml-auto",children:i.jsx($ne,{})})]}),i.jsxs("div",{className:"flex gap-4 text-xs text-text-muted",children:[i.jsxs("span",{children:[k.length," operaes"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[T.size," ",n==="MACHINE"?"mquinas":n==="PRODUCT"?"artigos":"rotas"]}),n==="MACHINE"&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"inline-block h-2 w-2 rounded bg-green-500/50"})," 50%",i.jsx("span",{className:"ml-1 inline-block h-2 w-2 rounded bg-yellow-500/50"})," 50-80%",i.jsx("span",{className:"ml-1 inline-block h-2 w-2 rounded bg-red-500/50"})," >80%"]})]})]}),i.jsxs("div",{ref:e,className:"overflow-hidden rounded-xl border border-border bg-surface",children:[i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"shrink-0 border-b border-r border-border bg-background/50 px-3 py-2 text-xs font-semibold text-text-primary",style:{width:X},children:n==="MACHINE"?"Mquina":n==="PRODUCT"?"Artigo":"Rota"}),i.jsx("div",{className:"flex-1",children:i.jsx(Lne,{ticks:D})})]}),i.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:[...T.entries()].map(([R,B],V)=>{const I=B.filter(ve=>kne(ve,P)),ae=Cne(I),we=(Math.max(...Array.from(ae.values()),0)+1)*Y+8,ke=n==="MACHINE"&&L[R]?L[R].utilization_pct:0,se=n==="MACHINE"?Tne(ke):void 0;return i.jsxs("div",{className:`flex border-b border-border/50 ${V%2===0&&!se?"bg-background/10":""}`,style:{minHeight:we,backgroundColor:se},children:[i.jsxs("div",{className:"shrink-0 border-r border-border/50 px-3 py-2",style:{width:X},children:[i.jsx("div",{className:`text-sm font-semibold ${I.length>0?"text-text-primary":"text-text-muted/40"}`,children:R}),i.jsxs("div",{className:"flex items-center gap-2",children:[B.length>0&&i.jsxs("span",{className:"text-[10px] text-text-muted",children:[B.length," op",B.length>1?"s":""]}),n==="MACHINE"&&ke>0&&i.jsxs("span",{className:`text-[10px] font-semibold ${ke>80?"text-danger":ke>50?"text-warning":"text-nikufra"}`,children:[ke.toFixed(0),"%"]})]})]}),i.jsxs("div",{className:"relative flex-1",style:{minHeight:we},children:[D.map((ve,Oe)=>i.jsx("div",{className:"absolute bottom-0 top-0 w-px bg-border/20",style:{left:ve.x}},Oe)),I.map((ve,Oe)=>{const oe=YF(ve.start,P,t),Ze=Sne(ve.start,ve.end,P,t),Be=ae.get(ve)||0;return i.jsx(zne,{op:ve,x:oe,width:Ze,subRow:Be,rowHeight:Y,onHover:K,onClick:W},`${ve.order_id}-${ve.op_code}-${Oe}`)})]})]},R)})})]}),i.jsx(pt,{children:m&&i.jsx(qne,{op:m.op,x:m.x,y:m.y})}),i.jsx(pt,{children:g&&i.jsx(Bne,{article:g.article_id,operations:M,onClose:()=>y(null),onViewArticle:$})})]})},Wne={SET_MACHINE_DOWN:" Parar Mquina",SET_MACHINE_UP:" Reativar Mquina",CHANGE_ROUTE:" Alterar Rota",MOVE_OPERATION:" Mover Operao",SET_VIP_ARTICLE:" Definir VIP",CHANGE_HORIZON:" Alterar Horizonte",ADD_OVERTIME:" Horas Extra",ADD_ORDER:" Nova Ordem"},Hne={suggestion_engine:" Sugesto Automtica",chat_command:" Comando de Chat",what_if:" Cenrio What-If",manual:" Manual"},QF={PENDING:"Pendente",APPROVED:"Aprovada",REJECTED:"Rejeitada",APPLIED:"Aplicada"},Kne={PENDING:"bg-amber-500/20 text-amber-400 border-amber-500/40",APPROVED:"bg-blue-500/20 text-blue-400 border-blue-500/40",REJECTED:"bg-red-500/20 text-red-400 border-red-500/40",APPLIED:"bg-green-500/20 text-green-400 border-green-500/40"};function QE(e){return new Date(e).toLocaleString("pt-PT",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}const Gne=({action:e,onApprove:t,onReject:r,isApproving:n,isRejecting:a})=>{const[s,o]=O.useState(!1),[l,u]=O.useState(""),[d,h]=O.useState(!1);return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"rounded-xl border border-border bg-surface p-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold text-text-primary",children:Wne[e.type]||e.type}),i.jsx("span",{className:`rounded-full border px-2 py-0.5 text-xs ${Kne[e.status]}`,children:QF[e.status]})]}),i.jsx("p",{className:"text-sm text-text-primary",children:e.description||"Sem descrio"}),i.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-xs text-text-muted",children:[i.jsx("span",{children:Hne[e.source]||e.source}),i.jsx("span",{children:""}),i.jsx("span",{children:QE(e.created_at)}),i.jsx("span",{children:""}),i.jsxs("span",{children:["ID: ",e.id]})]})]}),e.status==="PENDING"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>t(e.id),disabled:n||a,className:"rounded-lg bg-green-500/20 border border-green-500/40 px-3 py-1.5 text-sm font-medium text-green-400 hover:bg-green-500/30 disabled:opacity-50 transition",children:n?"...":" Aprovar"}),i.jsx("button",{onClick:()=>h(!d),disabled:n||a,className:"rounded-lg bg-red-500/20 border border-red-500/40 px-3 py-1.5 text-sm font-medium text-red-400 hover:bg-red-500/30 disabled:opacity-50 transition",children:" Rejeitar"})]})]}),d&&e.status==="PENDING"&&i.jsxs(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-3 pt-3 border-t border-border/50",children:[i.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),placeholder:"Motivo da rejeio (opcional)...",className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-text-primary placeholder:text-text-muted focus:border-nikufra focus:outline-none"}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("button",{onClick:()=>{r(e.id,l||void 0),h(!1)},disabled:a,className:"rounded-lg bg-red-500 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-600 disabled:opacity-50",children:"Confirmar Rejeio"}),i.jsx("button",{onClick:()=>h(!1),className:"rounded-lg border border-border px-3 py-1.5 text-sm text-text-muted hover:border-nikufra",children:"Cancelar"})]})]}),i.jsx("button",{onClick:()=>o(!s),className:"mt-3 text-xs text-nikufra hover:underline",children:s?" Esconder detalhes":" Ver detalhes"}),s&&i.jsxs(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-3 rounded-lg bg-background/50 p-3 text-xs",children:[i.jsx("p",{className:"font-semibold text-text-muted mb-2",children:"Payload:"}),i.jsx("pre",{className:"text-text-primary overflow-auto max-h-32",children:JSON.stringify(e.payload,null,2)}),e.expected_impact&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"font-semibold text-text-muted mt-3 mb-2",children:"Impacto Esperado:"}),i.jsx("pre",{className:"text-text-primary overflow-auto max-h-32",children:JSON.stringify(e.expected_impact,null,2)})]}),e.notes&&i.jsxs("p",{className:"mt-3 text-text-muted",children:[i.jsx("span",{className:"font-semibold",children:"Notas:"})," ",e.notes]}),e.approved_by&&i.jsxs("p",{className:"mt-2 text-text-muted",children:[i.jsx("span",{className:"font-semibold",children:"Processada por:"})," ",e.approved_by," em"," ",e.approved_at?QE(e.approved_at):""]})]})]})},Yne=({showHistory:e=!1})=>{const[t,r]=O.useState("PENDING"),[n,a]=O.useState("Operador"),s=Nt(),{data:o,isLoading:l,error:u}=xe({queryKey:["actions",t==="ALL"?void 0:t],queryFn:()=>pne(t==="ALL"?void 0:t),staleTime:1e4,refetchInterval:3e4}),d=qe({mutationFn:({id:g,notes:y})=>xne(g,n,y),onSuccess:()=>{s.invalidateQueries({queryKey:["actions"]}),s.invalidateQueries({queryKey:["unified-gantt-plan"]}),s.invalidateQueries({queryKey:["plan-kpis"]}),qt.success("Ao aprovada e aplicada ao plano!")},onError:()=>{qt.error("Erro ao aprovar ao")}}),h=qe({mutationFn:({id:g,reason:y})=>gne(g,n,y),onSuccess:()=>{s.invalidateQueries({queryKey:["actions"]}),qt.success("Ao rejeitada")},onError:()=>{qt.error("Erro ao rejeitar ao")}}),m=(g,y)=>{d.mutate({id:g,notes:y})},p=(g,y)=>{h.mutate({id:g,reason:y})};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[" Aes Pendentes",o?.pending_count&&o.pending_count>0&&i.jsx("span",{className:"rounded-full bg-amber-500/20 px-2 py-0.5 text-sm text-amber-400",children:o.pending_count})]}),i.jsx("p",{className:"text-xs text-text-muted mt-1",children:"O sistema prope  O humano decide  Industry 5.0"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-text-muted",children:"Utilizador:"}),i.jsx("input",{type:"text",value:n,onChange:g=>a(g.target.value),className:"rounded-lg border border-border bg-background px-2 py-1 text-sm text-text-primary w-32 focus:border-nikufra focus:outline-none"})]})]}),e&&i.jsx("div",{className:"flex gap-2",children:["PENDING","APPLIED","REJECTED","ALL"].map(g=>i.jsx("button",{onClick:()=>r(g),className:`rounded-lg px-3 py-1.5 text-xs font-medium transition ${t===g?"bg-nikufra text-background":"border border-border text-text-muted hover:border-nikufra hover:text-nikufra"}`,children:g==="ALL"?"Todas":QF[g]},g))}),l&&i.jsx("div",{className:"flex items-center justify-center py-8 text-text-muted",children:"A carregar aes..."}),u&&i.jsx("div",{className:"rounded-xl border border-red-500/40 bg-red-500/10 p-4 text-sm text-red-400",children:"Erro ao carregar aes. Tente novamente."}),o&&o.actions.length===0&&i.jsxs("div",{className:"rounded-xl border border-border bg-surface p-8 text-center",children:[i.jsx("p",{className:"text-lg",children:""}),i.jsx("p",{className:"text-sm text-text-muted mt-2",children:t==="PENDING"?"No existem aes pendentes de aprovao.":"No existem aes nesta categoria."})]}),i.jsx(pt,{mode:"popLayout",children:o?.actions.map(g=>i.jsx(Gne,{action:g,onApprove:m,onReject:p,isApproving:d.isPending&&d.variables?.id===g.id,isRejecting:h.isPending&&h.variables?.id===g.id},g.id))}),i.jsxs("div",{className:"rounded-xl border border-nikufra/40 bg-nikufra/10 p-4 text-sm",children:[i.jsx("p",{className:"font-semibold text-nikufra mb-2",children:" Como funciona"}),i.jsxs("ul",{className:"text-text-muted space-y-1 text-xs",children:[i.jsx("li",{children:" O sistema analisa o plano e prope aes de melhoria"}),i.jsx("li",{children:" Cada ao aguarda aprovao humana antes de ser executada"}),i.jsx("li",{children:" Ao aprovar, o plano  recalculado automaticamente"}),i.jsx("li",{children:" Nenhuma alterao  feita a sistemas externos (ERP/MES)"})]})]})]})};var Qne=e=>{switch(e){case"success":return Zne;case"info":return tie;case"warning":return eie;case"error":return rie;default:return null}},Xne=Array(12).fill(0),Jne=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},Xne.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Zne=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iie=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},p1=1,aie=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:p1++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,o=n.then(async u=>{if(s=["resolve",u],z.isValidElement(u))a=!1,this.create({id:r,type:"default",message:u});else if(oie(u)&&!u.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:r,type:"error",message:d,description:h})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(u):t.success,h=typeof t.description=="function"?await t.description(u):t.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(s=["reject",u],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(u):t.error,h=typeof t.description=="function"?await t.description(u):t.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;a&&(this.dismiss(r),r=void 0),(u=t.finally)==null||u.call(t)}),l=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||p1++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},un=new aie,sie=(e,t)=>{let r=t?.id||p1++;return un.addToast({title:e,...t,id:r}),r},oie=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lie=sie,cie=()=>un.toasts,uie=()=>un.getActiveToasts(),tr=Object.assign(lie,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:cie,getToasts:uie});function die(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}die(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $h(e){return e.label!==void 0}var fie=3,hie="32px",mie="16px",XE=4e3,pie=356,xie=14,gie=20,yie=200;function ci(...e){return e.filter(Boolean).join(" ")}function vie(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var bie=e=>{var t,r,n,a,s,o,l,u,d,h,m;let{invert:p,toast:g,unstyled:y,interacting:v,setHeights:b,visibleToasts:w,heights:S,index:k,toasts:E,expanded:P,removeToast:_,defaultRichColors:T,closeButton:D,style:L,cancelButtonStyle:M,actionButtonStyle:F,className:q="",descriptionClassName:H="",duration:K,position:W,gap:$,loadingIcon:Q,expandByDefault:Y,classNames:X,icons:R,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:V}=e,[I,ae]=z.useState(null),[ye,be]=z.useState(null),[we,ke]=z.useState(!1),[se,ve]=z.useState(!1),[Oe,oe]=z.useState(!1),[Ze,Be]=z.useState(!1),[xt,ht]=z.useState(!1),[Tt,hr]=z.useState(0),[Br,_r]=z.useState(0),$t=z.useRef(g.duration||K||XE),Sr=z.useRef(null),kr=z.useRef(null),Hi=k===0,Ki=k+1<=w,ne=g.type,he=g.dismissible!==!1,Ie=g.className||"",He=g.descriptionClassName||"",Ge=z.useMemo(()=>S.findIndex(ze=>ze.toastId===g.id)||0,[S,g.id]),Qt=z.useMemo(()=>{var ze;return(ze=g.closeButton)!=null?ze:D},[g.closeButton,D]),En=z.useMemo(()=>g.duration||K||XE,[g.duration,K]),Pr=z.useRef(0),Ur=z.useRef(0),wi=z.useRef(0),Ct=z.useRef(null),[On,Vr]=W.split("-"),Oo=z.useMemo(()=>S.reduce((ze,st,gt)=>gt>=Ge?ze:ze+st.height,0),[S,Ge]),To=iie(),Aa=g.invert||p,Ni=ne==="loading";Ur.current=z.useMemo(()=>Ge*$+Oo,[Ge,Oo]),z.useEffect(()=>{$t.current=En},[En]),z.useEffect(()=>{ke(!0)},[]),z.useEffect(()=>{let ze=kr.current;if(ze){let st=ze.getBoundingClientRect().height;return _r(st),b(gt=>[{toastId:g.id,height:st,position:g.position},...gt]),()=>b(gt=>gt.filter(Wr=>Wr.toastId!==g.id))}},[b,g.id]),z.useLayoutEffect(()=>{if(!we)return;let ze=kr.current,st=ze.style.height;ze.style.height="auto";let gt=ze.getBoundingClientRect().height;ze.style.height=st,_r(gt),b(Wr=>Wr.find(en=>en.toastId===g.id)?Wr.map(en=>en.toastId===g.id?{...en,height:gt}:en):[{toastId:g.id,height:gt,position:g.position},...Wr])},[we,g.title,g.description,b,g.id]);let ei=z.useCallback(()=>{ve(!0),hr(Ur.current),b(ze=>ze.filter(st=>st.toastId!==g.id)),setTimeout(()=>{_(g)},yie)},[g,_,b,Ur]);z.useEffect(()=>{if(g.promise&&ne==="loading"||g.duration===1/0||g.type==="loading")return;let ze;return P||v||V&&To?(()=>{if(wi.current<Pr.current){let st=new Date().getTime()-Pr.current;$t.current=$t.current-st}wi.current=new Date().getTime()})():$t.current!==1/0&&(Pr.current=new Date().getTime(),ze=setTimeout(()=>{var st;(st=g.onAutoClose)==null||st.call(g,g),ei()},$t.current)),()=>clearTimeout(ze)},[P,v,g,ne,V,To,ei]),z.useEffect(()=>{g.delete&&ei()},[ei,g.delete]);function mf(){var ze,st,gt;return R!=null&&R.loading?z.createElement("div",{className:ci(X?.loader,(ze=g?.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":ne==="loading"},R.loading):Q?z.createElement("div",{className:ci(X?.loader,(st=g?.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":ne==="loading"},Q):z.createElement(Jne,{className:ci(X?.loader,(gt=g?.classNames)==null?void 0:gt.loader),visible:ne==="loading"})}return z.createElement("li",{tabIndex:0,ref:kr,className:ci(q,Ie,X?.toast,(t=g?.classNames)==null?void 0:t.toast,X?.default,X?.[ne],(r=g?.classNames)==null?void 0:r[ne]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:T,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":we,"data-promise":!!g.promise,"data-swiped":xt,"data-removed":se,"data-visible":Ki,"data-y-position":On,"data-x-position":Vr,"data-index":k,"data-front":Hi,"data-swiping":Oe,"data-dismissible":he,"data-type":ne,"data-invert":Aa,"data-swipe-out":Ze,"data-swipe-direction":ye,"data-expanded":!!(P||Y&&we),style:{"--index":k,"--toasts-before":k,"--z-index":E.length-k,"--offset":`${se?Tt:Ur.current}px`,"--initial-height":Y?"auto":`${Br}px`,...L,...g.style},onDragEnd:()=>{oe(!1),ae(null),Ct.current=null},onPointerDown:ze=>{Ni||!he||(Sr.current=new Date,hr(Ur.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(oe(!0),Ct.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,st,gt,Wr;if(Ze||!he)return;Ct.current=null;let en=Number(((ze=kr.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tn=Number(((st=kr.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ti=new Date().getTime()-((gt=Sr.current)==null?void 0:gt.getTime()),mr=I==="x"?en:tn,_i=Math.abs(mr)/ti;if(Math.abs(mr)>=gie||_i>.11){hr(Ur.current),(Wr=g.onDismiss)==null||Wr.call(g,g),be(I==="x"?en>0?"right":"left":tn>0?"down":"up"),ei(),Be(!0),ht(!1);return}oe(!1),ae(null)},onPointerMove:ze=>{var st,gt,Wr,en;if(!Ct.current||!he||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let tn=ze.clientY-Ct.current.y,ti=ze.clientX-Ct.current.x,mr=(gt=e.swipeDirections)!=null?gt:vie(W);!I&&(Math.abs(ti)>1||Math.abs(tn)>1)&&ae(Math.abs(ti)>Math.abs(tn)?"x":"y");let _i={x:0,y:0};I==="y"?(mr.includes("top")||mr.includes("bottom"))&&(mr.includes("top")&&tn<0||mr.includes("bottom")&&tn>0)&&(_i.y=tn):I==="x"&&(mr.includes("left")||mr.includes("right"))&&(mr.includes("left")&&ti<0||mr.includes("right")&&ti>0)&&(_i.x=ti),(Math.abs(_i.x)>0||Math.abs(_i.y)>0)&&ht(!0),(Wr=kr.current)==null||Wr.style.setProperty("--swipe-amount-x",`${_i.x}px`),(en=kr.current)==null||en.style.setProperty("--swipe-amount-y",`${_i.y}px`)}},Qt&&!g.jsx?z.createElement("button",{"aria-label":B,"data-disabled":Ni,"data-close-button":!0,onClick:Ni||!he?()=>{}:()=>{var ze;ei(),(ze=g.onDismiss)==null||ze.call(g,g)},className:ci(X?.closeButton,(a=g?.classNames)==null?void 0:a.closeButton)},(s=R?.close)!=null?s:nie):null,g.jsx||O.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:z.createElement(z.Fragment,null,ne||g.icon||g.promise?z.createElement("div",{"data-icon":"",className:ci(X?.icon,(o=g?.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||mf():null,g.type!=="loading"?g.icon||R?.[ne]||Qne(ne):null):null,z.createElement("div",{"data-content":"",className:ci(X?.content,(l=g?.classNames)==null?void 0:l.content)},z.createElement("div",{"data-title":"",className:ci(X?.title,(u=g?.classNames)==null?void 0:u.title)},typeof g.title=="function"?g.title():g.title),g.description?z.createElement("div",{"data-description":"",className:ci(H,He,X?.description,(d=g?.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),O.isValidElement(g.cancel)?g.cancel:g.cancel&&$h(g.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||M,onClick:ze=>{var st,gt;$h(g.cancel)&&he&&((gt=(st=g.cancel).onClick)==null||gt.call(st,ze),ei())},className:ci(X?.cancelButton,(h=g?.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,O.isValidElement(g.action)?g.action:g.action&&$h(g.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||F,onClick:ze=>{var st,gt;$h(g.action)&&((gt=(st=g.action).onClick)==null||gt.call(st,ze),!ze.defaultPrevented&&ei())},className:ci(X?.actionButton,(m=g?.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function JE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function jie(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,o=s?"--mobile-offset":"--offset",l=s?mie:hie;function u(d){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):u(l)}),r}O.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:u,mobileOffset:d,theme:h="light",richColors:m,duration:p,style:g,visibleToasts:y=fie,toastOptions:v,dir:b=JE(),gap:w=xie,loadingIcon:S,icons:k,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:P}=e,[_,T]=z.useState([]),D=z.useMemo(()=>Array.from(new Set([n].concat(_.filter(V=>V.position).map(V=>V.position)))),[_,n]),[L,M]=z.useState([]),[F,q]=z.useState(!1),[H,K]=z.useState(!1),[W,$]=z.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=z.useRef(null),Y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=z.useRef(null),R=z.useRef(!1),B=z.useCallback(V=>{T(I=>{var ae;return(ae=I.find(ye=>ye.id===V.id))!=null&&ae.delete||un.dismiss(V.id),I.filter(({id:ye})=>ye!==V.id)})},[]);return z.useEffect(()=>un.subscribe(V=>{if(V.dismiss){T(I=>I.map(ae=>ae.id===V.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{DB.flushSync(()=>{T(I=>{let ae=I.findIndex(ye=>ye.id===V.id);return ae!==-1?[...I.slice(0,ae),{...I[ae],...V},...I.slice(ae+1)]:[V,...I]})})})}),[]),z.useEffect(()=>{if(h!=="system"){$(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:I})=>{$(I?"dark":"light")})}catch{V.addListener(({matches:ae})=>{try{$(ae?"dark":"light")}catch(ye){console.error(ye)}})}},[h]),z.useEffect(()=>{_.length<=1&&q(!1)},[_]),z.useEffect(()=>{let V=I=>{var ae,ye;a.every(be=>I[be]||I.code===be)&&(q(!0),(ae=Q.current)==null||ae.focus()),I.code==="Escape"&&(document.activeElement===Q.current||(ye=Q.current)!=null&&ye.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[a]),z.useEffect(()=>{if(Q.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,R.current=!1)}},[Q.current]),z.createElement("section",{ref:t,"aria-label":`${E} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((V,I)=>{var ae;let[ye,be]=V.split("-");return _.length?z.createElement("ol",{key:V,dir:b==="auto"?JE():b,tabIndex:-1,ref:Q,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":ye,"data-lifted":F&&_.length>1&&!s,"data-x-position":be,style:{"--front-toast-height":`${((ae=L[0])==null?void 0:ae.height)||0}px`,"--width":`${pie}px`,"--gap":`${w}px`,...g,...jie(u,d)},onBlur:we=>{R.current&&!we.currentTarget.contains(we.relatedTarget)&&(R.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||R.current||(R.current=!0,X.current=we.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{H||q(!1)},onDragEnd:()=>q(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},_.filter(we=>!we.position&&I===0||we.position===V).map((we,ke)=>{var se,ve;return z.createElement(bie,{key:we.id,icons:k,index:ke,toast:we,defaultRichColors:m,duration:(se=v?.duration)!=null?se:p,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(ve=v?.closeButton)!=null?ve:o,interacting:H,position:V,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,removeToast:B,toasts:_.filter(Oe=>Oe.position==we.position),heights:L.filter(Oe=>Oe.position==we.position),setHeights:M,expandByDefault:s,gap:w,loadingIcon:S,expanded:F,pauseWhenPageIsHidden:P,swipeDirections:e.swipeDirections})})):null}))});const XF="http://127.0.0.1:8000";async function wie(){const e=await fetch(`${XF}/product/type-kpis`);if(!e.ok)throw new Error("Erro ao carregar KPIs de produto");return e.json()}async function Nie(e,t,r){const n=await fetch(`${XF}/product/delivery-estimate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:e,article_id:t,qty:r,method:"deterministic",buffer_strategy:"moderate"})});if(!n.ok)throw new Error("Erro ao estimar entrega");return n.json()}const x1=({type:e})=>{const t={vidro_duplo:"bg-blue-500/20 text-blue-300 border-blue-500/30",vidro_triplo:"bg-purple-500/20 text-purple-300 border-purple-500/30",vidro_laminado:"bg-amber-500/20 text-amber-300 border-amber-500/30",vidro_temperado:"bg-red-500/20 text-red-300 border-red-500/30",vidro_simples:"bg-slate-500/20 text-slate-300 border-slate-500/30",outro:"bg-slate-600/20 text-slate-400 border-slate-600/30"},r={vidro_duplo:"Vidro Duplo",vidro_triplo:"Vidro Triplo",vidro_laminado:"Vidro Laminado",vidro_temperado:"Vidro Temperado",vidro_simples:"Vidro Simples",outro:"Outro"};return i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${t[e]||t.outro}`,children:r[e]||e})},ZE=({snr:e,level:t})=>{const r={EXCELLENT:"text-emerald-400",GOOD:"text-green-400",FAIR:"text-amber-400",POOR:"text-red-400"};return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vr,{className:`w-4 h-4 ${r[t]||"text-slate-400"}`}),i.jsx("span",{className:`text-sm font-mono ${r[t]||"text-slate-400"}`,children:e.toFixed(1)}),i.jsxs("span",{className:"text-xs text-slate-500",children:["(",t,")"]})]})},_ie=({score:e,level:t})=>{const r={HIGH:"bg-emerald-500/20 text-emerald-300",MEDIUM:"bg-amber-500/20 text-amber-300",LOW:"bg-red-500/20 text-red-300",VERY_LOW:"bg-red-700/20 text-red-400"};return i.jsxs("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${r[t]||"bg-slate-500/20 text-slate-300"}`,children:[(e*100).toFixed(0),"% (",t,")"]})},Sie=({type:e,kpis:t,isExpanded:r,onToggle:n,globalAvgTime:a,globalAvgLead:s})=>{const o=t.avg_processing_time_min/a;return t.avg_lead_time_hours/s,i.jsxs(de.div,{layout:!0,className:"border border-slate-700/50 rounded-lg overflow-hidden",children:[i.jsx("div",{onClick:n,className:`p-4 cursor-pointer transition-colors ${r?"bg-slate-700/30":"bg-slate-800/30 hover:bg-slate-700/20"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(x1,{type:e}),i.jsxs("span",{className:"text-sm text-slate-400",children:[t.num_products," artigos  ",t.num_orders," encomendas"]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right hidden md:block",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:[t.avg_processing_time_min.toFixed(0)," min"]}),i.jsx("p",{className:`text-xs ${o<=1?"text-emerald-400":"text-amber-400"}`,children:o<=1?" abaixo mdia":`${((o-1)*100).toFixed(0)}% acima`})]}),i.jsxs("div",{className:"text-right hidden md:block",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:[t.avg_lead_time_hours.toFixed(1),"h"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"lead time"})]}),i.jsx(ZE,{snr:t.snr_between_products,level:t.snr_level}),r?i.jsx(P2,{className:"w-5 h-5 text-slate-400"}):i.jsx(hc,{className:"w-5 h-5 text-slate-400"})]})]})}),i.jsx(pt,{children:r&&i.jsx(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700/50",children:i.jsxs("div",{className:"p-4 bg-slate-900/50 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Tempo Mdio"}),i.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.avg_processing_time_min.toFixed(1)," min"]}),i.jsxs("p",{className:"text-xs text-slate-400",children:[" = ",t.std_processing_time_min.toFixed(1)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Lead Time Mdio"}),i.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.avg_lead_time_hours.toFixed(2),"h"]}),i.jsxs("p",{className:"text-xs text-slate-400",children:["P90: ",t.percentile_90_lead_time_hours.toFixed(2),"h"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Total Unidades"}),i.jsx("p",{className:"text-lg font-semibold text-cyan-400",children:t.total_units.toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Estabilidade"}),i.jsx(ZE,{snr:t.snr_between_products,level:t.snr_level})]})]}),Object.keys(t.sigma_levels).length>0&&i.jsxs("div",{className:"bg-slate-800/50 rounded p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"Nveis Sigma (Tempo de Processamento)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.sigma_levels).filter(([l])=>!l.startsWith("-")).sort().map(([l,u])=>i.jsxs("span",{className:"px-2 py-1 bg-slate-700/50 rounded text-xs font-mono",children:[l,": ",u.toFixed(1)," min"]},l))})]})]})})})]})},kie=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(""),[a,s]=O.useState(1),[o,l]=O.useState(null),u=qe({mutationFn:()=>Nie(e||"NEW",r,a),onSuccess:d=>{l(d.estimate),tr.success("Estimativa calculada")},onError:()=>{tr.error("Erro ao calcular estimativa")}});return i.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[i.jsx(_l,{className:"w-4 h-4"}),"Estimar Data de Entrega"]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500",children:"Artigo"}),i.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),placeholder:"ART-XXX",className:"block w-32 px-2 py-1.5 bg-slate-900 border border-slate-700 rounded text-sm text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500",children:"Quantidade"}),i.jsx("input",{type:"number",value:a,onChange:d=>s(Number(d.target.value)),min:1,className:"block w-20 px-2 py-1.5 bg-slate-900 border border-slate-700 rounded text-sm text-white"})]}),i.jsx("button",{onClick:()=>u.mutate(),disabled:!r||u.isPending,className:"px-4 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-sm rounded transition-colors disabled:opacity-50",children:u.isPending?"A calcular...":"Estimar"}),o&&i.jsxs("div",{className:"flex-1 flex items-center gap-4 px-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Durao Prevista"}),i.jsxs("p",{className:"text-lg font-semibold text-white",children:[o.estimated_duration_hours.toFixed(1),"h"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Data Entrega"}),i.jsx("p",{className:"text-sm font-medium text-cyan-400",children:o.estimated_delivery_date?.split(" ")[0]||"N/A"})]}),i.jsx(_ie,{score:o.confidence_score,level:o.confidence_level})]})]})]})},Pie=()=>{const[e,t]=O.useState(null),{data:r,isLoading:n,error:a,refetch:s}=xe({queryKey:["product-type-kpis"],queryFn:wie,refetchInterval:6e4}),o=O.useMemo(()=>r?.type_kpis?Object.entries(r.type_kpis).filter(([,d])=>d.num_products>0).sort((d,h)=>h[1].num_products-d[1].num_products):[],[r]),l=r?.global_kpis?.global_avg_processing_time_min||1,u=r?.global_kpis?.global_avg_lead_time_hours||1;return a?i.jsx("div",{className:"p-4 bg-red-900/20 border border-red-700/30 rounded-lg",children:i.jsxs("p",{className:"text-red-300 flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4"}),"Erro ao carregar mtricas de produto"]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(wr,{className:"w-5 h-5 text-cyan-400"}),"Mtricas por Tipo de Produto"]}),i.jsx("button",{onClick:()=>s(),className:"p-2 hover:bg-slate-700/50 rounded transition-colors",children:i.jsx(De,{className:`w-4 h-4 text-slate-400 ${n?"animate-spin":""}`})})]}),r?.global_kpis&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Total Produtos"}),i.jsx("p",{className:"text-xl font-bold text-white",children:r.global_kpis.total_products})]}),i.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Tempo Mdio"}),i.jsxs("p",{className:"text-xl font-bold text-white",children:[(r.global_kpis.global_avg_processing_time_min??0).toFixed(0)," min"]})]}),i.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Mais Rpido"}),i.jsx(x1,{type:r.global_kpis.fastest_type})]}),i.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Mais Estvel"}),i.jsx(x1,{type:r.global_kpis.most_stable_type})]})]}),i.jsx("div",{className:"space-y-2",children:n?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(De,{className:"w-6 h-6 text-cyan-400 animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"A carregar mtricas..."})]}):o.length===0?i.jsxs("div",{className:"text-center py-8 bg-slate-800/30 rounded-lg",children:[i.jsx(fn,{className:"w-10 h-10 text-slate-500 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-400",children:"Nenhum tipo de produto classificado"})]}):o.map(([d,h])=>i.jsx(Sie,{type:d,kpis:h,isExpanded:e===d,onToggle:()=>t(e===d?null:d),globalAvgTime:l,globalAvgLead:u},d))}),i.jsx(kie,{})]})},Fh="prodplan_batch_id",Lh="prodplan_batch_timestamp",eO={get(){if(typeof window>"u")return null;const e=localStorage.getItem(Fh),t=localStorage.getItem(Lh);if(e&&t){const r=Date.now()-parseInt(t,10),n=10080*60*1e3;if(r>n)return localStorage.removeItem(Fh),localStorage.removeItem(Lh),null}return e},set(e){typeof window>"u"||(localStorage.setItem(Fh,e),localStorage.setItem(Lh,Date.now().toString()))},clear(){typeof window>"u"||(localStorage.removeItem(Fh),localStorage.removeItem(Lh))},exists(){return this.get()!==null}},uy=(e,t=0)=>{const r=Number(e);return Number.isFinite(r)?r:t},Cie=(e,t="N/A")=>e==null||e===""?t:String(e),tO=e=>{if(!e||typeof e!="object")return null;const t=e,r=t.kpis;return{kpis:{otd_pct:uy(r?.otd_pct??t.otd_pct,0),lead_time_h:uy(r?.lead_time_h??t.lead_time_h,0),gargalo_ativo:Cie(r?.gargalo_ativo??t.gargalo_ativo??"N/A"),horas_setup_semana:uy(r?.horas_setup_semana??t.horas_setup_semana,0)},operations:Array.isArray(t.operations)?t.operations:[],explicacoes:Array.isArray(t.explicacoes)?t.explicacoes:Array.isArray(t.explicaes)?t.explicaes:[]}},Eie=({decision:e,index:t})=>{const r=()=>e.toLowerCase().includes("overlap")?"":e.toLowerCase().includes("colar")||e.toLowerCase().includes("famlia")?"":e.toLowerCase().includes("desvio")||e.toLowerCase().includes("rota")?"":e.toLowerCase().includes("setup")?"":"",n=()=>e.toLowerCase().includes("overlap")?"bg-blue-500/20 border-blue-500/40 text-blue-400":e.toLowerCase().includes("colar")||e.toLowerCase().includes("famlia")?"bg-green-500/20 border-green-500/40 text-green-400":e.toLowerCase().includes("desvio")||e.toLowerCase().includes("rota")?"bg-purple-500/20 border-purple-500/40 text-purple-400":"bg-nikufra/20 border-nikufra/40 text-nikufra";return i.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.1},className:`rounded-xl border-2 p-4 ${n()} transition-all hover:scale-105 hover:shadow-lg`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-2xl",children:r()}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-semibold leading-relaxed",children:e})})]})})},Oie=({isOpen:e,onClose:t,antes:r,depois:n})=>{const[a,s]=O.useState(""),[o,l]=O.useState(!1),u=async()=>{l(!0);try{const d=await Kn.get("/insights/generate",{params:{mode:"planeamento"}});s(d.data.insight||d.data.text||"Explicao no disponvel.")}catch{s("Erro ao gerar explicao. Verifique se os dados foram carregados.")}finally{l(!1)}};return e?i.jsx(pt,{children:i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md",onClick:t,children:i.jsxs(de.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),className:"relative w-full max-w-3xl max-h-[80vh] overflow-y-auto rounded-2xl border-2 border-nikufra/60 bg-surface p-6 shadow-2xl",children:[i.jsx("button",{onClick:t,className:"absolute top-4 right-4 rounded-full border border-border p-2 text-text-muted transition hover:text-text-primary",children:""}),i.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:"Explicar este plano"}),!a&&i.jsx("button",{onClick:u,disabled:o,className:"w-full rounded-xl border-2 border-nikufra bg-nikufra/10 px-6 py-3 text-sm font-semibold text-nikufra transition hover:bg-nikufra hover:text-background disabled:opacity-50",children:o?"A gerar explicao...":"Gerar explicao industrial"}),a&&i.jsx("div",{className:"mt-4 text-sm leading-relaxed text-text-body whitespace-pre-wrap",children:a})]})})}):null},Tie=({batchId:e,horizonHours:t,onCommandApplied:r})=>{const[n,a]=O.useState(""),[s,o]=O.useState(!1),[l,u]=O.useState([]),d=Nt(),h=qe({mutationFn:async g=>(await Kn.post("/planning/chat/interpret",{message:g,batch_id:e})).data}),m=qe({mutationFn:async g=>{console.log(" Frontend enviando para /apply:",{command:g,batch_id:e,command_type:g?.command_type,has_machine_unavailable:!!g?.machine_unavailable});try{const y=await Kn.post("/planning/chat/apply",{command:g,batch_id:e});return console.log(" Frontend recebeu resposta de /apply:",y.data),y.data}catch(y){throw console.error(" Frontend erro em /apply:",{status:y?.response?.status,statusText:y?.response?.statusText,data:y?.response?.data,message:y?.message}),y}},onSuccess:async g=>{const y=g?.command_type==="recalculate_plan";y||u(v=>[...v,{role:"assistant",content:" Comando aplicado! A recalcular plano..."}]);try{d.invalidateQueries({queryKey:["plan",e,t]}),await Kn.post("/planning/v2/recalculate",null,{params:{batch_id:e,horizon_hours:t}}),d.invalidateQueries({queryKey:["plan",e,t]}),await d.refetchQueries({queryKey:["plan",e,t]}),r(),u(v=>[...v,{role:"assistant",content:y?" Plano otimizado novamente com sucesso!":" Plano recalculado com sucesso!"}])}catch(v){console.error("Erro ao recalcular plano:",v),u(b=>[...b,{role:"assistant",content:` Erro ao recalcular: ${v?.response?.data?.detail||v?.message||"Erro desconhecido"}`}])}}}),p=async()=>{if(!n.trim())return;const g=n.trim();a(""),u(y=>[...y,{role:"user",content:g}]);try{const y=await h.mutateAsync(g);if(y.command?.command_type==="unknown"||y.requires_clarification){u(S=>[...S,{role:"assistant",content:` ${y.clarification_message||'No consegui perceber a instruo. Exemplos: "mquina 300 indisponvel", "planeia s 6 horas", "GO4 VIP".'}`}]);return}const v=y.command.command_type;let b="";if(v==="machine_unavailable"){const S=y.command.machine_unavailable;S&&S.maquina_id?S.start_time&&S.end_time?b=`Mquina ${S.maquina_id} marcada como indisponvel de ${VC(new Date(S.start_time),"HH:mm")} at ${VC(new Date(S.end_time),"HH:mm")}`:b=`Mquina ${S.maquina_id} marcada como indisponvel`:b="Mquina marcada como indisponvel (detalhes incompletos)"}else if(v==="machine_available"){const S=y.command.machine_available;S&&S.maquina_id?b=`Mquina ${S.maquina_id} marcada como disponvel novamente`:b="Mquina marcada como disponvel novamente (detalhes incompletos)"}else if(v==="add_manual_order"){const S=y.command.manual_order;S&&S.artigo&&S.quantidade?b=`Adicionar ordem: ${S.artigo} (${S.quantidade} unidades, ${S.prioridade||"NORMAL"})`:b="Adicionar ordem manual (detalhes incompletos)"}else if(v==="change_priority"){const S=y.command.priority_change;S&&S.order_id&&S.new_priority?S.new_priority==="NORMAL"?b=`Prioridade do ${S.order_id} removida (volta ao normal)`:b=`Prioridade do ${S.order_id} atualizada para ${S.new_priority}`:b="Alterar prioridade (detalhes incompletos)"}else if(v==="change_horizon"){const S=y.command.horizon_change;S&&S.horizon_hours?b=`Alterar horizonte: ${S.horizon_hours}h`:b="Alterar horizonte (detalhes incompletos)"}else if(v==="recalculate_plan")b="Recalcular plano com configurao atual";else if(v==="unknown"){console.warn(" Frontend: Comando unknown chegou  fase de descrio (no devia acontecer)"),u(S=>[...S,{role:"assistant",content:` ${y.clarification_message||"No consegui perceber a instruo. Reformula ou d mais contexto."}`}]);return}else{console.error(" Frontend: Tipo de comando desconhecido:",v),u(S=>[...S,{role:"assistant",content:` Erro: Tipo de comando desconhecido: ${v}. Por favor, tente novamente.`}]);return}const w=v==="recalculate_plan"?" A recalcular com as configuraes atuais":" A aplicar e a recalcular o plano...";u(S=>[...S,{role:"assistant",content:` ${b}

${w}`}]);try{console.log(" Frontend: Aplicando comando interpretado:",{interpretation:y,command:y.command,command_type:y.command?.command_type}),await m.mutateAsync(y.command)}catch(S){console.error(" Frontend: Erro ao aplicar comando:",{error:S,response:S?.response,status:S?.response?.status,data:S?.response?.data,detail:S?.response?.data?.detail});const k=S?.response?.data?.detail||S?.message||"Erro desconhecido";u(E=>[...E,{role:"assistant",content:` Erro ao aplicar comando: ${k}

Verifique a consola do browser (F12) para mais detalhes.`}])}}catch(y){u(v=>[...v,{role:"assistant",content:` Erro: ${y?.response?.data?.detail||y?.message||"Erro desconhecido"}`}])}};return s?i.jsx(pt,{children:i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-6 right-6 z-50 w-96 rounded-2xl border-2 border-nikufra/60 bg-surface shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-4 py-3",children:[i.jsx("h3",{className:"text-sm font-bold text-text-primary",children:" Chat de Planeamento"}),i.jsx("button",{onClick:()=>o(!1),className:"rounded-full p-1 text-text-muted transition hover:text-text-primary",children:""})]}),i.jsxs("div",{className:"max-h-96 overflow-y-auto p-4 space-y-2",children:[l.length===0&&i.jsxs("div",{className:"text-xs text-text-muted space-y-1",children:[i.jsx("p",{children:"Exemplos:"}),i.jsx("p",{children:' "Mquina 190 indisponvel das 14h s 18h"'}),i.jsx("p",{children:' "Ordem VIP para GO6 com 200 unidades para amanh"'}),i.jsx("p",{children:' "Planear s para as prximas 4 horas"'})]}),l.map((g,y)=>i.jsx("div",{className:`rounded-lg p-2 text-xs ${g.role==="user"?"bg-nikufra/20 text-text-primary ml-auto max-w-[80%]":"bg-background/60 text-text-muted"}`,children:g.content},y)),(h.isPending||m.isPending)&&i.jsx("div",{className:"text-xs text-text-muted",children:" A processar..."})]}),i.jsx("div",{className:"border-t border-border/60 p-3",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:n,onChange:g=>a(g.target.value),onKeyPress:g=>g.key==="Enter"&&!g.shiftKey&&p(),placeholder:"Escreva uma instruo...",className:"flex-1 rounded-lg border border-border bg-background px-3 py-2 text-sm text-text-primary outline-none focus:border-nikufra",disabled:h.isPending||m.isPending}),i.jsx("button",{onClick:p,disabled:!n.trim()||h.isPending||m.isPending,className:"rounded-lg bg-nikufra px-4 py-2 text-sm font-semibold text-background transition hover:bg-nikufra/80 disabled:opacity-50 disabled:cursor-not-allowed",children:"Enviar"})]})})]})}):i.jsx("button",{onClick:()=>o(!0),className:"fixed bottom-6 right-6 z-50 rounded-full bg-nikufra p-4 shadow-lg transition hover:scale-110",title:"Chat de Planeamento",children:i.jsx("span",{className:"text-2xl",children:""})})},rO=[{id:"heuristic",name:"Heurstico",desc:"Regras de dispatching rpidas"},{id:"milp",name:"MILP",desc:"Otimizao matemtica (mais lento)"},{id:"cpsat",name:"CP-SAT",desc:"Constraint Programming"}],nO=[{id:"EDD",name:"Earliest Due Date",desc:"Prioriza por data de entrega"},{id:"SPT",name:"Shortest Processing",desc:"Operaes mais curtas primeiro"},{id:"FIFO",name:"First In, First Out",desc:"Ordem de chegada"},{id:"WSPT",name:"Weighted SPT",desc:"SPT ponderado por prioridade"},{id:"CR",name:"Critical Ratio",desc:"Rcio crtico"}],Aie=()=>{const e=Mp(),[t,r]=O.useState("this_week"),[n,a]=O.useState(""),[s,o]=O.useState(!1),[l,u]=O.useState(!1),[d,h]=O.useState("heuristic"),[m,p]=O.useState("EDD"),[g,y]=O.useState(!1),v=t==="this_week"?LC(new Date,{weekStartsOn:1}):LC(FC(new Date,7),{weekStartsOn:1}),b=FC(v,7),w=$=>{if(!$)return null;const Q=$.operations.map(I=>I.rota).filter(Boolean),Y=[...new Set(Q)];console.log(" [FRONTEND] Rotas recebidas do backend:",{total:$.operations.length,comRota:Q.length,semRota:$.operations.length-Q.length,rotasUnicas:Y,sample:$.operations.slice(0,5).map(I=>({order_id:I.order_id,op_id:I.op_id,rota:I.rota||"MISSING"}))});const X=$.operations.map(I=>{const ae=I.rota||"A";return I.rota||console.warn(` [FRONTEND] Operao ${I.order_id}/${I.op_id} sem rota do backend, usando fallback 'A'`),{ordem:I.order_id,artigo:I.artigo||I.order_id.replace("ORD-",""),operacao:I.op_id,recurso:I.maquina_id,rota:ae,start_time:I.start_time,end_time:I.end_time,setor:I.family||"",overlap:0,explicacao:""}}),R=new Set(X.map(I=>I.artigo)),B=X.map(I=>I.rota),V=B.reduce((I,ae)=>(I[ae]=(I[ae]||0)+1,I),{});return console.log(" convertPlanV2ToPlan:",{totalOps:X.length,articles:Array.from(R),articlesCount:R.size,rotas:V,sampleRotas:B.slice(0,10)}),{kpis:{otd_pct:0,lead_time_h:0,gargalo_ativo:"N/A",horas_setup_semana:0},operations:X,explicacoes:[]}},S=Nt(),k=Math.max(Math.ceil((b.getTime()-v.getTime())/(1e3*60*60)),24),{data:E}=xe({queryKey:["etl-status"],queryFn:async()=>(await Kn.get("/etl/status")).data,staleTime:1/0}),P=eO.get(),_=E?.latest_batch_id||E?.batch_id,T=P||_||void 0;_&&_!==P&&eO.set(_);const{data:D,isLoading:L,error:M}=xe({queryKey:["plan",t,n,k,T],queryFn:async()=>{const $=await Kn.get("/planning/v2/plano",{params:{batch_id:T,horizon_hours:k}});if($.data.baseline||$.data.optimized){const Q=$.data,Y=Q.baseline?.operations||[],X=Q.optimized?.operations||[],R=new Set(Y.map(V=>V.artigo||V.order_id?.replace("ORD-",""))),B=new Set(X.map(V=>V.artigo||V.order_id?.replace("ORD-","")));return console.log(" Frontend recebeu plano:",{baseline:{ops:Y.length,articles:Array.from(R)},optimized:{ops:X.length,articles:Array.from(B)},orders_summary:Q.orders_summary}),Q}return $.data},retry:!1,staleTime:1/0,gcTime:1/0}),F=qe({mutationFn:async()=>{console.log(" Iniciando reclculo do plano...",{batchId:T,horizonHours:k});const $=await Kn.post("/planning/v2/recalculate",null,{params:{batch_id:T,horizon_hours:k}});return console.log(" Reclculo concludo:",$.data),$.data},onSuccess:()=>{console.log(" Invalidando cache e refetching..."),S.invalidateQueries({queryKey:["plan"]}),S.refetchQueries({queryKey:["plan"]})},onError:$=>{console.error(" Erro ao recalcular plano:",$)}}),H=($=>$!==void 0&&"baseline"in $&&"optimized"in $)(D)?D:null,K=O.useMemo(()=>H?w(H.baseline):tO(D?.antes),[D,H]),W=O.useMemo(()=>H?w(H.optimized):tO(D?.depois),[D,H]);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"APS assistido por IA"}),i.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Planeamento Herdmar"}),H?.orders_summary&&i.jsxs("p",{className:"mt-1 text-xs text-text-muted",children:[H.orders_summary?.total_orders||0," artigos processados"]}),i.jsx("p",{className:"mt-2 max-w-4xl text-sm text-text-muted leading-relaxed",children:"O ProdPlan 4.0 l os dados de produo da Herdmar, escolhe rotas A/B por artigo e gera um plano encadeado que reduz filas nos recursos lentos e o tempo total de produo."}),M&&i.jsxs("div",{className:"mt-3 rounded-xl border-2 border-warning/40 bg-warning/10 p-3 text-sm text-warning",children:[i.jsx("p",{className:"font-semibold",children:"Plano no encontrado"}),i.jsx("p",{className:"mt-1",children:M?.response?.status===404||M?.message?.includes("PLANO_NAO_ENCONTRADO")?'Clique em "Recalcular plano" para gerar um novo plano com todos os artigos.':'Carregue os dados do Excel e clique em "Recalcular plano".'})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>F.mutate(),disabled:F.isPending,className:"rounded-xl border-2 border-nikufra bg-nikufra/10 px-4 py-2 text-sm font-semibold text-nikufra transition hover:bg-nikufra hover:text-background disabled:opacity-50",children:F.isPending?"A recalcular...":" Recalcular plano"}),i.jsxs("button",{onClick:()=>u(!l),className:`rounded-xl border-2 px-3 py-2 text-sm font-medium transition ${l?"border-purple-500/60 bg-purple-500/10 text-purple-400":"border-border bg-surface text-text-muted hover:border-purple-500/40"}`,title:"Opes avanadas de planeamento",children:[" ",l?"Fechar":"Opes"]}),i.jsxs("select",{value:t,onChange:$=>r($.target.value),className:"h-11 rounded-2xl border-2 border-border bg-surface px-4 text-sm font-semibold text-text-primary outline-none transition hover:border-nikufra",children:[i.jsx("option",{value:"this_week",children:"Esta semana"}),i.jsx("option",{value:"next_week",children:"Prxima semana"})]}),i.jsx("input",{type:"text",placeholder:"Filtrar clula/linha",value:n,onChange:$=>a($.target.value),className:"h-11 rounded-2xl border-2 border-border bg-surface px-4 text-sm text-text-primary outline-none transition focus:border-nikufra"}),i.jsx("button",{onClick:()=>e("/whatif",{state:{mode:"VIP"}}),className:"rounded-2xl border-2 border-nikufra bg-nikufra/10 px-4 py-2 text-sm font-semibold text-nikufra transition hover:bg-nikufra hover:text-background",children:"Simular VIP"}),i.jsx("button",{onClick:()=>e("/whatif",{state:{mode:"Avaria"}}),className:"rounded-2xl border-2 border-border bg-surface px-4 py-2 text-sm font-semibold text-text-primary transition hover:border-warning hover:text-warning",children:"Avaria"})]})]}),i.jsx(pt,{children:l&&i.jsxs(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"rounded-2xl border-2 border-purple-500/30 bg-purple-500/5 p-4 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("span",{className:"text-purple-400",children:""}),i.jsx("h3",{className:"text-sm font-semibold text-purple-400",children:"Opes Avanadas de Planeamento"}),g&&i.jsx("span",{className:"ml-auto text-xs px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 border border-green-500/30",children:" Tempos histricos ativos"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-text-muted mb-2",children:"Motor de Scheduling"}),i.jsx("select",{value:d,onChange:$=>h($.target.value),className:"w-full rounded-lg border border-purple-500/30 bg-background p-2 text-sm text-text-primary",children:rO.map($=>i.jsx("option",{value:$.id,children:$.name},$.id))}),i.jsx("p",{className:"text-xs text-text-muted mt-1",children:rO.find($=>$.id===d)?.desc})]}),d==="heuristic"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-text-muted mb-2",children:"Regra de Dispatching"}),i.jsx("select",{value:m,onChange:$=>p($.target.value),className:"w-full rounded-lg border border-purple-500/30 bg-background p-2 text-sm text-text-primary",children:nO.map($=>i.jsx("option",{value:$.id,children:$.name},$.id))}),i.jsx("p",{className:"text-xs text-text-muted mt-1",children:nO.find($=>$.id===m)?.desc})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-text-muted mb-2",children:"Duraes Data-Driven"}),i.jsx("button",{onClick:()=>y(!g),className:`w-full rounded-lg border p-2 text-sm font-medium transition ${g?"border-green-500/50 bg-green-500/10 text-green-400":"border-border bg-background text-text-muted hover:border-green-500/30"}`,children:g?" Usar tempos histricos":" Usar tempos tericos"}),i.jsx("p",{className:"text-xs text-text-muted mt-1",children:g?"Duraes baseadas em execues passadas":"Duraes da ficha tcnica"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-text-muted",children:[i.jsx("span",{children:""}),i.jsx("span",{children:d==="heuristic"?"Motor heurstico: muito rpido, boa qualidade para maioria dos casos":d==="milp"?"Motor MILP: pode demorar 30-60s, encontra soluo tima ou prxima":"Motor CP-SAT: bom equilbrio entre qualidade e velocidade"})]})]})}),i.jsx(lne,{mode:"planeamento"}),i.jsx(Tie,{batchId:T,horizonHours:k,onCommandApplied:async()=>{S.invalidateQueries({queryKey:["plan"]});try{await Kn.post("/planning/v2/recalculate",null,{params:{batch_id:T,horizon_hours:k}}),await S.refetchQueries({queryKey:["plan",t,n,k,T]})}catch($){console.error("Erro ao recalcular plano:",$),await S.refetchQueries({queryKey:["plan",t,n,k,T]})}}}),i.jsx(jne,{}),i.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"rounded-2xl border-2 border-border bg-gradient-to-br from-surface to-surface/80 p-6",children:i.jsx(Yne,{showHistory:!1})}),L?i.jsx(no,{height:500,baseColor:"#121212",highlightColor:"#1c1c1c"}):i.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsx(Vne,{})}),i.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},className:"rounded-2xl border-2 border-border bg-gradient-to-br from-surface to-surface/80 p-6",children:i.jsx(Pie,{})}),!L&&!!W?.explicacoes?.length&&i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"rounded-2xl border-2 border-border bg-gradient-to-br from-surface to-surface/80 p-6 shadow-[0_0_32px_rgba(69,255,193,0.08)]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-bold text-text-primary",children:" Decises tomadas pelo motor"}),i.jsx("button",{onClick:()=>o(!0),className:"rounded-xl border-2 border-nikufra/60 bg-nikufra/10 px-4 py-2 text-sm font-semibold text-nikufra transition hover:bg-nikufra hover:text-background",children:" Explicar este plano"})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:W?.explicacoes?.map(($,Q)=>i.jsx(Eie,{decision:$,index:Q},`${$}-${Q}`))})]}),i.jsx(Oie,{isOpen:s,onClose:()=>o(!1),antes:K,depois:W})]})},ef="http://127.0.0.1:8000";async function Mie(){const e=await fetch(`${ef}/planning/modes`);if(!e.ok)throw new Error("Failed to fetch planning modes");return e.json()}async function Rie(e){const t=await fetch(`${ef}/planning/conventional`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to execute conventional planning");return t.json()}async function Die(e){const t=await fetch(`${ef}/planning/chained`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to execute chained planning");return t.json()}async function Iie(e){const t=await fetch(`${ef}/planning/compare`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to compare planning modes");return t.json()}async function $ie(){const e=await fetch(`${ef}/machines`);if(!e.ok)throw new Error("Failed to fetch machines");return e.json()}const zh=({title:e,value:t,subtitle:r,icon:n,trend:a,highlight:s})=>i.jsxs("div",{className:`p-4 rounded-lg border ${s?"bg-gradient-to-br from-cyan-900/40 to-blue-900/40 border-cyan-500/50":"bg-slate-800/50 border-slate-700/50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-slate-400 text-sm",children:e}),i.jsx("span",{className:"text-slate-500",children:n})]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-white",children:t}),a&&i.jsx("span",{className:`text-sm ${a==="down"?"text-emerald-400":a==="up"?"text-red-400":"text-slate-400"}`,children:a==="down"?i.jsx(Xn,{className:"w-4 h-4"}):a==="up"?i.jsx(ar,{className:"w-4 h-4"}):null})]}),r&&i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r})]}),Fie=({machines:e,chains:t,onChange:r})=>{const n=()=>{r([...t,[]])},a=l=>{r(t.filter((u,d)=>d!==l))},s=(l,u)=>{const d=[...t];d[l].includes(u)||(d[l]=[...d[l],u],r(d))},o=(l,u)=>{const d=[...t];d[l]=d[l].filter((h,m)=>m!==u),r(d)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Cadeias de Mquinas"}),i.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-2 py-1 text-xs bg-cyan-600 hover:bg-cyan-500 text-white rounded transition-colors",children:[i.jsx(Dl,{className:"w-3 h-3"}),"Nova Cadeia"]})]}),t.length===0?i.jsxs("div",{className:"text-center py-8 text-slate-500 border border-dashed border-slate-700 rounded-lg",children:[i.jsx(ya,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Nenhuma cadeia definida"}),i.jsx("p",{className:"text-xs",children:'Clique em "Nova Cadeia" para comear'})]}):i.jsx("div",{className:"space-y-3",children:t.map((l,u)=>i.jsxs("div",{className:"p-3 bg-slate-900/50 border border-slate-700/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-xs text-slate-400",children:["Cadeia ",u+1]}),i.jsx("button",{onClick:()=>a(u),className:"text-slate-500 hover:text-red-400 transition-colors",children:i.jsx(va,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:l.map((d,h)=>i.jsxs(z.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-cyan-900/50 border border-cyan-700/50 rounded text-sm",children:[i.jsx("span",{className:"text-cyan-300",children:d}),i.jsx("button",{onClick:()=>o(u,h),className:"text-cyan-500 hover:text-red-400",children:i.jsx(va,{className:"w-3 h-3"})})]}),h<l.length-1&&i.jsx(a$,{className:"w-4 h-4 text-slate-500"})]},d))}),i.jsxs("select",{className:"w-full px-2 py-1 bg-slate-800 border border-slate-700 rounded text-sm text-white",value:"",onChange:d=>{d.target.value&&s(u,d.target.value)},children:[i.jsx("option",{value:"",children:"+ Adicionar mquina..."}),e.filter(d=>!l.includes(d)).map(d=>i.jsx("option",{value:d,children:d},d))]})]},u))})]})},Lie=({comparison:e})=>{const t=r=>r<0;return i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsx("div",{className:`p-4 rounded-lg border ${e.recommendation.mode==="chained"?"bg-gradient-to-r from-emerald-900/30 to-cyan-900/30 border-emerald-500/30":"bg-gradient-to-r from-blue-900/30 to-slate-900/30 border-blue-500/30"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ut,{className:"w-6 h-6 text-emerald-400"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-white",children:["Recomendao: ",e.recommendation.mode==="chained"?"Planeamento Encadeado":"Planeamento Convencional"]}),i.jsx("p",{className:"text-sm text-slate-300",children:e.recommendation.reason})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Convencional"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Makespan"}),i.jsxs("span",{className:"text-white font-medium",children:[e.baseline.makespan_hours.toFixed(1),"h"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Atrasos"}),i.jsxs("span",{className:"text-white font-medium",children:[e.baseline.tardiness_hours.toFixed(1),"h"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Setups"}),i.jsxs("span",{className:"text-white font-medium",children:[e.baseline.setup_hours.toFixed(1),"h"]})]})]})]}),i.jsxs("div",{className:"p-4 bg-slate-900/50 border border-cyan-700/30 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-cyan-400 mb-3",children:"Diferena"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Makespan"}),i.jsxs("span",{className:`font-medium ${t(e.deltas.makespan_pct)?"text-emerald-400":"text-red-400"}`,children:[e.deltas.makespan_pct>0?"+":"",e.deltas.makespan_pct.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Atrasos"}),i.jsxs("span",{className:`font-medium ${t(e.deltas.tardiness_pct)?"text-emerald-400":"text-red-400"}`,children:[e.deltas.tardiness_pct>0?"+":"",e.deltas.tardiness_pct.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Setups"}),i.jsxs("span",{className:`font-medium ${t(e.deltas.setup_pct)?"text-emerald-400":"text-red-400"}`,children:[e.deltas.setup_pct>0?"+":"",e.deltas.setup_pct.toFixed(1),"%"]})]})]})]}),i.jsxs("div",{className:"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Encadeado"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Makespan"}),i.jsxs("span",{className:"text-white font-medium",children:[e.scenario.makespan_hours.toFixed(1),"h"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Atrasos"}),i.jsxs("span",{className:"text-white font-medium",children:[e.scenario.tardiness_hours.toFixed(1),"h"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500 text-sm",children:"Setups"}),i.jsxs("span",{className:"text-white font-medium",children:[e.scenario.setup_hours.toFixed(1),"h"]})]})]})]})]})]})},zie=()=>{const e=Nt(),[t,r]=O.useState("conventional"),[n,a]=O.useState("EDD"),[s,o]=O.useState([]),[l,u]=O.useState(30),[d,h]=O.useState(null),[m,p]=O.useState(null),{data:g}=xe({queryKey:["planningModes"],queryFn:Mie}),{data:y}=xe({queryKey:["machines"],queryFn:$ie}),v=O.useMemo(()=>y?.map(_=>_.machine_id)??[],[y]),b=qe({mutationFn:Rie,onSuccess:_=>{h(_),tr.success("Planeamento convencional concludo!"),e.invalidateQueries({queryKey:["plan"]})},onError:()=>tr.error("Erro no planeamento convencional")}),w=qe({mutationFn:Die,onSuccess:_=>{h(_),tr.success("Planeamento encadeado concludo!"),e.invalidateQueries({queryKey:["plan"]})},onError:()=>tr.error("Erro no planeamento encadeado")}),S=qe({mutationFn:Iie,onSuccess:_=>{p(_),tr.success("Comparao concluda!")},onError:()=>tr.error("Erro na comparao")}),k=()=>{if(t==="conventional")b.mutate({dispatching_rule:n,group_by_setup_family:!0});else{if(s.length===0||s.every(_=>_.length<2)){tr.error("Configure pelo menos uma cadeia com 2+ mquinas");return}w.mutate({chains:s,buffers:{},default_buffer_min:l,synchronize_flow:!0})}},E=()=>{if(s.length===0||s.every(_=>_.length<2)){tr.error("Configure pelo menos uma cadeia para comparar");return}S.mutate({modes:["conventional","chained"],chained_config:{chains:s,buffers:{},default_buffer_min:l}})},P=b.isPending||w.isPending||S.isPending;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:" Planeamento Avanado"}),i.jsx("p",{className:"text-slate-400 mt-1",children:"Convencional vs. Encadeado (Flow Shop)"})]})}),i.jsxs("div",{className:"flex gap-2 p-1 bg-slate-800/50 rounded-lg w-fit",children:[i.jsx("button",{onClick:()=>r("conventional"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="conventional"?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"w-4 h-4"}),"Convencional"]})}),i.jsx("button",{onClick:()=>r("chained"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="chained"?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ya,{className:"w-4 h-4"}),"Encadeado"]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Xr,{className:"w-5 h-5 text-cyan-400"}),"Configurao"]}),i.jsx(pt,{mode:"wait",children:t==="conventional"?i.jsxs(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Regra de Dispatching"}),i.jsxs("select",{value:n,onChange:_=>a(_.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white",children:[i.jsx("option",{value:"EDD",children:"EDD - Earliest Due Date"}),i.jsx("option",{value:"SPT",children:"SPT - Shortest Processing Time"}),i.jsx("option",{value:"FIFO",children:"FIFO - First In First Out"}),i.jsx("option",{value:"CR",children:"CR - Critical Ratio"}),i.jsx("option",{value:"WSPT",children:"WSPT - Weighted SPT"})]})]}),i.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[i.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"Descrio"}),i.jsxs("p",{className:"text-sm text-slate-500",children:[n==="EDD"&&"Prioriza encomendas com data de entrega mais prxima.",n==="SPT"&&"Prioriza operaes com menor tempo de processamento.",n==="FIFO"&&"Processa na ordem de chegada.",n==="CR"&&"Rcio entre folga restante e tempo de processamento.",n==="WSPT"&&"SPT ponderado pela prioridade da encomenda."]})]})]},"conventional"):i.jsxs(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[i.jsx(Fie,{machines:v,chains:s,onChange:o}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Buffer entre etapas (minutos)"}),i.jsx("input",{type:"number",value:l,onChange:_=>u(Number(_.target.value)),className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white",min:0,max:120}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tempo de espera/transferncia entre mquinas consecutivas"})]})]},"chained")}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsxs("button",{onClick:k,disabled:P,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:[P?i.jsx(De,{className:"w-5 h-5 animate-spin"}):i.jsx(vi,{className:"w-5 h-5"}),"Executar ",t==="conventional"?"Convencional":"Encadeado"]}),t==="chained"&&s.length>0&&i.jsxs("button",{onClick:E,disabled:P,className:"flex items-center gap-2 px-4 py-3 bg-slate-700 hover:bg-slate-600 disabled:bg-slate-800 text-white rounded-lg font-medium transition-colors",children:[i.jsx(dr,{className:"w-5 h-5"}),"Comparar"]})]})]}),i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(br,{className:"w-5 h-5 text-cyan-400"}),"Resultados"]}),d?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(zh,{title:"Makespan",value:`${d.makespan_hours.toFixed(1)}h`,icon:i.jsx(gi,{className:"w-4 h-4"})}),i.jsx(zh,{title:"Throughput",value:`${Math.round(d.throughput_units)}`,subtitle:"unidades",icon:i.jsx(zr,{className:"w-4 h-4"})}),i.jsx(zh,{title:"Setup Total",value:`${(d.setup_hours??0).toFixed(1)}h`,icon:i.jsx(Xr,{className:"w-4 h-4"})}),i.jsx(zh,{title:"Utilizao",value:`${(d.utilization_pct??0).toFixed(0)}%`,icon:i.jsx(dr,{className:"w-4 h-4"}),highlight:(d.utilization_pct??0)>80})]}),d.bottleneck_machine&&i.jsx("div",{className:"p-3 bg-amber-900/20 border border-amber-700/30 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[i.jsx(Te,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm font-medium",children:["Gargalo: ",d.bottleneck_machine]}),i.jsxs("span",{className:"text-xs text-amber-500",children:["(",(d.bottleneck_utilization??0).toFixed(0),"% utilizao)"]})]})}),i.jsx("div",{className:"p-3 bg-slate-900/50 rounded-lg",children:i.jsx("p",{className:"text-sm text-slate-300",children:d.message})})]}):i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(_l,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"Execute um planeamento para ver os resultados"})]})]})]}),m&&i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(dr,{className:"w-5 h-5 text-cyan-400"}),"Comparao: Convencional vs. Encadeado"]}),i.jsx(Lie,{comparison:m})]}),g&&i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Modos de Planeamento Disponveis"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:g.available_modes.map(_=>i.jsxs("div",{className:"p-4 bg-slate-900/50 border border-slate-700/50 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-white mb-1",children:_.name}),i.jsx("p",{className:"text-xs text-slate-400 mb-2",children:_.description}),i.jsx("p",{className:"text-xs text-cyan-400",children:_.use_case})]},_.id))})]})]})},n_="http://127.0.0.1:8000";async function qie(e){const t=await fetch(`${n_}/projects?aggregation_mode=${e}`);if(!t.ok)throw new Error("Erro ao carregar projetos");return t.json()}async function Bie(e){const t=await fetch(`${n_}/projects/priority-plan?use_milp=${e}`);if(!t.ok)throw new Error("Erro ao calcular prioridades");return t.json()}async function Uie(e){const t=await fetch(`${n_}/projects/recompute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({use_milp:e})});if(!t.ok)throw new Error("Erro ao recalcular plano");return t.json()}const Vie=({level:e})=>{const t={LOW:"bg-emerald-500/20 text-emerald-300 border-emerald-500/30",MEDIUM:"bg-amber-500/20 text-amber-300 border-amber-500/30",HIGH:"bg-orange-500/20 text-orange-300 border-orange-500/30",CRITICAL:"bg-red-500/20 text-red-300 border-red-500/30",UNKNOWN:"bg-slate-500/20 text-slate-300 border-slate-500/30"};return i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded border ${t[e]||t.UNKNOWN}`,children:e})},Wie=({status:e,isOnTime:t})=>t?i.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded bg-emerald-500/20 text-emerald-300",children:[i.jsx(IK,{className:"w-3 h-3"}),"No prazo"]}):i.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded bg-red-500/20 text-red-300",children:[i.jsx(Te,{className:"w-3 h-3"}),"Atrasado"]}),nl=({title:e,value:t,subtitle:r,icon:n,trend:a,highlight:s})=>i.jsx("div",{className:`
      p-4 rounded-lg border transition-all
      ${s?"bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border-cyan-500/30":"bg-slate-800/50 border-slate-700/50"}
    `,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider",children:e}),i.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:t}),r&&i.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:r})]}),i.jsx("div",{className:`p-2 rounded-lg ${s?"bg-cyan-500/20":"bg-slate-700/50"}`,children:n})]})}),Hie=({project:e,rank:t,expanded:r,onToggle:n})=>i.jsxs(de.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:"border border-slate-700/50 rounded-lg overflow-hidden mb-2",children:[i.jsx("div",{onClick:n,className:`
          p-4 cursor-pointer transition-colors
          ${r?"bg-slate-700/30":"bg-slate-800/30 hover:bg-slate-700/20"}
        `,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[t&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-sm font-bold",children:t}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-white",children:e.project_name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[e.client||"Sem cliente","  ",e.total_orders," encomendas"]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:[(e.total_load_hours??0).toFixed(1),"h"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"carga total"})]}),i.jsx(Vie,{level:e.risk_level}),i.jsx(Wie,{status:e.status,isOnTime:e.is_on_time}),r?i.jsx(P2,{className:"w-5 h-5 text-slate-400"}):i.jsx(hc,{className:"w-5 h-5 text-slate-400"})]})]})}),i.jsx(pt,{children:r&&i.jsx(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700/50",children:i.jsxs("div",{className:"p-4 bg-slate-900/50 grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Lead Time"}),i.jsxs("p",{className:"text-lg font-semibold text-white",children:[(e.lead_time_days??0).toFixed(1)," dias"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Atraso"}),i.jsx("p",{className:`text-lg font-semibold ${(e.delay_hours??0)>0?"text-red-400":"text-emerald-400"}`,children:(e.delay_hours??0)>0?`${(e.delay_hours??0).toFixed(1)}h`:"Nenhum"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Folga"}),i.jsxs("p",{className:`text-lg font-semibold ${(e.slack_hours??0)>=0?"text-emerald-400":"text-red-400"}`,children:[(e.slack_hours??0).toFixed(1),"h"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Prob. Atraso"}),i.jsxs("p",{className:`text-lg font-semibold ${(e.probability_late_pct??0)>50?"text-red-400":"text-white"}`,children:[(e.probability_late_pct??0).toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Concluso"}),i.jsxs("p",{className:"text-lg font-semibold text-white",children:[(e.completion_rate_pct??0).toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Prioridade"}),i.jsx("p",{className:"text-lg font-semibold text-cyan-400",children:(e.priority_weight??1).toFixed(1)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Data Limite"}),i.jsx("p",{className:"text-sm font-medium text-white",children:e.due_date?new Date(e.due_date).toLocaleDateString("pt-PT"):"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Concluso Estimada"}),i.jsx("p",{className:"text-sm font-medium text-white",children:e.estimated_completion?new Date(e.estimated_completion).toLocaleDateString("pt-PT"):"-"})]})]})})})]}),Kie=()=>{const e=Nt(),[t,r]=O.useState("explicit"),[n,a]=O.useState(null),[s,o]=O.useState(!1),{data:l,isLoading:u,error:d}=xe({queryKey:["projects",t],queryFn:()=>qie(t),refetchInterval:3e4}),{data:h}=xe({queryKey:["priority-plan",s],queryFn:()=>Bie(s),enabled:!!l?.projects.length}),m=qe({mutationFn:()=>Uie(s),onSuccess:()=>{tr.success("Plano recalculado com sucesso"),e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["priority-plan"]})},onError:()=>{tr.error("Erro ao recalcular plano")}}),p=O.useMemo(()=>{if(!l?.projects)return[];const y=new Map;return h?.priority_plan?.priorities?.forEach(v=>{y.set(v.project_id,v.priority_rank)}),[...l.projects].sort((v,b)=>{const w=y.get(v.project_id)??999,S=y.get(b.project_id)??999;return w-S})},[l,h]),g=l?.global_kpis;return d?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Te,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Erro ao carregar projetos"}),i.jsx("p",{className:"text-slate-400",children:"Verifique se a API est a funcionar corretamente."})]}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[i.jsx(lm,{className:"w-7 h-7 text-cyan-400"}),"Planeamento por Projeto"]}),i.jsxs("p",{className:"text-slate-400 mt-1",children:["Viso agregada por projeto  ",p.length," projetos"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("select",{value:t,onChange:y=>r(y.target.value),className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm",children:[i.jsx("option",{value:"explicit",children:"Por Projeto (explcito)"}),i.jsx("option",{value:"by_client",children:"Por Cliente"}),i.jsx("option",{value:"by_family",children:"Por Famlia de Artigo"}),i.jsx("option",{value:"by_due_week",children:"Por Semana de Entrega"})]}),i.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s,onChange:y=>o(y.target.checked),className:"w-4 h-4 accent-cyan-500"}),i.jsx("span",{className:"text-sm text-white",children:"MILP"})]}),i.jsxs("button",{onClick:()=>m.mutate(),disabled:m.isPending,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors disabled:opacity-50",children:[i.jsx(De,{className:`w-4 h-4 ${m.isPending?"animate-spin":""}`}),"Aplicar Prioridades"]})]})]}),g&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[i.jsx(nl,{title:"Projetos",value:g.total_projects,icon:i.jsx(lm,{className:"w-5 h-5 text-cyan-400"})}),i.jsx(nl,{title:"OTD",value:`${(g.otd_pct??0).toFixed(0)}%`,subtitle:`${g.projects_on_time??0} no prazo`,icon:i.jsx(br,{className:"w-5 h-5 text-emerald-400"}),highlight:(g.otd_pct??0)>=90}),i.jsx(nl,{title:"Atrasados",value:g.projects_delayed??0,subtitle:`${(g.total_delay_hours??0).toFixed(0)}h total`,icon:i.jsx(gi,{className:"w-5 h-5 text-red-400"}),highlight:(g.projects_delayed??0)>0}),i.jsx(nl,{title:"Em Risco",value:g.projects_at_risk??0,icon:i.jsx(Te,{className:"w-5 h-5 text-amber-400"})}),i.jsx(nl,{title:"Lead Time Mdio",value:`${(g.avg_lead_time_days??0).toFixed(1)}d`,icon:i.jsx(ar,{className:"w-5 h-5 text-blue-400"})}),i.jsx(nl,{title:"Gargalo",value:g.bottleneck_machine||"-",icon:i.jsx(zr,{className:"w-5 h-5 text-orange-400"})})]}),h?.priority_plan&&i.jsx("div",{className:"p-4 bg-gradient-to-r from-cyan-900/30 to-blue-900/30 border border-cyan-700/30 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zr,{className:"w-5 h-5 text-cyan-400"}),i.jsx("span",{className:"font-medium text-white",children:"Plano de Prioridades Otimizado"}),i.jsxs("span",{className:"text-xs text-slate-400",children:["(",h.priority_plan.solver_status,")"]})]}),i.jsxs("div",{className:"text-sm text-cyan-300",children:["OTD Esperado: ",(h.priority_plan.expected_otd_pct??0).toFixed(0),"%"]})]})}),i.jsx("div",{className:"space-y-2",children:u?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(De,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"A carregar projetos..."})]}):p.length===0?i.jsxs("div",{className:"text-center py-12 bg-slate-800/30 rounded-lg border border-slate-700/50",children:[i.jsx(lm,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhum projeto encontrado"}),i.jsx("p",{className:"text-slate-400",children:"Tente outro modo de agregao ou verifique se os dados tm o campo project_id."})]}):p.map((y,v)=>{const b=h?.priority_plan?.priorities?.find(w=>w.project_id===y.project_id)?.priority_rank??v+1;return i.jsx(Hie,{project:y,rank:b,expanded:n===y.project_id,onToggle:()=>a(n===y.project_id?null:y.project_id)},y.project_id)})}),p.length>0&&i.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-4",children:"Distribuio de Carga por Projeto"}),i.jsx("div",{className:"space-y-2",children:p.slice(0,10).map(y=>{const v=Math.max(...p.map(w=>w.total_load_hours)),b=y.total_load_hours/v*100;return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"w-32 text-xs text-slate-400 truncate",children:y.project_name}),i.jsx("div",{className:"flex-1 h-4 bg-slate-700 rounded overflow-hidden",children:i.jsx("div",{className:`h-full transition-all ${y.risk_level==="CRITICAL"?"bg-red-500":y.risk_level==="HIGH"?"bg-orange-500":y.risk_level==="MEDIUM"?"bg-amber-500":"bg-cyan-500"}`,style:{width:`${b}%`}})}),i.jsxs("span",{className:"w-16 text-xs text-slate-400 text-right",children:[(y.total_load_hours??0).toFixed(0),"h"]})]},y.project_id)})})]})]})},iO=[{id:"main",label:"Principal",icon:i.jsx(WK,{className:"w-4 h-4"}),description:"Gantt e Timeline"},{id:"advanced",label:"Avanado",icon:i.jsx(Xr,{className:"w-4 h-4"}),description:"Modos e Motores"},{id:"projects",label:"Projetos",icon:i.jsx(lm,{className:"w-4 h-4"}),description:"Vista por Projeto"}],Gie=()=>{const[e,t]=O.useState("main");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex gap-1 p-1 bg-slate-800/50 rounded-lg",children:iO.map(r=>i.jsxs("button",{onClick:()=>t(r.id),className:`
                flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all
                ${e===r.id?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700/50"}
              `,title:r.description,children:[r.icon,i.jsx("span",{children:r.label})]},r.id))}),i.jsx("div",{className:"text-xs text-slate-500",children:iO.find(r=>r.id===e)?.description})]}),i.jsx(pt,{mode:"wait",children:i.jsxs(de.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.15},children:[e==="main"&&i.jsx(Aie,{}),e==="advanced"&&i.jsx(zie,{}),e==="projects"&&i.jsx(Kie,{})]},e)})]})},tf="http://127.0.0.1:8000";async function Yie(){const e=await fetch(`${tf}/dashboards/utilization-heatmap`);if(!e.ok)throw new Error("Failed to fetch heatmap");return e.json()}async function Qie(){const e=await fetch(`${tf}/dashboards/operator`);if(!e.ok)throw new Error("Failed to fetch operator dashboard");return e.json()}async function Xie(){const e=await fetch(`${tf}/dashboards/machine-oee`);if(!e.ok)throw new Error("Failed to fetch OEE");return e.json()}async function Jie(){const e=await fetch(`${tf}/dashboards/cell-performance`);if(!e.ok)throw new Error("Failed to fetch cell performance");return e.json()}async function Zie(){const e=await fetch(`${tf}/dashboards/capacity-projection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({forecast_months:12,demand_growth_monthly:.02})});if(!e.ok)throw new Error("Failed to fetch projection");return e.json()}const eae=({data:e})=>{if(!e?.machines?.length)return i.jsx("div",{className:"text-slate-500",children:"Sem dados"});const t=e.hours.filter((r,n)=>n%2===0);return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"min-w-[800px]",children:[i.jsxs("div",{className:"flex mb-2",children:[i.jsx("div",{className:"w-24 flex-shrink-0"}),t.map(r=>i.jsxs("div",{className:"w-8 text-center text-xs text-slate-400",children:[r,"h"]},r))]}),e.machines.map(r=>i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-24 flex-shrink-0 text-sm text-slate-300 truncate",children:r}),i.jsx("div",{className:"flex gap-px",children:t.map(n=>{const a=`0_${n}`,s=e.matrix?.[r]?.[a],o=s?.utilization??0;return i.jsx("div",{className:"w-8 h-6 rounded-sm transition-colors cursor-pointer hover:ring-1 hover:ring-white/50",style:{backgroundColor:s?.color??"#1e293b"},title:`${r} ${n}:00 - ${o.toFixed(0)}%`},n)})})]},r)),i.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-slate-400",children:[i.jsx("span",{children:"Utilizao:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#1e40af"}}),i.jsx("span",{children:"0%"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#22c55e"}}),i.jsx("span",{children:"50%"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#7f1d1d"}}),i.jsx("span",{children:"100%"})]})]})]})})},tae=({data:e})=>e?.operators?.length?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:e.summary.total_operators})]}),i.jsxs("div",{className:"p-3 bg-red-900/30 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Sobrecarregados"}),i.jsx("p",{className:"text-2xl font-bold text-red-400",children:e.summary.overloaded_count})]}),i.jsxs("div",{className:"p-3 bg-amber-900/30 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Subutilizados"}),i.jsx("p",{className:"text-2xl font-bold text-amber-400",children:e.summary.underutilized_count})]}),i.jsxs("div",{className:"p-3 bg-cyan-900/30 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Gaps de Skill"}),i.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:e.summary.critical_gaps})]})]}),i.jsx("div",{className:"space-y-2",children:e.operators.slice(0,8).map(t=>i.jsx("div",{className:`p-3 rounded-lg border ${t.status==="overloaded"?"bg-red-900/20 border-red-700/50":t.status==="underutilized"?"bg-amber-900/20 border-amber-700/50":"bg-slate-800/50 border-slate-700/50"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:t.name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[t.skills?.length??0," competncias"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-white",children:[t.hours_allocated.toFixed(0),"h"]}),i.jsxs("p",{className:"text-xs text-slate-400",children:["/ ",t.hours_available,"h"]})]}),i.jsxs("div",{className:"w-24",children:[i.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${t.utilization_pct>100?"bg-red-500":t.utilization_pct<50?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(100,t.utilization_pct)}%`}})}),i.jsxs("p",{className:"text-xs text-center text-slate-400 mt-1",children:[t.utilization_pct.toFixed(0),"%"]})]})]})},t.operator_id))})]}):i.jsx("div",{className:"text-slate-500",children:"Sem dados"}),rae=({data:e})=>{if(!e?.machines?.length)return i.jsx("div",{className:"text-slate-500",children:"Sem dados"});const t={excellent:"bg-emerald-500",good:"bg-green-500",acceptable:"bg-yellow-500",poor:"bg-orange-500",critical:"bg-red-500"};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-gradient-to-r from-cyan-900/30 to-blue-900/30 rounded-lg border border-cyan-700/30",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"OEE Global"}),i.jsxs("p",{className:"text-4xl font-bold text-white",children:[e.overall_oee.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Gargalo"}),i.jsx("p",{className:"text-lg font-medium text-cyan-400",children:e.bottleneck_machine||"-"})]})]})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.machines.slice(0,9).map(r=>i.jsxs("div",{className:`p-3 rounded-lg border ${r.is_bottleneck?"bg-amber-900/20 border-amber-700/50 ring-2 ring-amber-500/50":r.status==="critical"?"bg-red-900/20 border-red-700/50":"bg-slate-800/50 border-slate-700/50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-white",children:r.machine_id}),i.jsx("span",{className:`w-2 h-2 rounded-full ${t[r.status]||"bg-slate-500"}`})]}),i.jsxs("div",{className:"text-2xl font-bold text-white",children:[r.oee.total.toFixed(0),"%"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"A"}),i.jsxs("p",{className:"text-slate-300",children:[r.oee.availability.toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"P"}),i.jsxs("p",{className:"text-slate-300",children:[r.oee.performance.toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Q"}),i.jsxs("p",{className:"text-slate-300",children:[r.oee.quality.toFixed(0),"%"]})]})]}),r.is_bottleneck&&i.jsxs("div",{className:"mt-2 text-xs text-amber-400 flex items-center gap-1",children:[i.jsx(Te,{className:"w-3 h-3"}),"Gargalo"]})]},r.machine_id))})]})},nae=({data:e})=>e?.cells?.length?i.jsx("div",{className:"space-y-4",children:e.cells.slice(0,4).map(t=>i.jsxs("div",{className:`p-4 rounded-lg border ${t.status==="healthy"?"bg-emerald-900/20 border-emerald-700/30":t.status==="critical"?"bg-red-900/20 border-red-700/30":"bg-amber-900/20 border-amber-700/30"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium text-white",children:t.name}),i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${t.status==="healthy"?"bg-emerald-500/20 text-emerald-400":t.status==="critical"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:t.status})]}),i.jsx("div",{className:"flex items-center gap-2 mb-3 overflow-x-auto pb-2",children:t.stages.map((r,n)=>i.jsxs(z.Fragment,{children:[i.jsxs("div",{className:`px-3 py-2 rounded border text-center ${r.is_bottleneck?"bg-amber-900/40 border-amber-600/50 ring-2 ring-amber-500/30":"bg-slate-800/50 border-slate-700/50"}`,children:[i.jsx("p",{className:"text-xs text-slate-400",children:r.machine_id}),i.jsxs("p",{className:"text-sm font-medium text-white",children:[r.utilization_pct.toFixed(0),"%"]})]}),n<t.stages.length-1&&i.jsx("div",{className:"text-slate-500",children:""})]},r.machine_id))}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Lead Time"}),i.jsxs("p",{className:"text-white",children:[t.lead_time_hours.toFixed(1),"h"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"WIP"}),i.jsxs("p",{className:"text-white",children:[t.wip.total.toFixed(0)," un"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Throughput/dia"}),i.jsx("p",{className:"text-white",children:t.throughput_per_day.toFixed(0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Gargalo"}),i.jsx("p",{className:"text-amber-400",children:t.bottleneck.machine})]})]})]},t.cell_id))}):i.jsx("div",{className:"text-slate-500",children:"Sem clulas detectadas"}),iae=({data:e})=>{if(!e?.projections?.length)return i.jsx("div",{className:"text-slate-500",children:"Sem dados"});const t=Math.max(...e.projections.map(r=>Math.max(r.demand.units,r.capacity.units)));return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Utilizao Mdia"}),i.jsxs("p",{className:"text-xl font-bold text-white",children:[e.totals.avg_utilization_pct.toFixed(0),"%"]})]}),i.jsxs("div",{className:"p-3 bg-red-900/30 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Meses em Risco"}),i.jsx("p",{className:"text-xl font-bold text-red-400",children:e.gaps.months_undercapacity})]}),i.jsxs("div",{className:"p-3 bg-blue-900/30 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Sobrecapacidade"}),i.jsx("p",{className:"text-xl font-bold text-blue-400",children:e.gaps.months_overcapacity})]}),i.jsxs("div",{className:"p-3 bg-emerald-900/30 rounded-lg",children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Crescimento Anual"}),i.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:[e.growth.annual_demand_growth_pct.toFixed(0),"%"]})]})]}),i.jsx("div",{className:"flex items-end gap-2 h-48",children:e.projections.map(r=>{const n=r.demand.units/t*100,a=r.capacity.units/t*100;return i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsxs("div",{className:"relative w-full h-40 flex items-end justify-center gap-0.5",children:[i.jsx("div",{className:`w-3 rounded-t ${r.status==="undercapacity"?"bg-red-500":r.status==="overcapacity"?"bg-blue-500":"bg-emerald-500"}`,style:{height:`${n}%`},title:`Procura: ${r.demand.units.toFixed(0)}`}),i.jsx("div",{className:"w-3 border-2 border-dashed border-slate-400 rounded-t bg-transparent",style:{height:`${a}%`},title:`Capacidade: ${r.capacity.units.toFixed(0)}`})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r.month_name.substring(0,3)})]},`${r.year}-${r.month}`)})}),i.jsxs("div",{className:"flex items-center gap-6 text-xs text-slate-400",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded"}),i.jsx("span",{children:"Procura (equilibrado)"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),i.jsx("span",{children:"Procura (subcapacidade)"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 border-2 border-dashed border-slate-400 rounded"}),i.jsx("span",{children:"Capacidade"})]})]}),e.recommendations?.length>0&&i.jsxs("div",{className:"p-4 bg-amber-900/20 border border-amber-700/30 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-amber-400 mb-2",children:"Recomendaes"}),i.jsx("ul",{className:"space-y-1",children:e.recommendations.map((r,n)=>i.jsxs("li",{className:"text-sm text-slate-300 flex items-start gap-2",children:[i.jsx(Te,{className:"w-4 h-4 mt-0.5 text-amber-500 flex-shrink-0"}),r]},n))})]})]})},aae=()=>{const[e,t]=O.useState("heatmap"),{data:r}=xe({queryKey:["heatmap"],queryFn:Yie,enabled:e==="heatmap"}),{data:n}=xe({queryKey:["operatorDashboard"],queryFn:Qie,enabled:e==="operator"}),{data:a}=xe({queryKey:["machineOEE"],queryFn:Xie,enabled:e==="oee"}),{data:s}=xe({queryKey:["cellPerformance"],queryFn:Jie,enabled:e==="cell"}),{data:o}=xe({queryKey:["capacityProjection"],queryFn:Zie,enabled:e==="projection"}),l=[{id:"heatmap",label:"Heatmap",icon:i.jsx(Sm,{className:"w-4 h-4"})},{id:"operator",label:"Operadores",icon:i.jsx(Sl,{className:"w-4 h-4"})},{id:"oee",label:"OEE Mquinas",icon:i.jsx(Xr,{className:"w-4 h-4"})},{id:"cell",label:"Clulas",icon:i.jsx(ya,{className:"w-4 h-4"})},{id:"projection",label:"Projeo Anual",icon:i.jsx(ar,{className:"w-4 h-4"})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:" Dashboards Avanados"}),i.jsx("p",{className:"text-slate-400 mt-1",children:"Visualizaes de utilizao, OEE, clulas e projees"})]}),i.jsx("div",{className:"flex gap-2 p-1 bg-slate-800/50 rounded-lg overflow-x-auto",children:l.map(u=>i.jsxs("button",{onClick:()=>t(u.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap ${e===u.id?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:[u.icon,u.label]},u.id))}),i.jsx(pt,{mode:"wait",children:i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[e==="heatmap"&&i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Sm,{className:"w-5 h-5 text-cyan-400"}),"Heatmap de Utilizao Horria"]}),i.jsx(eae,{data:r})]}),e==="operator"&&i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5 text-cyan-400"}),"Dashboard de Operadores"]}),i.jsx(tae,{data:n})]}),e==="oee"&&i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Xr,{className:"w-5 h-5 text-cyan-400"}),"Dashboard de Mquinas & OEE"]}),i.jsx(rae,{data:a})]}),e==="cell"&&i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(ya,{className:"w-5 h-5 text-cyan-400"}),"Performance de Clulas Encadeadas"]}),i.jsx(nae,{data:s})]}),e==="projection"&&i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(ar,{className:"w-5 h-5 text-cyan-400"}),"Projeo Anual: Capacidade vs Procura"]}),i.jsx(iae,{data:o})]})]},e)})]})},nx="http://127.0.0.1:8000";async function sae(){const e=await fetch(`${nx}/reports/current-metrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return e.json()}async function oae(){const e=await fetch(`${nx}/reports/algorithms`);if(!e.ok)throw new Error("Failed to fetch algorithms");return e.json()}async function lae(e){const t=await fetch(`${nx}/reports/technical-explanation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to generate explanation");return t.json()}async function cae(e){const t=await fetch(`${nx}/reports/compare-whatif?scenario_description=${encodeURIComponent(e)}`,{method:"POST"});if(!t.ok)throw new Error("Failed to compare what-if");return t.json()}const na=({label:e,value:t,delta:r,icon:n})=>i.jsxs("div",{className:"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-slate-400 text-sm",children:e}),n&&i.jsx("span",{className:"text-slate-500",children:n})]}),i.jsx("div",{className:"text-2xl font-bold text-white",children:t}),r&&i.jsxs("div",{className:`text-sm mt-1 flex items-center gap-1 ${r.is_improvement?"text-emerald-400":"text-red-400"}`,children:[r.is_improvement?i.jsx(Xn,{className:"w-4 h-4"}):i.jsx(ar,{className:"w-4 h-4"}),r.percent>0?"+":"",r.percent.toFixed(1),"%"]})]}),dy=({type:e,items:t})=>{const r={strength:{icon:i.jsx(ut,{className:"w-5 h-5 text-emerald-400"}),title:"Pontos Fortes",bgColor:"bg-emerald-900/20",borderColor:"border-emerald-700/30"},weakness:{icon:i.jsx(Te,{className:"w-5 h-5 text-amber-400"}),title:"Pontos de Ateno",bgColor:"bg-amber-900/20",borderColor:"border-amber-700/30"},recommendation:{icon:i.jsx(td,{className:"w-5 h-5 text-cyan-400"}),title:"Recomendaes",bgColor:"bg-cyan-900/20",borderColor:"border-cyan-700/30"}}[e];return t.length===0?null:i.jsxs("div",{className:`p-4 rounded-lg border ${r.bgColor} ${r.borderColor}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.icon,i.jsx("h4",{className:"font-medium text-white",children:r.title})]}),i.jsx("ul",{className:"space-y-2",children:t.map((n,a)=>i.jsxs("li",{className:"text-sm text-slate-300 flex items-start gap-2",children:[i.jsx(Zr,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-slate-500"}),n]},a))})]})},aO=({content:e})=>i.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:i.jsx(Qp,{remarkPlugins:[Xp],children:e})}),uae=()=>{const[e,t]=O.useState("compare"),[r,n]=O.useState(""),[a,s]=O.useState("dispatching"),[o,l]=O.useState(null),[u,d]=O.useState(null),[h,m]=O.useState(!1),{data:p,isLoading:g}=xe({queryKey:["currentMetrics"],queryFn:sae}),{data:y}=xe({queryKey:["algorithms"],queryFn:oae}),v=qe({mutationFn:cae,onSuccess:E=>{l(E),tr.success("Relatrio comparativo gerado!")},onError:()=>tr.error("Erro ao gerar comparao")}),b=qe({mutationFn:lae,onSuccess:E=>{d(E),tr.success("Explicao tcnica gerada!")},onError:()=>tr.error("Erro ao gerar explicao")}),w=()=>{if(!r.trim()){tr.error("Descreva o cenrio a comparar");return}v.mutate(r)},S=()=>{b.mutate({algorithm:a,include_examples:!0})},k=(E,P)=>{const _=new Blob([E],{type:"text/markdown"}),T=URL.createObjectURL(_),D=document.createElement("a");D.href=T,D.download=P,D.click(),URL.revokeObjectURL(T)};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:" Relatrios & Comparaes"}),i.jsx("p",{className:"text-slate-400 mt-1",children:"Anlise comparativa de cenrios e documentao tcnica"})]})}),i.jsx("div",{className:"flex gap-2 p-1 bg-slate-800/50 rounded-lg w-fit",children:[{id:"compare",label:"Comparar Cenrios",icon:i.jsx(DC,{className:"w-4 h-4"})},{id:"technical",label:"Explicao Tcnica",icon:i.jsx(AC,{className:"w-4 h-4"})},{id:"summary",label:"Mtricas Atuais",icon:i.jsx(dr,{className:"w-4 h-4"})}].map(E=>i.jsxs("button",{onClick:()=>t(E.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${e===E.id?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:[E.icon,E.label]},E.id))}),i.jsxs(pt,{mode:"wait",children:[e==="compare"&&i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(DC,{className:"w-5 h-5 text-cyan-400"}),"Comparao de Cenrios"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Descreva o cenrio a comparar com o plano atual:"}),i.jsx("textarea",{value:r,onChange:E=>n(E.target.value),placeholder:"Ex: Adicionar mquina M-200 com capacidade 100 un/hora para aliviar gargalo na M-101...",className:"w-full h-32 px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 resize-none"})]}),i.jsx("div",{className:"flex gap-3",children:i.jsxs("button",{onClick:w,disabled:v.isPending,className:"flex items-center gap-2 px-6 py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:[v.isPending?i.jsx(De,{className:"w-5 h-5 animate-spin"}):i.jsx(bo,{className:"w-5 h-5"}),"Gerar Relatrio Comparativo"]})})]})]}),o&&i.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:o.report.title}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>m(!h),className:"px-3 py-1.5 text-sm bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors",children:h?"Ver Resumo":"Ver Markdown"}),i.jsxs("button",{onClick:()=>k(o.markdown,"relatorio-comparativo.md"),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors",children:[i.jsx(Gw,{className:"w-4 h-4"}),"Download"]})]})]}),h?i.jsx("div",{className:"p-6 bg-slate-800/50 border border-slate-700/50 rounded-xl overflow-auto max-h-[600px]",children:i.jsx(aO,{content:o.markdown})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Resumo Executivo"}),i.jsx("p",{className:"text-slate-300",children:o.report.summary})]}),i.jsx("div",{className:`p-4 rounded-lg border ${o.comparison.overall_improvement?"bg-emerald-900/20 border-emerald-700/30":"bg-amber-900/20 border-amber-700/30"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[o.comparison.overall_improvement?i.jsx(ut,{className:"w-8 h-8 text-emerald-400"}):i.jsx(Te,{className:"w-8 h-8 text-amber-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:o.comparison.overall_improvement?"Melhoria Global":"Sem Melhoria Significativa"}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Score de melhoria: ",o.comparison.improvement_score.toFixed(1)," pontos"]})]})]}),i.jsxs("div",{className:"text-4xl font-bold text-white",children:[o.comparison.improvement_score>0?"+":"",o.comparison.improvement_score.toFixed(0)]})]})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(o.comparison.deltas).slice(0,8).map(([E,P])=>i.jsx(na,{label:E.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()),value:P.scenario.toFixed(1),delta:P},E))}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(dy,{type:"strength",items:o.comparison.strengths}),i.jsx(dy,{type:"weakness",items:o.comparison.weaknesses}),i.jsx(dy,{type:"recommendation",items:o.comparison.recommendations})]}),i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Concluso"}),i.jsx("p",{className:"text-slate-300",children:o.report.conclusion})]})]})]})]},"compare"),e==="technical"&&i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(AC,{className:"w-5 h-5 text-cyan-400"}),"Explicao Tcnica dos Algoritmos"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Selecione o algoritmo:"}),i.jsx("select",{value:a,onChange:E=>s(E.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white",children:y?.algorithms.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))??i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"dispatching",children:"Regras de Dispatching"}),i.jsx("option",{value:"flow_shop",children:"Flow Shop Scheduling"}),i.jsx("option",{value:"setup_optimization",children:"Otimizao de Setups"})]})})]}),i.jsxs("button",{onClick:S,disabled:b.isPending,className:"flex items-center gap-2 px-6 py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:[b.isPending?i.jsx(De,{className:"w-5 h-5 animate-spin"}):i.jsx(Xr,{className:"w-5 h-5"}),"Gerar Explicao"]})]})]}),u&&i.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:u.report.title}),i.jsxs("button",{onClick:()=>k(u.markdown,`explicacao-${a}.md`),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors",children:[i.jsx(Gw,{className:"w-4 h-4"}),"Download"]})]}),i.jsx("div",{className:"prose prose-invert max-w-none",children:i.jsx(aO,{content:u.markdown})})]})]},"technical"),e==="summary"&&i.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:i.jsxs("div",{className:"p-6 bg-slate-800/30 border border-slate-700/50 rounded-xl",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(dr,{className:"w-5 h-5 text-cyan-400"}),"Mtricas do Plano Atual"]}),g?i.jsxs("div",{className:"text-center py-8 text-slate-500",children:[i.jsx(De,{className:"w-8 h-8 mx-auto animate-spin mb-2"}),"A carregar mtricas..."]}):p?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(na,{label:"Makespan",value:`${p.makespan_hours.toFixed(0)}h`,icon:i.jsx(zr,{className:"w-4 h-4"})}),i.jsx(na,{label:"Lead Time Mdio",value:`${p.lead_time_avg_days.toFixed(1)}d`,icon:i.jsx(dr,{className:"w-4 h-4"})}),i.jsx(na,{label:"Throughput/Semana",value:`${Math.round(p.throughput_units_per_week)}`,icon:i.jsx(ar,{className:"w-4 h-4"})}),i.jsx(na,{label:"OTD",value:`${p.otd_pct.toFixed(0)}%`,icon:i.jsx(ut,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(na,{label:"Ordens Atrasadas",value:p.orders_late,icon:i.jsx(Te,{className:"w-4 h-4"})}),i.jsx(na,{label:"Setup Total",value:`${p.total_setup_hours.toFixed(1)}h`,icon:i.jsx(Xr,{className:"w-4 h-4"})}),i.jsx(na,{label:"Utilizao Mdia",value:`${p.avg_utilization_pct.toFixed(0)}%`,icon:i.jsx(dr,{className:"w-4 h-4"})}),i.jsx(na,{label:"Gargalo",value:p.bottleneck_machine??"-",icon:i.jsx(O2,{className:"w-4 h-4"})})]}),p.machine_metrics&&Object.keys(p.machine_metrics).length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-md font-medium text-white mb-3",children:"Utilizao por Mquina"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Object.entries(p.machine_metrics).map(([E,P])=>i.jsxs("div",{className:`p-3 rounded-lg border ${P.utilization_pct>85?"bg-red-900/20 border-red-700/30":P.utilization_pct>60?"bg-amber-900/20 border-amber-700/30":"bg-slate-800/50 border-slate-700/50"}`,children:[i.jsx("p",{className:"text-xs text-slate-400",children:E}),i.jsxs("p",{className:"text-lg font-bold text-white",children:[P.utilization_pct.toFixed(0),"%"]})]},E))})]})]}):i.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhuma mtrica disponvel"})]})},"summary")]})]})},sO=[{id:"dashboards",label:"Dashboards",icon:i.jsx(dr,{className:"w-4 h-4"}),description:"Heatmaps, OEE, Projees"},{id:"reports",label:"Relatrios",icon:i.jsx(bo,{className:"w-4 h-4"}),description:"Comparaes, Explicaes Tcnicas"}],dae=()=>{const[e,t]=O.useState("dashboards");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex gap-1 p-1 bg-slate-800/50 rounded-lg",children:sO.map(r=>i.jsxs("button",{onClick:()=>t(r.id),className:`
                flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all
                ${e===r.id?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700/50"}
              `,title:r.description,children:[r.icon,i.jsx("span",{children:r.label})]},r.id))}),i.jsx("div",{className:"text-xs text-slate-500",children:sO.find(r=>r.id===e)?.description})]}),i.jsx(pt,{mode:"wait",children:i.jsxs(de.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.15},children:[e==="dashboards"&&i.jsx(aae,{}),e==="reports"&&i.jsx(uae,{})]},e)})]})},i_="http://127.0.0.1:8000";async function fae(){const e=await fetch(`${i_}/workforce/performance`);if(!e.ok)throw new Error("Erro ao carregar performance");return e.json()}async function hae(e,t){const r=await fetch(`${i_}/workforce/forecast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({horizon_days:e,model_type:t})});if(!r.ok)throw new Error("Erro ao gerar previso");return r.json()}async function mae(e){const t=await fetch(`${i_}/workforce/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({use_milp:e})});if(!t.ok)throw new Error("Erro ao otimizar alocao");return t.json()}const pae=({level:e})=>{const t={excellent:"bg-emerald-500/20 text-emerald-300 border-emerald-500/30",good:"bg-green-500/20 text-green-300 border-green-500/30",average:"bg-slate-500/20 text-slate-300 border-slate-500/30",below_average:"bg-amber-500/20 text-amber-300 border-amber-500/30",needs_improvement:"bg-red-500/20 text-red-300 border-red-500/30"},r={excellent:"Excelente",good:"Bom",average:"Mdio",below_average:"Abaixo da mdia",needs_improvement:"Necessita melhoria"};return i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded border ${t[e]||t.average}`,children:r[e]||e})},xae=({level:e,value:t})=>{const r={EXCELLENT:"text-emerald-400",GOOD:"text-green-400",FAIR:"text-amber-400",POOR:"text-red-400"};return i.jsxs("span",{className:`text-xs font-mono ${r[e]||"text-slate-400"}`,children:["SNR: ",t.toFixed(1)]})},il=({title:e,value:t,subtitle:r,icon:n,highlight:a})=>i.jsx("div",{className:`
      p-4 rounded-lg border transition-all
      ${a?"bg-gradient-to-br from-cyan-500/20 to-blue-600/20 border-cyan-500/30":"bg-slate-800/50 border-slate-700/50"}
    `,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider",children:e}),i.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:t}),r&&i.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:r})]}),i.jsx("div",{className:`p-2 rounded-lg ${a?"bg-cyan-500/20":"bg-slate-700/50"}`,children:n})]})}),gae=({data:e,color:t="#22d3ee"})=>{if(!e||e.length<2)return null;const r=Math.max(...e),n=Math.min(...e),a=r-n||1,s=e.map((o,l)=>{const u=l/(e.length-1)*100,d=100-(o-n)/a*100;return`${u},${d}`}).join(" ");return i.jsx("svg",{className:"w-24 h-8",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:i.jsx("polyline",{fill:"none",stroke:t,strokeWidth:"3",points:s})})},yae=({worker:e,expanded:t,onToggle:r,forecast:n})=>{const a=e.metrics;return i.jsxs(de.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:"border border-slate-700/50 rounded-lg overflow-hidden mb-2",children:[i.jsx("div",{onClick:r,className:`
          p-4 cursor-pointer transition-colors
          ${t?"bg-slate-700/30":"bg-slate-800/30 hover:bg-slate-700/20"}
        `,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold",children:e.worker_id.slice(-2)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-white",children:a.worker_name||e.worker_id}),i.jsxs("p",{className:"text-xs text-slate-400",children:[a.total_operations," operaes  ",a.total_time_hours.toFixed(1),"h"]})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:a.productivity.toFixed(1)}),i.jsx("p",{className:"text-xs text-slate-400",children:"unid/hora"})]}),i.jsxs("div",{className:"text-right hidden md:block",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:[(a.efficiency*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"eficincia"})]}),i.jsx("div",{className:"hidden sm:block",children:i.jsx(gae,{data:e.productivity_history,color:a.performance_level==="excellent"?"#10b981":a.performance_level==="needs_improvement"?"#ef4444":"#22d3ee"})}),i.jsx(pae,{level:a.performance_level}),t?i.jsx(P2,{className:"w-5 h-5 text-slate-400"}):i.jsx(hc,{className:"w-5 h-5 text-slate-400"})]})]})}),i.jsx(pt,{children:t&&i.jsx(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700/50",children:i.jsxs("div",{className:"p-4 bg-slate-900/50 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Produtividade"}),i.jsx("p",{className:"text-lg font-semibold text-white",children:a.productivity.toFixed(2)}),i.jsx("p",{className:"text-xs text-slate-400",children:"unidades/hora"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Eficincia Relativa"}),i.jsxs("p",{className:`text-lg font-semibold ${a.efficiency>=1?"text-emerald-400":"text-amber-400"}`,children:[(a.efficiency*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"vs mdia"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Saturao"}),i.jsxs("p",{className:`text-lg font-semibold ${a.saturation_level==="optimal"?"text-emerald-400":a.saturation_level==="overloaded"?"text-red-400":"text-amber-400"}`,children:[(a.saturation*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:a.saturation_level})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Skill Score"}),i.jsxs("p",{className:"text-lg font-semibold text-cyan-400",children:[(a.skill_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"qualificao"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-slate-800/50 rounded p-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-300 mb-2 flex items-center gap-2",children:[i.jsx(vr,{className:"w-4 h-4"}),"Consistncia (SNR)"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(xae,{level:a.snr_level,value:a.snr_performance}),i.jsxs("span",{className:"text-sm text-slate-400",children:["Confiana: ",(a.consistency_score*100).toFixed(0),"%"]})]})]}),a.learning_curve&&i.jsxs("div",{className:"bg-slate-800/50 rounded p-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-300 mb-2 flex items-center gap-2",children:[i.jsx($u,{className:"w-4 h-4"}),"Curva de Aprendizagem"]}),i.jsxs("div",{className:"text-xs space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-500",children:"Mximo:"})," ",i.jsxs("span",{className:"text-white",children:[a.learning_curve.a_asymptote.toFixed(1)," unid/h"]})]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-500",children:"R:"})," ",i.jsxs("span",{className:"text-white",children:[(a.learning_curve.r_squared*100).toFixed(0),"%"]})]}),a.learning_curve.time_to_90pct_days&&i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-500",children:"Tempo at 90%:"})," ",i.jsxs("span",{className:"text-cyan-400",children:[a.learning_curve.time_to_90pct_days.toFixed(0)," dias"]})]})]})]})]}),n&&i.jsxs("div",{className:"bg-slate-800/50 rounded p-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-300 mb-2 flex items-center gap-2",children:[i.jsx(ar,{className:"w-4 h-4"}),"Previso (",n.model_type,")"]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("span",{className:"text-slate-400",children:["Mdia esperada: ",i.jsx("span",{className:"text-white font-medium",children:n.forecast_mean.toFixed(1)})]}),i.jsx("span",{className:`${n.forecast_trend==="increasing"?"text-emerald-400":n.forecast_trend==="decreasing"?"text-red-400":"text-slate-400"}`,children:n.forecast_trend==="increasing"?" A subir":n.forecast_trend==="decreasing"?" A descer":" Estvel"}),i.jsxs("span",{className:"text-slate-400",children:["MAPE: ",n.mape.toFixed(1),"%"]})]})]}),e.recommendations.length>0&&i.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/30 rounded p-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-amber-300 mb-2 flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4"}),"Recomendaes"]}),i.jsx("ul",{className:"text-sm text-slate-300 space-y-1",children:e.recommendations.map((s,o)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-amber-400",children:""}),s]},o))})]})]})})})]})},vae=()=>{Nt();const[e,t]=O.useState(null),[r,n]=O.useState(14),[a,s]=O.useState("ARIMA"),{data:o,isLoading:l,error:u}=xe({queryKey:["workforce-performance"],queryFn:fae,refetchInterval:6e4}),{data:d,refetch:h}=xe({queryKey:["workforce-forecast",r,a],queryFn:()=>hae(r,a),enabled:!!o}),m=qe({mutationFn:()=>mae(!0),onSuccess:b=>{tr.success(`Alocao otimizada: ${b.assignment_plan?.assigned_operations} operaes atribudas`)},onError:()=>{tr.error("Erro ao otimizar alocao")}}),p=O.useMemo(()=>{const b=new Map;return d?.forecasts?.forEach(w=>b.set(w.worker_id,w)),b},[d]),g=O.useMemo(()=>o?.workers?[...o.workers].sort((b,w)=>w.metrics.productivity-b.metrics.productivity):[],[o]),y=o?.global_metrics,v=o?.performance_distribution;return u?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Te,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Erro ao carregar dados"}),i.jsx("p",{className:"text-slate-400",children:"Verifique se a API est a funcionar corretamente."})]}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[i.jsx(Sl,{className:"w-7 h-7 text-cyan-400"}),"Performance de Colaboradores"]}),i.jsxs("p",{className:"text-slate-400 mt-1",children:["Anlise de produtividade, eficincia e competncias  ",g.length," colaboradores"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("select",{value:a,onChange:b=>s(b.target.value),className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm",children:[i.jsx("option",{value:"ARIMA",children:"ARIMA"}),i.jsx("option",{value:"LEARNING_CURVE",children:"Curva Aprendizagem"})]}),i.jsxs("select",{value:r,onChange:b=>n(Number(b.target.value)),className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm",children:[i.jsx("option",{value:7,children:"7 dias"}),i.jsx("option",{value:14,children:"14 dias"}),i.jsx("option",{value:30,children:"30 dias"})]}),i.jsxs("button",{onClick:()=>h(),className:"flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:[i.jsx($u,{className:"w-4 h-4"}),"Prever"]}),i.jsxs("button",{onClick:()=>m.mutate(),disabled:m.isPending,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors disabled:opacity-50",children:[i.jsx(zr,{className:`w-4 h-4 ${m.isPending?"animate-spin":""}`}),"Otimizar Alocao"]})]})]}),y&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[i.jsx(il,{title:"Colaboradores",value:o.total_workers,icon:i.jsx(Sl,{className:"w-5 h-5 text-cyan-400"})}),i.jsx(il,{title:"Produtividade Mdia",value:(y.avg_productivity??0).toFixed(1),subtitle:"unidades/hora",icon:i.jsx(dr,{className:"w-5 h-5 text-blue-400"})}),i.jsx(il,{title:"Eficincia Mdia",value:`${((y.avg_efficiency??1)*100).toFixed(0)}%`,icon:i.jsx(br,{className:"w-5 h-5 text-emerald-400"}),highlight:(y.avg_efficiency??1)>=1}),i.jsx(il,{title:"Skill Mdio",value:`${((y.avg_skill_score??0)*100).toFixed(0)}%`,icon:i.jsx(Hs,{className:"w-5 h-5 text-amber-400"})}),i.jsx(il,{title:"SNR Mdio",value:(y.avg_snr??1).toFixed(1),subtitle:"consistncia",icon:i.jsx(vr,{className:"w-5 h-5 text-purple-400"})}),i.jsx(il,{title:"Excelentes",value:v?.excellent||0,subtitle:"top performers",icon:i.jsx(ar,{className:"w-5 h-5 text-emerald-400"}),highlight:(v?.excellent||0)>0})]}),v&&i.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Distribuio de Performance"}),i.jsx("div",{className:"flex items-center gap-2",children:Object.entries(v).map(([b,w])=>{const S=Object.values(v).reduce((P,_)=>P+_,0),k=w/S*100,E={excellent:"bg-emerald-500",good:"bg-green-500",average:"bg-slate-500",below_average:"bg-amber-500",needs_improvement:"bg-red-500"};return i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-slate-700",children:i.jsx("div",{className:`h-full ${E[b]||"bg-slate-500"}`,style:{width:`${k}%`}})}),i.jsx("p",{className:"text-xs text-slate-400 mt-1 text-center",children:w})]},b)})}),i.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[i.jsx("span",{children:"Necessita melhoria"}),i.jsx("span",{children:"Excelente"})]})]}),i.jsx("div",{className:"space-y-2",children:l?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(De,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"A carregar dados de performance..."})]}):g.length===0?i.jsxs("div",{className:"text-center py-12 bg-slate-800/30 rounded-lg border border-slate-700/50",children:[i.jsx(Sl,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhum colaborador encontrado"}),i.jsx("p",{className:"text-slate-400",children:"Verifique se existem dados de operaes com colaboradores."})]}):g.map(b=>i.jsx(yae,{worker:b,expanded:e===b.worker_id,onToggle:()=>t(e===b.worker_id?null:b.worker_id),forecast:p.get(b.worker_id)},b.worker_id))})]})},bae=()=>i.jsx("div",{className:"space-y-6",children:i.jsx(vae,{})}),jae=(e,t)=>t==="percentage"&&typeof e=="number"?`${e.toFixed(1)}%`:t==="number"&&typeof e=="number"?e.toLocaleString("pt-PT",{minimumFractionDigits:1,maximumFractionDigits:1}):String(e),fy=({title:e,value:t,delta:r,unit:n,format:a="number",tooltip:s})=>{const o=jae(t,a),l=r!==void 0&&!Number.isNaN(r),u=(r??0)>=0;return i.jsxs(de.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},whileHover:{scale:1.02,boxShadow:"0 0 32px rgba(69,255,193,0.18)"},transition:{duration:.25},className:"relative flex flex-col gap-3 overflow-hidden rounded-2xl border border-border bg-gradient-to-br from-[#0b1010] via-[#0f1a19] to-[#0d1412] p-6 shadow-glow",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.24em] text-text-muted",children:[i.jsx("span",{children:e}),s&&i.jsx("span",{title:s,className:"cursor-help rounded-full border border-border/60 px-[6px] py-[2px] text-[10px] font-semibold text-text-muted/80 transition hover:border-nikufra/60 hover:text-nikufra",children:""})]}),i.jsxs("div",{className:"flex items-baseline gap-2 text-text-primary",children:[i.jsx("span",{className:"font-mono text-3xl font-semibold drop-shadow-[0_0_18px_rgba(69,255,193,0.15)]",children:o}),n&&i.jsx("span",{className:"text-sm text-text-muted",children:n})]}),l&&i.jsxs("span",{className:Xe("inline-flex w-fit items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold transition",u?"bg-nikufra/15 text-nikufra":"bg-danger/15 text-danger"),children:[u?"":""," ",u?"+":"",(r??0).toFixed(1),"%"]})]})},wae=e=>e<70?"bg-nikufra/20 text-nikufra":e<90?"bg-warning/20 text-warning":"bg-danger/30 text-danger",Nae=e=>e<70?"Zona folgada  capacidade disponvel":e<90?"Zona de ateno  monitorizar setup e prioridades":"Zona crtica  risco de fila e incumprimento",_ae=({data:e})=>{if(!e||!e.length)return null;const r=e[0]?.utilizacao??[];return i.jsxs("div",{className:"rounded-2xl border border-border bg-surface shadow-glow",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-5",children:[i.jsx("h3",{className:"text-base font-semibold text-text-primary",children:"Utilizao de Recursos"}),i.jsx("span",{className:"text-xs text-text-muted",children:"Verde  livre, Vermelho  saturado"})]}),i.jsx("div",{className:"overflow-x-auto px-6 pb-6",children:i.jsxs("table",{className:"w-full border-separate border-spacing-2 text-sm",children:[i.jsx("thead",{className:"text-xs uppercase tracking-wide text-text-muted",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-32 text-left",children:"Recurso"}),r.map(n=>i.jsxs("th",{className:"text-center font-normal",children:[n.hora,"h"]},n.hora))]})}),i.jsx("tbody",{children:e.map(n=>i.jsxs("tr",{children:[i.jsx("td",{className:"whitespace-nowrap text-left text-text-primary",children:n.recurso}),(n.utilizacao??[]).map(a=>i.jsx("td",{className:"text-center",children:i.jsxs("span",{title:`${n.recurso} s ${a.hora}h  utilizao ${a.utilizacao_pct.toFixed(1)}%. ${Nae(a.utilizacao_pct)}.`,className:`inline-flex min-w-[52px] items-center justify-center rounded-xl px-2 py-2 text-xs font-semibold transition hover:scale-[1.03] ${wae(a.utilizacao_pct)}`,children:[a.utilizacao_pct.toFixed(0),"%"]})},a.hora))]},n.recurso))})]})})]})};function Sae({columns:e,data:t,onRowClick:r}){return i.jsxs("div",{className:"overflow-hidden rounded-2xl border border-border/60 bg-gradient-to-br from-surface to-surface/80 shadow-[0_0_32px_rgba(69,255,193,0.08)] backdrop-blur-sm",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-separate border-spacing-0 text-sm",children:[i.jsx("thead",{className:"sticky top-0 z-10 bg-gradient-to-b from-surface/95 to-surface/90 backdrop-blur-md",children:i.jsx("tr",{children:e.map(n=>i.jsx("th",{className:Xe("border-b border-border/80 px-5 py-4 text-xs font-bold uppercase tracking-wider text-text-primary","bg-gradient-to-b from-surface/95 to-surface/90",n.align==="center"&&"text-center",n.align==="right"&&"text-right","group relative transition-colors"),children:i.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.header,n.tooltip&&i.jsx("span",{title:n.tooltip,className:"cursor-help rounded-full border border-nikufra/30 bg-nikufra/10 px-[6px] py-[2px] text-[10px] font-semibold text-nikufra/70 transition-all hover:border-nikufra/60 hover:bg-nikufra/20 hover:text-nikufra",children:""})]})},String(n.key)))})}),i.jsx("tbody",{children:t.map((n,a)=>i.jsx("tr",{onClick:()=>r?.(n),className:Xe("border-b border-border/40 transition-all duration-200",a%2===0?"bg-surface/50":"bg-surface/30",r?"cursor-pointer hover:bg-nikufra/10 hover:shadow-[0_0_16px_rgba(69,255,193,0.1)]":"hover:bg-surface/70","group"),children:e.map(s=>i.jsx("td",{className:Xe("px-5 py-4 text-text-body transition-colors group-hover:text-text-primary",s.align==="center"&&"text-center",s.align==="right"&&"text-right"),children:s.render?s.render(n):String(n[s.key]??"")},String(s.key)))},a))})]})}),t.length===0&&i.jsx("div",{className:"px-6 py-12 text-center text-sm text-text-muted",children:i.jsx("p",{className:"text-text-muted/60",children:"Nenhum dado disponvel"})})]})}const kae=()=>{const[e,t]=O.useState({}),{data:r,isLoading:n,error:a}=xe({queryKey:["bottlenecks"],queryFn:async()=>(await Kn.get("/bottlenecks/")).data,staleTime:3e4}),s=O.useMemo(()=>Object.keys(e).length,[e]),o=O.useMemo(()=>r??{bottlenecks:[],overlap_applied:{transformacao:0,acabamentos:0,embalagem:0},lead_time_gain:0,heatmap:[],top_losses:[],demo_mode:!1},[r]),l=(u,d)=>{t(h=>({...h,[u.recurso]:d}))};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"Balanceamento dinmico"}),i.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Gargalos & Overlap"}),i.jsx("p",{className:"mt-2 max-w-3xl text-sm text-text-muted",children:"Monitoriza a utilizao prevista por recurso, identifica perdas e visualiza o impacto do overlap aplicado em cada etapa."})]}),s>0&&i.jsxs("span",{className:"rounded-full border border-nikufra/60 bg-nikufra/10 px-4 py-1 text-xs font-semibold text-nikufra",children:[" ",s," aes aplicadas nesta sesso"]})]}),a&&i.jsxs("div",{className:"rounded-2xl border border-danger/40 bg-danger/10 p-4 text-sm text-danger",children:["No foi possvel carregar os gargalos. ",String(a)]}),n?i.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Array.from({length:3}).map((u,d)=>i.jsx(no,{height:140,baseColor:"#121212",highlightColor:"#1c1c1c"},d))}):i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(fy,{title:"Overlap Transformao",value:o.overlap_applied.transformacao*100,format:"percentage",tooltip:"Percentagem de overlap aplicada nas operaes de Transformao."}),i.jsx(fy,{title:"Overlap Acabamentos",value:o.overlap_applied.acabamentos*100,format:"percentage",tooltip:"Overlap aplicado na etapa de Acabamentos para reduzir filas."}),i.jsx(fy,{title:"Ganho de Lead Time",value:o.lead_time_gain,unit:"%",tooltip:"Reduo percentual do lead time face ao baseline aps aplicar overlap."})]}),n?i.jsx(no,{height:320,baseColor:"#121212",highlightColor:"#1c1c1c"}):o.heatmap.length>0&&i.jsxs("div",{className:"space-y-3",children:[o.demo_mode&&i.jsx("div",{className:"rounded-xl border-2 border-warning/40 bg-warning/10 p-3 text-sm text-warning",children:" Modo DEMO ativo: Os recursos 27, 29 e 248 aparecem saturados para simular um cenrio realista de gargalo."}),i.jsx("p",{className:"text-xs text-text-muted",children:"Vermelho = saturado (>90% de carga), Verde = folgado (<70%). Passa o cursor para ver o detalhe."}),i.jsx(_ae,{data:o.heatmap})]}),n?i.jsx(no,{height:280,baseColor:"#121212",highlightColor:"#1c1c1c"}):o.top_losses.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-base font-semibold text-text-primary",children:"Top 5 perdas e aes recomendadas"}),i.jsx(Sae,{columns:[{key:"recurso",header:"Recurso"},{key:"utilizacao_pct",header:"Utilizao %",align:"center",tooltip:"Carga prevista na janela analisada.",render:u=>`${u.utilizacao_pct.toFixed(1)}%`},{key:"fila_horas",header:"Fila (h)",align:"center",tooltip:"Horas de fila acumuladas se nada for feito.",render:u=>`${u.fila_horas.toFixed(1)} h`},{key:"probabilidade",header:"Prob. Gargalo",align:"center",tooltip:"Probabilidade estimada de o recurso ser gargalo.",render:u=>`${(u.probabilidade*100).toFixed(1)}%`},{key:"acao",header:"Plano sugerido",tooltip:"Ao automtica sugerida pelo motor APS.",render:u=>i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-text-primary",children:u.acao}),e[u.recurso]&&i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-nikufra/15 px-2 py-[2px] text-[10px] font-semibold text-nikufra",children:[" ",e[u.recurso]]})]})},{key:"impacto",header:"Impacto estimado",tooltip:"Variao prevista em OTD e fila se aplicar a ao.",render:u=>i.jsxs("span",{className:"text-sm text-text-muted",children:["OTD: ",u.impacto_otd.toFixed(1),"pp  Horas: ",u.impacto_horas.toFixed(1),"h"]})},{key:"cta",header:"One-click",tooltip:"Aplica a ao sugerida e ajusta o Gantt Depois.",render:u=>i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:()=>l(u,"Rota alternativa aplicada"),className:"rounded-full border border-border px-3 py-1 text-xs text-text-muted transition hover:border-nikufra hover:text-nikufra",children:"Mover para alternativa"}),i.jsx("button",{type:"button",onClick:()=>l(u,"Famlias coladas"),className:"rounded-full border border-border px-3 py-1 text-xs text-text-muted transition hover:border-nikufra hover:text-nikufra",children:"Colar famlias"}),i.jsx("button",{type:"button",onClick:()=>l(u,"Preventiva agendada"),className:"rounded-full border border-border px-3 py-1 text-xs text-text-muted transition hover:border-nikufra hover:text-nikufra",children:"Agendar preventiva 20 min"})]})}],data:o.top_losses})]})]})},Pae=()=>i.jsx("div",{className:"space-y-6",children:i.jsx(kae,{})}),Cae={alto:"from-[#ff4d6d]/20 to-[#ff4d6d]/5 text-danger",medio:"from-[#ffb347]/20 to-[#ffb347]/5 text-warning",baixo:"from-[#45ffc1]/20 to-[#45ffc1]/5 text-nikufra"},Eae=()=>{const e=Mp(),{data:t,isLoading:r,error:n}=xe({queryKey:["suggestions","resumo"],queryFn:async()=>(await Kn.get("/suggestions/",{params:{mode:"resumo"}})).data,staleTime:3e4}),a=O.useMemo(()=>t?.items??[],[t]),s=t?.detail;return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"IA operacional"}),i.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Sugestes Inteligentes"}),i.jsx("p",{className:"mt-2 max-w-3xl text-sm text-text-muted",children:"Recomendaes geradas automaticamente com base nos dados importados. Cada ao inclui racional tcnico, impacto previsto e dados de suporte para ativar simulaes What-If."})]}),i.jsx("button",{onClick:()=>e("/whatif"),className:"rounded-2xl border border-nikufra bg-nikufra/10 px-4 py-2 text-sm font-semibold text-nikufra transition hover:bg-nikufra hover:text-background",children:"Abrir simulaes What-If"})]}),r&&i.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((o,l)=>i.jsx(no,{height:280,baseColor:"#121212",highlightColor:"#1c1c1c"},l))}),(n||s)&&i.jsx("div",{className:"rounded-2xl border border-warning/40 bg-warning/10 p-4 text-sm text-warning",children:s??n?.message??"No foi possvel carregar as sugestes."}),!r&&!n&&!s&&a.length===0&&i.jsx("div",{className:"rounded-2xl border border-border bg-surface p-8 text-center text-text-muted",children:"Ainda no existem sugestes. Carregue os ficheiros de produo e stocks para ativar o motor de recomendaes."}),i.jsx(pt,{children:i.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:a.map(o=>i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"},className:`relative overflow-hidden rounded-2xl border border-border bg-gradient-to-br ${Cae[o.impact_level]} p-6 shadow-[0_0_32px_rgba(69,255,193,0.1)]`,children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(69,255,193,0.18),transparent_55%)]"}),i.jsxs("div",{className:"relative flex h-full flex-col gap-4",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("span",{className:"text-3xl drop-shadow-[0_0_15px_rgba(69,255,193,0.3)]",children:o.icon}),i.jsxs("span",{className:"rounded-full bg-black/40 px-3 py-1 text-xs font-semibold uppercase",children:["Impacto ",o.impact_level]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:o.action}),i.jsx("p",{className:"mt-2 text-sm text-text-muted",children:o.explanation})]}),i.jsxs("div",{className:"space-y-2 text-sm text-text-primary",children:[i.jsxs("p",{className:"flex items-center justify-between rounded-xl border border-border/60 bg-black/30 px-4 py-2",children:[i.jsx("span",{className:"text-text-muted",children:"Impacto"}),i.jsx("span",{className:"font-semibold text-nikufra",children:o.impact})]}),i.jsxs("p",{className:"flex items-center justify-between rounded-xl border border-border/60 bg-black/30 px-4 py-2",children:[i.jsx("span",{className:"text-text-muted",children:"Ganho estimado"}),i.jsx("span",{className:"font-semibold text-nikufra",children:o.gain})]})]}),i.jsxs("div",{className:"mt-auto space-y-3 text-xs text-text-muted",children:[i.jsxs("details",{className:"group rounded-2xl border border-border/60 bg-black/30 p-4 transition hover:border-nikufra/60",children:[i.jsxs("summary",{className:"flex cursor-pointer items-center justify-between text-sm font-semibold text-text-primary",children:["Porqu sugeri isto?",i.jsx("span",{className:"text-nikufra",children:""})]}),i.jsx("div",{className:"mt-3 space-y-3 text-sm leading-relaxed text-text-muted",children:i.jsx(Qp,{remarkPlugins:[Xp],className:"prose prose-invert prose-sm max-w-none",children:o.reasoning_markdown})})]}),(o.dados_tecnicos||o.data_points)&&i.jsxs("details",{className:"group rounded-2xl border border-border/60 bg-black/30 p-4 transition hover:border-nikufra/60",children:[i.jsxs("summary",{className:"flex cursor-pointer items-center justify-between text-sm font-semibold text-text-primary",children:["Dados tcnicos",i.jsx("span",{className:"text-nikufra",children:""})]}),i.jsx("div",{className:"mt-3",children:i.jsx("pre",{className:"max-h-48 overflow-auto rounded-xl bg-background/60 p-3 text-[11px]",children:JSON.stringify(o.dados_tecnicos||o.data_points,null,2)})})]})]}),i.jsxs("button",{onClick:()=>e("/whatif",{state:{suggestionId:o.id}}),className:"inline-flex items-center justify-center gap-2 rounded-2xl border border-nikufra bg-nikufra/10 px-4 py-2 text-sm font-semibold text-nikufra transition hover:bg-nikufra hover:text-background",children:["Simular What-If",i.jsx("span",{children:""})]})]})]},o.id))})})]})},Oae=()=>i.jsx("div",{className:"space-y-6",children:i.jsx(Eae,{})}),a_="http://127.0.0.1:8000";async function Tae(){const e=await fetch(`${a_}/digital-twin/dashboard`);if(!e.ok)throw new Error("Failed to fetch dashboard");return e.json()}async function Aae(e){const t=await fetch(`${a_}/digital-twin/machine/${e}`);if(!t.ok)throw new Error("Failed to fetch machine detail");return t.json()}async function Mae(){const e=await fetch(`${a_}/digital-twin/adjust-plan`,{method:"POST"});if(!e.ok)throw new Error("Failed to adjust plan");return e.json()}const JF=({status:e})=>{const t={HEALTHY:{bg:"bg-emerald-500/20",text:"text-emerald-400",icon:ut},DEGRADED:{bg:"bg-amber-500/20",text:"text-amber-400",icon:Xn},WARNING:{bg:"bg-orange-500/20",text:"text-orange-400",icon:Te},CRITICAL:{bg:"bg-red-500/20",text:"text-red-400",icon:Te}}[e]||{bg:"bg-slate-500/20",text:"text-slate-400",icon:vr},r=t.icon;return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${t.bg} ${t.text}`,children:[i.jsx(r,{className:"w-3 h-3"}),e]})},ZF=({value:e,size:t="lg"})=>{const r=Math.round(e*100),n=r>=70?"#10b981":r>=50?"#f59e0b":r>=30?"#f97316":"#ef4444",a=t==="lg"?60:30,s=t==="lg"?8:4,o=2*Math.PI*a,l=o-r/100*o;return i.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[i.jsxs("svg",{width:a*2+s*2,height:a*2+s*2,className:"-rotate-90",children:[i.jsx("circle",{cx:a+s,cy:a+s,r:a,fill:"none",stroke:"currentColor",strokeWidth:s,className:"text-slate-700"}),i.jsx("circle",{cx:a+s,cy:a+s,r:a,fill:"none",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:l,className:"transition-all duration-500"})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsxs("span",{className:`${t==="lg"?"text-2xl":"text-sm"} font-bold text-white`,children:[r,"%"]}),t==="lg"&&i.jsx("span",{className:"text-xs text-slate-400",children:"Health"})]})]})},qh=({icon:e,label:t,value:r,subtext:n,color:a="cyan"})=>i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-700/50 bg-slate-800/50 p-4",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsx("div",{className:`p-2 rounded-lg bg-${a}-500/20`,children:e})}),i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:r}),i.jsx("p",{className:"text-xs text-slate-400",children:t}),n&&i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:n})]})]}),Rae=({machine:e,onClick:t})=>{const r=Math.round(e.current_hi*100);return i.jsxs(de.div,{whileHover:{scale:1.02},onClick:t,className:"cursor-pointer rounded-xl border border-slate-700/50 bg-slate-800/30 p-4 hover:border-cyan-500/50 transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ui,{className:"w-5 h-5 text-cyan-400"}),i.jsx("span",{className:"font-semibold text-white",children:e.machine_id})]}),i.jsx(JF,{status:e.health_status})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Health Index"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all ${r>=70?"bg-emerald-500":r>=50?"bg-amber-500":r>=30?"bg-orange-500":"bg-red-500"}`,style:{width:`${r}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-white",children:[r,"%"]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"RUL"}),i.jsx("p",{className:"text-lg font-bold text-white",children:e.rul_hours<100?`${e.rul_hours.toFixed(0)}h`:`${e.rul_days.toFixed(0)}d`})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-700/50",children:[i.jsxs("span",{className:"text-xs text-slate-500",children:["Confiana: ",(e.confidence*100).toFixed(0),"%"]}),i.jsx(Zr,{className:"w-4 h-4 text-slate-500"})]})]})},Dae=({alert:e})=>i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${e.type==="CRITICAL"?"bg-red-500/10 border border-red-500/30":"bg-orange-500/10 border border-orange-500/30"}`,children:[i.jsx(Te,{className:`w-5 h-5 ${e.type==="CRITICAL"?"text-red-400":"text-orange-400"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:e.machine_id}),i.jsx("p",{className:"text-xs text-slate-400",children:e.message})]}),i.jsx(p$,{className:"w-4 h-4 text-slate-500"})]}),Iae=({machineId:e,onClose:t})=>{const{data:r,isLoading:n}=xe({queryKey:["machine-detail",e],queryFn:()=>Aae(e)});return n?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-slate-800 rounded-2xl p-8",children:i.jsx(De,{className:"w-8 h-8 text-cyan-400 animate-spin"})})}):r?i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:i.jsxs(de.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ui,{className:"w-8 h-8 text-cyan-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r.machine_id}),i.jsx(JF,{status:r.health_status})]})]}),i.jsx(ZF,{value:r.current_hi,size:"sm"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"RUL Estimado"}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[r.rul.mean_hours.toFixed(0),"h"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[" ",r.rul.std_hours.toFixed(0),"h (",r.rul.days.toFixed(0)," dias)"]})]}),i.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Confiana"}),i.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[(r.confidence*100).toFixed(0),"%"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Modelo: ",r.model_used]})]})]}),i.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-6",children:[i.jsx("p",{className:"text-sm font-medium text-white mb-3",children:"Histrico de Health Index"}),i.jsx("div",{className:"h-32 flex items-end gap-1",children:r.history.slice(-30).map((a,s)=>i.jsx("div",{className:"flex-1 rounded-t transition-all",style:{height:`${a.hi*100}%`,backgroundColor:a.hi>=.7?"#10b981":a.hi>=.5?"#f59e0b":a.hi>=.3?"#f97316":"#ef4444",opacity:.5+s/60},title:`HI: ${(a.hi*100).toFixed(0)}%`},s))}),i.jsxs("div",{className:"flex justify-between mt-2",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"30h atrs"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Agora"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:"Recomendaes"}),r.recommendations.map((a,s)=>i.jsxs("div",{className:`p-3 rounded-lg ${a.type==="URGENT"?"bg-red-500/10 border border-red-500/30":a.type==="WARNING"?"bg-orange-500/10 border border-orange-500/30":a.type==="INFO"?"bg-blue-500/10 border border-blue-500/30":"bg-emerald-500/10 border border-emerald-500/30"}`,children:[i.jsx("p",{className:"text-sm font-medium text-white",children:a.title}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a.description})]},s))]}),i.jsx("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Fechar"})]})}):null},$ae=()=>{const e=Nt(),[t,r]=O.useState(null),{data:n,isLoading:a,refetch:s}=xe({queryKey:["digital-twin-dashboard"],queryFn:Tae,refetchInterval:3e4}),o=qe({mutationFn:Mae,onSuccess:()=>{e.invalidateQueries({queryKey:["digital-twin-dashboard"]})}});return a?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(De,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl border border-cyan-500/30",children:i.jsx(E2,{className:"w-6 h-6 text-cyan-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500",children:"Digital Twin"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Sade das Mquinas"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>s(),className:"p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:i.jsx(De,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:()=>o.mutate(),disabled:o.isPending,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white font-medium transition-colors disabled:opacity-50",children:[o.isPending?i.jsx(De,{className:"w-4 h-4 animate-spin"}):i.jsx(zr,{className:"w-4 h-4"}),"Ajustar Plano"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 flex flex-col items-center justify-center p-6 rounded-2xl border border-slate-700/50 bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:[i.jsx(ZF,{value:n.overall_health_score/100}),i.jsx("p",{className:"mt-4 text-lg font-medium text-white",children:"Sade Global da Fbrica"}),i.jsxs("p",{className:"text-sm text-slate-400",children:[n.kpis.total_machines," mquinas monitorizadas"]})]}),i.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(qh,{icon:i.jsx(da,{className:"w-5 h-5 text-emerald-400"}),label:"Saudveis",value:n.machines_summary.healthy,color:"emerald"}),i.jsx(qh,{icon:i.jsx(Xn,{className:"w-5 h-5 text-amber-400"}),label:"Degradadas",value:n.machines_summary.degraded,color:"amber"}),i.jsx(qh,{icon:i.jsx(Te,{className:"w-5 h-5 text-orange-400"}),label:"Em Alerta",value:n.machines_summary.warning,color:"orange"}),i.jsx(qh,{icon:i.jsx(Te,{className:"w-5 h-5 text-red-400"}),label:"Crticas",value:n.machines_summary.critical,color:"red"})]})]}),n.alerts.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4 text-orange-400"}),"Alertas de Manuteno (",n.alerts.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.alerts.map((l,u)=>i.jsx(Dae,{alert:l},u))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(Ui,{className:"w-4 h-4 text-cyan-400"}),"Mquinas Monitorizadas"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.machines.map(l=>i.jsx(Rae,{machine:l,onClick:()=>r(l.machine_id)},l.machine_id))})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-700/50 bg-slate-800/30 p-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-white mb-4 flex items-center gap-2",children:[i.jsx(dr,{className:"w-4 h-4 text-cyan-400"}),"Mtricas de RUL"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-3xl font-bold text-white",children:[n.kpis.avg_rul_hours.toFixed(0),"h"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"RUL Mdio"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-orange-400",children:n.kpis.maintenance_recommended}),i.jsx("p",{className:"text-xs text-slate-400",children:"Manutenes Recomendadas"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:Object.values(n.penalties).filter(l=>l>1).length}),i.jsx("p",{className:"text-xs text-slate-400",children:"Mquinas Penalizadas"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-3xl font-bold text-emerald-400",children:[Math.round(n.machines_summary.healthy/n.machines_summary.total*100),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Taxa de Sade"})]})]})]}),i.jsx(pt,{children:t&&i.jsx(Iae,{machineId:t,onClose:()=>r(null)})})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Te,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Mdulo Digital Twin no disponvel"})]})},wo="http://127.0.0.1:8000";async function Fae(){const e=await fetch(`${wo}/duplios/items?limit=50`);if(!e.ok)throw new Error("Failed to fetch products");return(await e.json()).map(r=>({id:r.id,item_number:r.item_number,description:r.description,active_revision_id:r.active_revision?.id||null,active_revision_label:r.active_revision?.revision_label||"N/A"}))}async function Lae(e){const t=await fetch(`${wo}/digital-twin/product/${e}/conformance/summary`);return t.ok?t.json():{revision_id:e,total_scans:0,in_tolerance:0,out_of_tolerance:0,critical:0,avg_error_score:0,compliance_rate:0}}async function zae(e){const t=await fetch(`${wo}/digital-twin/product/${e}/conformance?limit=20`);return t.ok?t.json():[]}async function qae(e){const t=await fetch(`${wo}/digital-twin/product/${e}/golden-runs?limit=10`);return t.ok?t.json():[]}async function Bae(e){const t=await fetch(`${wo}/digital-twin/product/${e}/suggest-params`);if(!t.ok)throw new Error("Failed to fetch suggestion");return t.json()}async function Uae(e,t,r){const n=await fetch(`${wo}/digital-twin/product/${e}/analyze-scan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scan_id:t,process_params:r,machine_id:"CNC-01"})});if(!n.ok)throw new Error("Failed to analyze scan");return n.json()}async function Vae(e){const t=await fetch(`${wo}/digital-twin/product/${e}/golden-runs/compute`,{method:"POST"});if(!t.ok)throw new Error("Failed to compute golden runs");return t.json()}const eL=({status:e})=>{const r={IN_TOLERANCE:{bg:"bg-emerald-500/20",text:"text-emerald-400",icon:ut},OUT_OF_TOLERANCE:{bg:"bg-amber-500/20",text:"text-amber-400",icon:Te},CRITICAL:{bg:"bg-red-500/20",text:"text-red-400",icon:Te}}[e]||{bg:"bg-slate-500/20",text:"text-slate-400",icon:ut},n=r.icon,a=e==="IN_TOLERANCE"?"Conforme":e==="OUT_OF_TOLERANCE"?"Fora Tol.":"Crtico";return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r.bg} ${r.text}`,children:[i.jsx(n,{className:"w-3 h-3"}),a]})},tL=({score:e,label:t})=>{const r=Math.max(0,100-e),n=r>=80?"#10b981":r>=60?"#f59e0b":r>=40?"#f97316":"#ef4444";return i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[i.jsxs("svg",{viewBox:"0 0 36 36",className:"w-24 h-24 transform -rotate-90",children:[i.jsx("path",{d:`M18 2.0845
              a 15.9155 15.9155 0 0 1 0 31.831
              a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#1e293b",strokeWidth:"3"}),i.jsx("path",{d:`M18 2.0845
              a 15.9155 15.9155 0 0 1 0 31.831
              a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:n,strokeWidth:"3",strokeDasharray:`${r}, 100`,strokeLinecap:"round"})]}),i.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:i.jsxs("span",{className:"text-2xl font-bold text-white",children:[r.toFixed(0),"%"]})})]}),i.jsx("p",{className:"text-sm text-slate-400 mt-2",children:t})]})},Wae=({product:e,isSelected:t,onClick:r})=>i.jsx(de.div,{whileHover:{scale:1.01},onClick:r,className:`cursor-pointer p-4 rounded-xl border transition-all ${t?"border-cyan-500 bg-cyan-500/10":"border-slate-700/50 bg-slate-800/30 hover:border-cyan-500/50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(uo,{className:`w-5 h-5 ${t?"text-cyan-400":"text-slate-400"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-white truncate",children:e.item_number}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.description||"Sem descrio"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-xs text-cyan-400",children:["Rev. ",e.active_revision_label]})})]})}),Bh=({icon:e,label:t,value:r,color:n="cyan"})=>i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsx("div",{className:`p-2 rounded-lg bg-${n}-500/20 w-fit mb-2`,children:e}),i.jsx("p",{className:"text-2xl font-bold text-white",children:r}),i.jsx("p",{className:"text-xs text-slate-400",children:t})]}),Hae=({snapshot:e})=>{const[t,r]=O.useState(!1);return i.jsxs("div",{className:"border border-slate-700/50 rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-slate-800/50 transition",onClick:()=>r(!t),children:[i.jsx(eL,{status:e.conformity_status}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-white",children:e.scan_id}),i.jsx("p",{className:"text-xs text-slate-500",children:new Date(e.created_at).toLocaleString("pt-PT")})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:[(100-e.scalar_error_score).toFixed(0),"%"]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Qualidade"})]}),i.jsx(Zr,{className:`w-4 h-4 text-slate-400 transition-transform ${t?"rotate-90":""}`})]}),i.jsx(pt,{children:t&&e.explanation&&i.jsx(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700/50 bg-slate-900/50",children:i.jsxs("div",{className:"p-3 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Max Dev"}),i.jsxs("p",{className:"text-white",children:[e.max_dev.toFixed(3)," mm"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Mean Dev"}),i.jsxs("p",{className:"text-white",children:[e.mean_dev.toFixed(3)," mm"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"RMS Dev"}),i.jsxs("p",{className:"text-white",children:[e.rms_dev.toFixed(3)," mm"]})]})]}),e.explanation.probable_causes.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Causas Provveis"}),e.explanation.probable_causes.map((n,a)=>i.jsxs("div",{className:"flex items-center gap-2 text-xs mb-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:n.impact>.6?"#ef4444":n.impact>.3?"#f59e0b":"#10b981"}}),i.jsx("span",{className:"text-white",children:n.parameter}),i.jsxs("span",{className:"text-slate-500",children:["(",(n.impact*100).toFixed(0),"%)"]})]},a))]}),e.explanation.recommendations.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Recomendaes"}),e.explanation.recommendations.map((n,a)=>i.jsxs("p",{className:"text-xs text-cyan-400",children:[" ",n]},a))]})]})})})]})},Kae=({revisionId:e,onClose:t,onSuccess:r})=>{const[n,a]=O.useState(`SCAN-${Date.now()}`),[s,o]=O.useState({feed_rate:100,spindle_speed:3e3,depth_of_cut:.5,coolant_flow:10}),[l,u]=O.useState(null),d=qe({mutationFn:()=>Uae(e,n,s),onSuccess:h=>{u(h),r()}});return i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:i.jsxs(de.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 rounded-2xl p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",onClick:h=>h.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(km,{className:"w-6 h-6 text-cyan-400"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:"Analisar Scan"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg transition",children:i.jsx(va,{className:"w-5 h-5 text-slate-400"})})]}),l?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(tL,{score:l.scalar_error_score,label:"Qualidade"})}),i.jsx("div",{className:"flex justify-center",children:i.jsx(eL,{status:l.conformity_status})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-lg font-bold text-white",children:l.max_dev.toFixed(3)}),i.jsx("p",{className:"text-xs text-slate-500",children:"Max (mm)"})]}),i.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-lg font-bold text-white",children:l.mean_dev.toFixed(3)}),i.jsx("p",{className:"text-xs text-slate-500",children:"Mdia (mm)"})]}),i.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-lg font-bold text-white",children:l.rms_dev.toFixed(3)}),i.jsx("p",{className:"text-xs text-slate-500",children:"RMS (mm)"})]})]}),l.probable_causes.length>0&&i.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm font-medium text-white mb-2",children:" Causas Provveis (XAI)"}),l.probable_causes.map((h,m)=>i.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[i.jsx(Xn,{className:"w-4 h-4 text-amber-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-white",children:h.parameter}),i.jsx("p",{className:"text-xs text-slate-400",children:h.action})]}),i.jsxs("span",{className:"ml-auto text-xs text-amber-400",children:[(h.impact*100).toFixed(0),"%"]})]},m))]}),l.recommendations.length>0&&i.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm font-medium text-cyan-400 mb-2",children:" Recomendaes"}),l.recommendations.map((h,m)=>i.jsxs("p",{className:"text-sm text-slate-300",children:[" ",h]},m))]}),i.jsx("button",{onClick:t,className:"w-full py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition",children:"Fechar"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:"ID do Scan"}),i.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:border-cyan-500 focus:outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-400 block mb-2",children:"Parmetros de Processo"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(s).map(([h,m])=>i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:h.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())}),i.jsx("input",{type:"number",value:m,onChange:p=>o(g=>({...g,[h]:parseFloat(p.target.value)||0})),className:"w-full px-2 py-1.5 bg-slate-900 border border-slate-700 rounded text-white text-sm focus:border-cyan-500 focus:outline-none"})]},h))})]}),i.jsx("button",{onClick:()=>d.mutate(),disabled:d.isPending,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-semibold rounded-lg transition disabled:opacity-50",children:d.isPending?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx(De,{className:"w-4 h-4 animate-spin"}),"A analisar..."]}):i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx(km,{className:"w-4 h-4"}),"Executar Anlise"]})})]})]})})},Gae=()=>{const e=Nt(),[t,r]=O.useState(null),[n,a]=O.useState(!1),{data:s,isLoading:o}=xe({queryKey:["dt-products"],queryFn:Fae}),l=t?.active_revision_id,{data:u,isLoading:d}=xe({queryKey:["conformance-summary",l],queryFn:()=>Lae(l),enabled:!!l}),{data:h}=xe({queryKey:["conformance-history",l],queryFn:()=>zae(l),enabled:!!l}),{data:m}=xe({queryKey:["golden-runs",l],queryFn:()=>qae(l),enabled:!!l}),{data:p}=xe({queryKey:["param-suggestion",l],queryFn:()=>Bae(l),enabled:!!l}),g=qe({mutationFn:()=>Vae(l),onSuccess:()=>{e.invalidateQueries({queryKey:["golden-runs",l]})}}),y=()=>{e.invalidateQueries({queryKey:["conformance-summary",l]}),e.invalidateQueries({queryKey:["conformance-history",l]})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl border border-purple-500/30",children:i.jsx(br,{className:"w-6 h-6 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500",children:"Digital Twin"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Conformidade de Produto"})]})]}),t&&l&&i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white font-medium transition",children:[i.jsx(km,{className:"w-4 h-4"}),"Analisar Scan"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[i.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(uo,{className:"w-4 h-4 text-purple-400"}),"Produtos"]}),i.jsxs("span",{className:"text-xs text-slate-500",children:[s?.length||0," items"]})]}),i.jsx("div",{className:"space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto pr-2",children:o?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(De,{className:"w-6 h-6 text-purple-400 animate-spin"})}):s?.length===0?i.jsx("p",{className:"text-sm text-slate-400 text-center py-8",children:"Nenhum produto encontrado"}):s?.map(v=>i.jsx(Wae,{product:v,isSelected:t?.id===v.id,onClick:()=>r(v)},v.id))})]}),i.jsx("div",{className:"lg:col-span-9",children:t?l?i.jsxs("div",{className:"space-y-6",children:[d?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(De,{className:"w-6 h-6 text-purple-400 animate-spin"})}):u&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsx("div",{className:"md:col-span-1",children:i.jsx(tL,{score:u.avg_error_score,label:"Qualidade Mdia"})}),i.jsx(Bh,{icon:i.jsx(km,{className:"w-5 h-5 text-cyan-400"}),label:"Total Scans",value:u.total_scans}),i.jsx(Bh,{icon:i.jsx(ut,{className:"w-5 h-5 text-emerald-400"}),label:"Conformes",value:u.in_tolerance,color:"emerald"}),i.jsx(Bh,{icon:i.jsx(Te,{className:"w-5 h-5 text-amber-400"}),label:"Fora Tolerncia",value:u.out_of_tolerance,color:"amber"}),i.jsx(Bh,{icon:i.jsx(Te,{className:"w-5 h-5 text-red-400"}),label:"Crticos",value:u.critical,color:"red"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(dr,{className:"w-4 h-4 text-purple-400"}),"Histrico de Conformidade"]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:h?.length===0?i.jsx("p",{className:"text-sm text-slate-400 text-center py-8",children:"Nenhum scan registado"}):h?.map(v=>i.jsx(Hae,{snapshot:v},v.id))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(Hs,{className:"w-4 h-4 text-amber-400"}),"Golden Runs"]}),i.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"text-xs text-cyan-400 hover:text-cyan-300 transition",children:g.isPending?"A calcular...":"Recalcular"})]}),i.jsx("div",{className:"space-y-2",children:m?.length===0?i.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Sem golden runs registados"}):m?.slice(0,3).map(v=>i.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-white",children:v.machine_id||"Mquina N/A"}),i.jsxs("span",{className:"text-sm font-bold text-amber-400",children:[v.score.toFixed(0),"%"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(v.process_params).slice(0,4).map(([b,w])=>i.jsxs("span",{className:"text-xs bg-slate-800 px-2 py-1 rounded text-slate-300",children:[b,": ",typeof w=="number"?w.toFixed(1):w]},b))})]},v.id))})]}),p&&p.based_on_golden_runs>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(Vp,{className:"w-4 h-4 text-cyan-400"}),"Parmetros Sugeridos"]}),i.jsxs("div",{className:"p-4 rounded-lg bg-cyan-500/10 border border-cyan-500/30",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-sm text-slate-300",children:["Baseado em ",p.based_on_golden_runs," golden runs"]}),i.jsxs("span",{className:"text-sm font-bold text-cyan-400",children:[p.expected_quality_score.toFixed(0),"% esperado"]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(p.suggested_params).map(([v,b])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:v.replace(/_/g," ")}),i.jsx("span",{className:"text-white font-medium",children:typeof b=="number"?b.toFixed(1):b})]},v))}),i.jsxs("button",{className:"w-full mt-3 py-2 bg-cyan-600 hover:bg-cyan-500 text-white text-sm font-medium rounded-lg transition flex items-center justify-center gap-2",children:[i.jsx(GK,{className:"w-4 h-4"}),"Aplicar ao Processo"]})]})]})]})]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(Te,{className:"w-12 h-12 text-amber-400 mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Produto sem reviso ativa"})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(C2,{className:"w-12 h-12 text-slate-600 mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Selecione um produto para ver a conformidade"})]})})]}),i.jsx(pt,{children:n&&l&&i.jsx(Kae,{revisionId:l,onClose:()=>a(!1),onSuccess:y})})]})},Yae=()=>{const[e,t]=O.useState("machines");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2 p-1 bg-slate-800/50 rounded-xl w-fit",children:[i.jsxs("button",{onClick:()=>t("machines"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="machines"?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[i.jsx(Ui,{className:"w-4 h-4"}),"Mquinas (PdM-IPS)"]}),i.jsxs("button",{onClick:()=>t("products"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${e==="products"?"bg-purple-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[i.jsx(uo,{className:"w-4 h-4"}),"Produtos (XAI-DT)"]})]}),i.jsx(de.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2},children:e==="machines"?i.jsx($ae,{}):i.jsx(Gae,{})},e)]})},Qae=O.lazy(()=>ka(()=>import("./MachinesPanel-Bkw9NfM_.js"),[])),Xae=O.lazy(()=>ka(()=>import("./DataQualityPanel-D39cNfI9.js"),[])),Jae=O.lazy(()=>ka(()=>import("./MILPOptimizationPanel-BjnMbUDh.js"),[])),Zae=O.lazy(()=>ka(()=>import("./PreventionGuardPanel-B8Hc5onx.js"),__vite__mapDeps([0,1]))),ese=O.lazy(()=>ka(()=>import("./SHIDTTrainingPanel-CVWNqs92.js"),__vite__mapDeps([2,3]))),tse=O.lazy(()=>ka(()=>Promise.resolve().then(()=>QNe),void 0)),rse=[{id:"planning",label:"Planeamento",icon:i.jsx(_l,{className:"w-4 h-4"}),description:"Gantt, Timeline, Modos de Planeamento"},{id:"dashboards",label:"Dashboards",icon:i.jsx(dr,{className:"w-4 h-4"}),description:"Heatmaps, OEE, Projees, Relatrios"},{id:"workforce",label:"Colaboradores",icon:i.jsx(Sl,{className:"w-4 h-4"}),description:"Performance, Saturao, Competncias"},{id:"bottlenecks",label:"Gargalos",icon:i.jsx(Te,{className:"w-4 h-4"}),description:"Deteo, Carga, Mitigao"},{id:"suggestions",label:"Sugestes IA",icon:i.jsx(td,{className:"w-4 h-4"}),description:"Recomendaes Inteligentes"},{id:"machines",label:"Mquinas",icon:i.jsx(Ui,{className:"w-4 h-4"}),description:"Productive Care, Manuteno, Paragens"},{id:"tools",label:"Ferramentas",icon:i.jsx(Xr,{className:"w-4 h-4"}),description:"Digital Twin, Otimizao, Preveno"}],oO=[{id:"digital-twin",label:"Digital Twin"},{id:"data-quality",label:"Qualidade Dados"},{id:"milp",label:"Otimizao MILP"},{id:"prevention",label:"Prevention Guard"},{id:"shi-training",label:"SHI-DT Training"},{id:"work-instructions",label:"Instrues de Trabalho"}],al=()=>i.jsx("div",{className:"flex items-center justify-center py-24",children:i.jsx(us,{className:"w-8 h-8 text-cyan-400 animate-spin"})}),nse=()=>{const[e,t]=O.useState("planning"),[r,n]=O.useState("digital-twin"),[a,s]=O.useState(!1);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl border border-cyan-500/30",children:i.jsx($i,{className:"w-6 h-6 text-cyan-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500 font-medium",children:"Prodplan"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Cockpit de Produo"})]})]}),i.jsx("p",{className:"max-w-3xl text-sm text-slate-400 ml-14",children:"Gesto integrada de planeamento, mquinas, colaboradores e otimizao de produo."})]}),i.jsx("div",{className:"border-b border-slate-700/50",children:i.jsx("nav",{className:"flex gap-1 -mb-px overflow-x-auto pb-px scrollbar-thin scrollbar-thumb-slate-700",children:rse.map(o=>i.jsx("div",{className:"relative",children:o.id==="tools"?i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>{e==="tools"?s(!a):(t("tools"),s(!0))},className:`
                      group flex items-center gap-2 px-4 py-3 text-sm font-medium 
                      border-b-2 transition-all duration-200 whitespace-nowrap
                      ${e==="tools"?"border-cyan-500 text-cyan-400":"border-transparent text-slate-400 hover:text-white hover:border-slate-600"}
                    `,title:o.description,children:[i.jsx("span",{className:`${e==="tools"?"text-cyan-400":"text-slate-500 group-hover:text-slate-300"}`,children:o.icon}),o.label,i.jsx(hc,{className:`w-3 h-3 transition-transform ${a&&e==="tools"?"rotate-180":""}`})]}),a&&e==="tools"&&i.jsx(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full left-0 mt-1 z-50 bg-slate-800 rounded-lg border border-slate-700 shadow-xl py-1 min-w-[180px]",children:oO.map(l=>i.jsx("button",{onClick:()=>{n(l.id),s(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${r===l.id?"bg-cyan-500/20 text-cyan-400":"text-slate-300 hover:bg-slate-700"}`,children:l.label},l.id))})]}):i.jsxs("button",{onClick:()=>{t(o.id),s(!1)},className:`
                    group flex items-center gap-2 px-4 py-3 text-sm font-medium 
                    border-b-2 transition-all duration-200 whitespace-nowrap
                    ${e===o.id?"border-cyan-500 text-cyan-400":"border-transparent text-slate-400 hover:text-white hover:border-slate-600"}
                  `,title:o.description,children:[i.jsx("span",{className:`${e===o.id?"text-cyan-400":"text-slate-500 group-hover:text-slate-300"}`,children:o.icon}),o.label,o.id==="machines"&&i.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold bg-purple-500/20 text-purple-400 rounded",children:"NOVO"})]})},o.id))})}),e==="tools"&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"Ferramenta:"}),i.jsx("span",{className:"text-cyan-400 font-medium",children:oO.find(o=>o.id===r)?.label})]}),i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>s(!1),children:[e==="planning"&&i.jsx(Gie,{}),e==="dashboards"&&i.jsx(dae,{}),e==="workforce"&&i.jsx(bae,{}),e==="bottlenecks"&&i.jsx(Pae,{}),e==="suggestions"&&i.jsx(Oae,{}),e==="machines"&&i.jsx(O.Suspense,{fallback:i.jsx(al,{}),children:i.jsx(Qae,{})}),e==="tools"&&i.jsxs(i.Fragment,{children:[r==="digital-twin"&&i.jsx(Yae,{}),r==="data-quality"&&i.jsx(O.Suspense,{fallback:i.jsx(al,{}),children:i.jsx(Xae,{})}),r==="milp"&&i.jsx(O.Suspense,{fallback:i.jsx(al,{}),children:i.jsx(Jae,{})}),r==="prevention"&&i.jsx(O.Suspense,{fallback:i.jsx(al,{}),children:i.jsx(Zae,{})}),r==="shi-training"&&i.jsx(O.Suspense,{fallback:i.jsx(al,{}),children:i.jsx(ese,{})}),r==="work-instructions"&&i.jsx(O.Suspense,{fallback:i.jsx(al,{}),children:i.jsx(tse,{})})]})]},e+(e==="tools"?r:""))]})},ise=O.lazy(()=>ka(()=>import("./MRPForecastPanel-DCnfNu59.js"),__vite__mapDeps([4,3])));O.lazy(()=>ka(()=>import("./WorkInstructionsAdmin-MnSbQzdQ.js"),__vite__mapDeps([5,1])));async function ase(e){const t=e?`${Ce}/inventory/stock?warehouse_id=${e}`:`${Ce}/inventory/stock`,r=await fetch(t);if(!r.ok)throw new Error("Erro ao carregar stock");return r.json()}async function sse(e){const t=await fetch(`${Ce}/inventory/forecast/${e}?horizon_days=90`);if(!t.ok)throw new Error("Erro ao carregar forecast");return t.json()}async function ose(e){const t=await fetch(`${Ce}/inventory/rop/${e}`);if(!t.ok)throw new Error("Erro ao carregar ROP");return t.json()}async function lse(){const e=await fetch(`${Ce}/inventory/suggestions`);if(!e.ok)throw new Error("Erro ao carregar sugestes");return e.json()}async function cse(e,t){const r=new URLSearchParams;e&&r.append("classe",e),t&&r.append("search",t);const n=await fetch(`${Ce}/inventory/?${r}`);if(!n.ok)throw new Error("Erro ao carregar inventrio");return n.json()}const sl=({title:e,value:t,subtitle:r,icon:n,variant:a="default",trend:s})=>{const o={default:"border-border bg-surface",success:"border-green-500/40 bg-green-500/10",warning:"border-amber-500/40 bg-amber-500/10",danger:"border-red-500/40 bg-red-500/10",info:"border-cyan-500/40 bg-cyan-500/10"};return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-xl border p-4 ${o[a]}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:e}),n]}),i.jsx("p",{className:"text-2xl font-bold text-text-primary",children:t}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r&&i.jsx("p",{className:"text-xs text-text-muted",children:r}),s!==void 0&&i.jsxs("div",{className:`flex items-center text-xs ${s>=0?"text-green-400":"text-red-400"}`,children:[s>=0?i.jsx(ar,{className:"w-3 h-3 mr-1"}):i.jsx(Xn,{className:"w-3 h-3 mr-1"}),Math.abs(s).toFixed(1),"%"]})]})]})},use=({suggestion:e,onSelectSKU:t})=>{const r={HIGH:"border-red-500/40 bg-gradient-to-br from-red-500/10 to-red-900/10",MEDIUM:"border-amber-500/40 bg-gradient-to-br from-amber-500/10 to-amber-900/10",LOW:"border-border bg-surface"},n={BUY:i.jsx(ro,{className:"w-5 h-5 text-cyan-400"}),TRANSFER:i.jsx(Kw,{className:"w-5 h-5 text-purple-400"}),REDUCE:i.jsx(Xn,{className:"w-5 h-5 text-amber-400"}),ALERT:i.jsx(Te,{className:"w-5 h-5 text-red-400"}),RUPTURE_RISK:i.jsx(Te,{className:"w-5 h-5 text-red-400"}),EXCESS_STOCK:i.jsx(wr,{className:"w-5 h-5 text-amber-400"}),PRICE_ALERT:i.jsx(zr,{className:"w-5 h-5 text-yellow-400"})};return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.01},className:`rounded-xl border p-4 transition-shadow hover:shadow-lg ${r[e.priority]||r.LOW}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[n[e.suggestion_type]||i.jsx(wr,{className:"w-5 h-5"}),i.jsx("span",{className:"font-semibold text-text-primary",children:e.title})]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${e.priority==="HIGH"?"bg-red-500/20 text-red-400":e.priority==="MEDIUM"?"bg-amber-500/20 text-amber-400":"bg-border text-text-muted"}`,children:e.priority})]}),i.jsx("p",{className:"text-sm text-text-muted mb-3",children:e.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.quantity>0&&i.jsxs("div",{className:"flex items-center gap-1 text-text-primary",children:[i.jsx(wr,{className:"w-3 h-3"}),i.jsxs("span",{className:"font-semibold",children:[e.quantity.toFixed(0)," un."]})]}),e.risk_level>0&&i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-text-muted",children:"Risco"}),i.jsxs("span",{className:`font-semibold ${e.risk_level>50?"text-red-400":e.risk_level>20?"text-amber-400":"text-green-400"}`,children:[e.risk_level.toFixed(1),"%"]})]}),i.jsx("div",{className:"h-1.5 bg-background rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all ${e.risk_level>50?"bg-red-500":e.risk_level>20?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min(100,e.risk_level)}%`}})})]})]}),t&&i.jsxs("button",{onClick:a=>{a.stopPropagation(),t()},className:"mt-3 w-full rounded-lg bg-nikufra/10 hover:bg-nikufra/20 text-nikufra px-3 py-2 text-xs font-medium transition flex items-center justify-center gap-2",children:[i.jsx(br,{className:"w-3 h-3"}),"Ver detalhes de ",e.sku]})]})},dse=({matrix:e,activeClass:t,onCellClick:r})=>{if(!e)return null;const n={AX:"from-green-500/30 to-green-600/10",AY:"from-green-400/20 to-amber-500/10",AZ:"from-amber-500/20 to-amber-600/10",BX:"from-green-400/20 to-green-500/10",BY:"from-amber-400/20 to-amber-500/10",BZ:"from-amber-500/20 to-red-500/10",CX:"from-amber-400/20 to-amber-500/10",CY:"from-amber-500/20 to-red-400/10",CZ:"from-red-500/30 to-red-600/10"};return i.jsxs("div",{className:"rounded-xl border border-border bg-surface p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-text-primary",children:"Matriz ABC/XYZ"}),i.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Clica para filtrar por classe"})]}),i.jsxs("div",{className:"text-xs text-text-muted",children:[i.jsx("span",{className:"text-green-400",children:""})," Estvel ",i.jsx("span",{className:"text-amber-400",children:""})," Mdio ",i.jsx("span",{className:"text-red-400",children:""})," Voltil"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-center text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2 px-3 text-left text-text-muted text-xs",children:"ABC / XYZ"}),i.jsx("th",{className:"py-2 px-3 text-text-muted text-xs",children:"X (Estvel)"}),i.jsx("th",{className:"py-2 px-3 text-text-muted text-xs",children:"Y (Mdio)"}),i.jsx("th",{className:"py-2 px-3 text-text-muted text-xs",children:"Z (Voltil)"})]})}),i.jsx("tbody",{children:["A","B","C"].map(a=>i.jsxs("tr",{children:[i.jsxs("td",{className:"py-2 px-3 text-left font-semibold text-text-primary",children:[a," (",a==="A"?"Alto Valor":a==="B"?"Mdio Valor":"Baixo Valor",")"]}),["X","Y","Z"].map(s=>{const o=`${a}${s}`,l=t===o,u=e[a]?.[s]??0;return i.jsx("td",{className:"py-2 px-3",children:i.jsx("button",{onClick:()=>r(a,s),className:`w-full rounded-lg px-4 py-3 font-bold transition-all ${l?"bg-nikufra text-white shadow-lg shadow-nikufra/30 scale-105":`bg-gradient-to-br ${n[o]} text-text-primary hover:scale-105 border border-border/50`}`,children:u})},s)})]},a))})]})})]})},fse=()=>{const[e,t]=O.useState(null),[r,n]=O.useState(null),[a,s]=O.useState("realtime"),[o,l]=O.useState([]),[u,d]=O.useState(""),[h,m]=O.useState(""),{data:p,isLoading:g,refetch:y}=xe({queryKey:["inventory-stock",r],queryFn:()=>ase(r||void 0),staleTime:3e4,refetchInterval:6e4}),{data:v,isLoading:b}=xe({queryKey:["inventory-forecast",e],queryFn:()=>sse(e),enabled:!!e,staleTime:6e4}),{data:w,isLoading:S}=xe({queryKey:["inventory-rop",e],queryFn:()=>ose(e),enabled:!!e,staleTime:6e4}),{data:k,isLoading:E}=xe({queryKey:["inventory-suggestions"],queryFn:lse,staleTime:3e4}),{data:P}=xe({queryKey:["inventory-old",u,h],queryFn:()=>cse(u||void 0,h||void 0),staleTime:6e4}),_=p?.stock||[],T=k?.suggestions||[],D=P?.matrix,L=O.useMemo(()=>P?.skus?P.skus.map($=>({sku:String($.sku||$.SKU||""),classe:String($.classe||$.class||""),xyz:String($.xyz||$.XYZ||""),stock_atual:Number($.stock_atual||$.stockAtual||0),ads_180:Number($.ads_180||$.ads||0),cobertura_dias:Number($.cobertura_dias||$.cobertura||0),risco_30d:Number($.risco_30d||$.risco||0)*(Number($.risco_30d||$.risco||0)<=1?100:1),rop:Number($.rop||0),acao:String($.acao||"Monitorizar")})):[],[P?.skus]),M=p?.total_skus||L.length||0,F=_.reduce(($,Q)=>$+Q.quantity_available,0),q=T.filter($=>$.priority==="HIGH").length,H=L.length>0?L.reduce(($,Q)=>$+Q.cobertura_dias,0)/L.length:_.length>0?30:0,K=O.useMemo(()=>{let $=_;return h&&($=$.filter(Q=>Q.sku.toLowerCase().includes(h.toLowerCase()))),$},[_,h]),W=($,Q)=>{const Y=`${$}${Q}`;d(X=>X===Y?"":Y)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(to,{className:"w-6 h-6 text-nikufra"}),i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"SmartInventory"})]}),i.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Digital Twin de Inventrio"}),i.jsx("p",{className:"max-w-3xl text-sm text-text-muted",children:"Stock em tempo real, matriz ABC/XYZ, forecasting avanado (ARIMA + SNR), ROP dinmico e sugestes inteligentes."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>y(),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-border bg-surface hover:bg-background text-text-muted hover:text-text-primary transition",children:[i.jsx(De,{className:"w-4 h-4"}),"Atualizar"]}),i.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-border bg-surface hover:bg-background text-text-muted hover:text-text-primary transition",children:[i.jsx(Gw,{className:"w-4 h-4"}),"Exportar"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[i.jsx(sl,{title:"Total SKUs",value:M,icon:i.jsx(wr,{className:"w-5 h-5 text-cyan-400"})}),i.jsx(sl,{title:"Stock Disponvel",value:F.toLocaleString("pt-PT"),subtitle:"unidades",icon:i.jsx(dr,{className:"w-5 h-5 text-blue-400"})}),i.jsx(sl,{title:"Cobertura Mdia",value:`${H.toFixed(0)}d`,subtitle:"dias de stock",icon:i.jsx(gi,{className:"w-5 h-5 text-green-400"})}),i.jsx(sl,{title:"Alertas Crticos",value:q,subtitle:"requerem ao",icon:i.jsx(Te,{className:"w-5 h-5 text-red-400"}),variant:q>0?"danger":"default"}),i.jsx(sl,{title:"Sugestes",value:T.length,subtitle:"aes pendentes",icon:i.jsx(vr,{className:"w-5 h-5 text-amber-400"}),variant:T.length>5?"warning":"default"}),i.jsx(sl,{title:"Armazns",value:p?.warehouses?.length||0,subtitle:"ativos",icon:i.jsx(IC,{className:"w-5 h-5 text-purple-400"})})]}),i.jsx("div",{className:"flex items-center gap-2 p-1 rounded-lg bg-surface border border-border w-fit overflow-x-auto",children:[{id:"realtime",label:"Stock & Distribuio",icon:i.jsx(vr,{className:"w-4 h-4"})},{id:"matrix",label:"Matriz ABC/XYZ",icon:i.jsx(dr,{className:"w-4 h-4"})},{id:"forecast",label:"Forecast & ROP",icon:i.jsx($u,{className:"w-4 h-4"})},{id:"mrp-complete",label:"MRP Completo",icon:i.jsx(to,{className:"w-4 h-4"})},{id:"bom-explosion",label:"BOM & Estrutura",icon:i.jsx(fn,{className:"w-4 h-4"})},{id:"operational-data",label:"Dados Operacionais",icon:i.jsx(vr,{className:"w-4 h-4"})}].map($=>i.jsxs("button",{onClick:()=>s($.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition ${a===$.id?"bg-nikufra text-white":"text-text-muted hover:text-text-primary"}`,children:[$.icon,$.label]},$.id))}),i.jsxs(pt,{mode:"wait",children:[a==="realtime"&&i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid gap-6 lg:grid-cols-3",children:[p?.warehouses&&p.warehouses.length>1&&i.jsxs("div",{className:"lg:col-span-3 rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary mb-4 flex items-center gap-2",children:[i.jsx(IC,{className:"w-5 h-5 text-nikufra"}),"Distribuio por Armazm"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:p.warehouses.map($=>{const Q=_.filter(B=>B.warehouse_id===$),Y=Q.reduce((B,V)=>B+V.quantity_available,0),X=new Set(Q.map(B=>B.sku)).size,R=r===$;return i.jsxs("button",{onClick:()=>n(R?null:$),className:`rounded-xl border p-4 text-left transition-all ${R?"border-nikufra bg-nikufra/10 shadow-lg shadow-nikufra/20":"border-border bg-background hover:border-nikufra/50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold text-text-primary",children:$}),i.jsxs("span",{className:"text-xs text-text-muted bg-surface px-2 py-1 rounded",children:[X," SKUs"]})]}),i.jsx("p",{className:"text-3xl font-bold text-nikufra",children:Y.toLocaleString("pt-PT")}),i.jsx("p",{className:"text-xs text-text-muted mt-1",children:"unidades disponveis"})]},$)})})]}),i.jsxs("div",{className:"lg:col-span-2 rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(wr,{className:"w-5 h-5 text-nikufra"}),"Stock em Tempo Real"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(qK,{className:"w-4 h-4 text-text-muted absolute left-3 top-1/2 -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Filtrar SKU...",value:h,onChange:$=>m($.target.value),className:"pl-9 pr-3 py-2 rounded-lg border border-border bg-background text-sm text-text-primary w-40"})]}),p?.warehouses&&p.warehouses.length>0&&i.jsxs("select",{value:r||"",onChange:$=>n($.target.value||null),className:"rounded-lg border border-border bg-background px-3 py-2 text-sm text-text-primary",children:[i.jsx("option",{value:"",children:"Todos Armazns"}),p.warehouses.map($=>i.jsx("option",{value:$,children:$},$))]})]})]}),g?i.jsxs("div",{className:"text-center py-12 text-text-muted",children:[i.jsx(De,{className:"w-8 h-8 mx-auto mb-2 animate-spin"}),"A carregar stock..."]}):K.length===0?i.jsxs("div",{className:"text-center py-12 text-text-muted",children:[i.jsx(wr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Sem dados de stock"]}):i.jsxs("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"sticky top-0 bg-surface",children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"text-left py-3 px-2 text-text-muted font-medium",children:"SKU"}),i.jsx("th",{className:"text-left py-3 px-2 text-text-muted font-medium",children:"Armazm"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted font-medium",children:"On Hand"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted font-medium",children:"Disponvel"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted font-medium",children:"Comprometido"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted font-medium",children:"Em Trnsito"}),i.jsx("th",{className:"text-center py-3 px-2 text-text-muted font-medium",children:"Status"})]})}),i.jsx("tbody",{children:K.slice(0,50).map(($,Q)=>{const Y=e===$.sku,X=$.quantity_available<50;return i.jsxs("tr",{className:`border-b border-border/30 hover:bg-background/50 cursor-pointer transition ${Y?"bg-nikufra/10":""}`,onClick:()=>t($.sku),children:[i.jsx("td",{className:"py-3 px-2 text-text-primary font-medium",children:$.sku}),i.jsx("td",{className:"py-3 px-2 text-text-muted",children:$.warehouse_id}),i.jsx("td",{className:"py-3 px-2 text-right text-text-primary",children:$.quantity_on_hand.toLocaleString("pt-PT")}),i.jsx("td",{className:`py-3 px-2 text-right font-medium ${X?"text-amber-400":"text-text-primary"}`,children:$.quantity_available.toLocaleString("pt-PT")}),i.jsx("td",{className:"py-3 px-2 text-right text-text-muted",children:$.quantity_committed.toLocaleString("pt-PT")}),i.jsx("td",{className:"py-3 px-2 text-right text-cyan-400",children:$.quantity_in_transit.toLocaleString("pt-PT")}),i.jsx("td",{className:"py-3 px-2 text-center",children:X?i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-amber-500/20 text-amber-400",children:"Baixo"}):i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500/20 text-green-400",children:"OK"})})]},`${$.sku}-${$.warehouse_id}-${Q}`)})})]}),K.length>50&&i.jsxs("p",{className:"text-xs text-text-muted text-center py-2",children:["Mostrando 50 de ",K.length," itens"]})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(to,{className:"w-5 h-5 text-nikufra"}),"Sugestes IA"]}),T.length>0&&i.jsx("div",{className:"flex gap-1",children:i.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-red-500/20 text-red-400",children:[T.filter($=>$.priority==="HIGH").length," Alta"]})})]}),E?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar..."}):T.length===0?i.jsxs("div",{className:"text-center py-8 text-text-muted",children:[i.jsx(vr,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),"Nenhuma sugesto no momento"]}):i.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:T.slice(0,10).map(($,Q)=>i.jsx(use,{suggestion:$,onSelectSKU:()=>{t($.sku),s("forecast")}},Q))})]})]},"realtime"),a==="matrix"&&i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[i.jsx(dse,{matrix:D,activeClass:u,onCellClick:W}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary",children:["SKUs por Classe ",u&&i.jsxs("span",{className:"text-nikufra",children:["(",u,")"]})]}),i.jsx("input",{type:"text",placeholder:"Pesquisar SKU...",value:h,onChange:$=>m($.target.value),className:"px-3 py-2 rounded-lg border border-border bg-background text-sm text-text-primary"})]}),L.length===0?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"Carregue dados Excel para ver a classificao ABC/XYZ"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"SKU"}),i.jsx("th",{className:"text-center py-3 px-2 text-text-muted",children:"Classe"}),i.jsx("th",{className:"text-center py-3 px-2 text-text-muted",children:"XYZ"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Stock Atual"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"ADS-180"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Cobertura"}),i.jsx("th",{className:"text-center py-3 px-2 text-text-muted",children:"Risco 30d"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"ROP"}),i.jsx("th",{className:"text-center py-3 px-2 text-text-muted",children:"Ao"})]})}),i.jsx("tbody",{children:L.filter($=>!u||`${$.classe}${$.xyz}`===u).filter($=>!h||$.sku.toLowerCase().includes(h.toLowerCase())).slice(0,50).map(($,Q)=>i.jsxs("tr",{className:"border-b border-border/30 hover:bg-background/50 cursor-pointer",onClick:()=>{t($.sku),s("forecast")},children:[i.jsx("td",{className:"py-3 px-2 text-text-primary font-medium",children:$.sku}),i.jsx("td",{className:"py-3 px-2 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$.classe==="A"?"bg-green-500/20 text-green-400":$.classe==="B"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:$.classe})}),i.jsx("td",{className:"py-3 px-2 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$.xyz==="X"?"bg-cyan-500/20 text-cyan-400":$.xyz==="Y"?"bg-purple-500/20 text-purple-400":"bg-orange-500/20 text-orange-400"}`,children:$.xyz})}),i.jsx("td",{className:"py-3 px-2 text-right text-text-primary",children:$.stock_atual.toLocaleString("pt-PT")}),i.jsx("td",{className:"py-3 px-2 text-right text-text-muted",children:$.ads_180.toFixed(1)}),i.jsxs("td",{className:"py-3 px-2 text-right text-text-primary",children:[$.cobertura_dias.toFixed(0),"d"]}),i.jsx("td",{className:"py-3 px-2 text-center",children:i.jsxs("span",{className:`px-2 py-1 rounded text-xs font-semibold ${$.risco_30d>50?"bg-red-500/20 text-red-400":$.risco_30d>25?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:[$.risco_30d.toFixed(1),"%"]})}),i.jsx("td",{className:"py-3 px-2 text-right text-text-primary",children:$.rop.toLocaleString("pt-PT")}),i.jsx("td",{className:"py-3 px-2 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$.acao==="Comprar agora"?"bg-red-500/20 text-red-400":$.acao==="Excesso"?"bg-amber-500/20 text-amber-400":"bg-nikufra/20 text-nikufra"}`,children:$.acao})})]},Q))})]})})]})]},"matrix"),a==="forecast"&&i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid gap-6 lg:grid-cols-2",children:[i.jsx("div",{className:"lg:col-span-2 rounded-xl border border-border bg-surface p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"SKU Selecionado:"}),i.jsxs("select",{value:e||"",onChange:$=>t($.target.value||null),className:"flex-1 rounded-lg border border-border bg-background px-3 py-2 text-text-primary",children:[i.jsx("option",{value:"",children:"Selecionar SKU..."}),_.map($=>$.sku).filter(($,Q,Y)=>Y.indexOf($)===Q).map($=>i.jsx("option",{value:$,children:$},$))]})]})}),e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx($u,{className:"w-5 h-5 text-nikufra"}),"Forecast de Demanda"]}),v&&i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${v.snr_class==="HIGH"?"bg-green-500/20 text-green-400":v.snr_class==="MEDIUM"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:[v.model_used,"  SNR: ",v.snr.toFixed(2)]})]}),b?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar forecast..."}):v?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-background p-4",children:[i.jsx("p",{className:"text-xs text-text-muted mb-1",children:"Mdia Prevista (90d)"}),i.jsx("p",{className:"text-2xl font-bold text-text-primary",children:(Object.values(v.forecast).reduce(($,Q)=>$+Q,0)/Math.max(1,Object.keys(v.forecast).length)).toFixed(1)})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-4",children:[i.jsx("p",{className:"text-xs text-text-muted mb-1",children:"Confiana"}),i.jsxs("p",{className:"text-2xl font-bold text-nikufra",children:[(v.confidence_score*100).toFixed(0),"%"]})]})]}),i.jsx("div",{className:`rounded-lg p-4 ${v.snr_class==="HIGH"?"bg-green-500/10 border border-green-500/30":v.snr_class==="MEDIUM"?"bg-amber-500/10 border border-amber-500/30":"bg-red-500/10 border border-red-500/30"}`,children:i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-semibold",children:"Signal-to-Noise Ratio (SNR):"})," ",v.snr_class==="HIGH"?"Alta confiana - dados com padro claro":v.snr_class==="MEDIUM"?"Mdia confiana - algum rudo nos dados":"Baixa confiana - dados muito volteis"]})}),v.metrics&&i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[v.metrics.MAPE!==void 0&&i.jsxs("div",{className:"rounded-lg border border-border bg-background p-2",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"MAPE"}),i.jsxs("p",{className:"text-lg font-bold text-text-primary",children:[v.metrics.MAPE.toFixed(1),"%"]})]}),v.metrics.RMSE!==void 0&&i.jsxs("div",{className:"rounded-lg border border-border bg-background p-2",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"RMSE"}),i.jsx("p",{className:"text-lg font-bold text-text-primary",children:v.metrics.RMSE.toFixed(1)})]}),v.metrics.MAE!==void 0&&i.jsxs("div",{className:"rounded-lg border border-border bg-background p-2",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"MAE"}),i.jsx("p",{className:"text-lg font-bold text-text-primary",children:v.metrics.MAE.toFixed(1)})]})]})]}):i.jsx("div",{className:"text-center py-8 text-text-muted",children:"Sem dados de forecast"})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(br,{className:"w-5 h-5 text-nikufra"}),"Reorder Point (ROP)"]}),w&&i.jsx("span",{className:"text-3xl font-bold text-nikufra",children:w.rop.toFixed(0)})]}),S?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar ROP..."}):w?i.jsxs("div",{className:"space-y-4",children:[w.current_stock!==void 0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-text-muted",children:"Stock Atual vs ROP"}),i.jsxs("span",{className:`font-bold ${w.current_stock<w.rop?"text-red-400":w.current_stock<w.rop*1.2?"text-amber-400":"text-green-400"}`,children:[w.current_stock.toFixed(0)," / ",w.rop.toFixed(0)]})]}),i.jsxs("div",{className:"h-4 bg-background rounded-full overflow-hidden relative",children:[i.jsx("div",{className:`h-full transition-all ${w.current_stock<w.rop?"bg-red-500":w.current_stock<w.rop*1.2?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min(100,w.current_stock/(w.rop*1.5)*100)}%`}}),i.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-nikufra",style:{left:`${w.rop/(w.rop*1.5)*100}%`}})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-background p-4",children:[i.jsx("p",{className:"text-xs text-text-muted mb-1",children:"Safety Stock"}),i.jsx("p",{className:"text-2xl font-bold text-text-primary",children:w.safety_stock.toFixed(0)})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-4",children:[i.jsx("p",{className:"text-xs text-text-muted mb-1",children:"Cobertura"}),i.jsxs("p",{className:"text-2xl font-bold text-text-primary",children:[w.coverage_days.toFixed(0),"d"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-text-muted",children:"Risco de Ruptura (30 dias)"}),i.jsxs("span",{className:`font-bold ${w.risk_30d>50?"text-red-400":w.risk_30d>20?"text-amber-400":"text-green-400"}`,children:[w.risk_30d.toFixed(1),"%"]})]}),i.jsx("div",{className:"h-3 bg-background rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${w.risk_30d>50?"bg-red-500":w.risk_30d>20?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min(100,w.risk_30d)}%`}})})]}),w.current_stock!==void 0&&w.current_stock<w.rop&&i.jsx("div",{className:"rounded-lg bg-red-500/10 border border-red-500/40 p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Te,{className:"w-5 h-5 text-red-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-400",children:"Stock Abaixo do ROP!"}),i.jsxs("p",{className:"text-sm text-text-muted mt-1",children:["Recomendado encomendar ",w.reorder_quantity.toFixed(0)," unidades"]})]})]})}),w.days_until_rop!==void 0&&w.days_until_rop>0&&w.days_until_rop<30&&i.jsx("div",{className:"rounded-lg bg-amber-500/10 border border-amber-500/40 p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(gi,{className:"w-5 h-5 text-amber-400 mt-0.5"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-amber-400",children:[w.days_until_rop.toFixed(0)," dias at ROP"]}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Considerar antecipar encomenda"})]})]})}),w.explanation&&i.jsx("div",{className:"rounded-lg bg-surface border border-border p-4",children:i.jsx("p",{className:"text-xs text-text-muted",children:w.explanation})})]}):i.jsx("div",{className:"text-center py-8 text-text-muted",children:"Sem dados de ROP"})]})]}):i.jsxs("div",{className:"lg:col-span-2 rounded-2xl border border-border bg-surface p-12 text-center",children:[i.jsx($u,{className:"w-16 h-16 mx-auto mb-4 text-text-muted/50"}),i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Seleciona um SKU"}),i.jsx("p",{className:"text-sm text-text-muted",children:"Escolhe um SKU da tabela de stock ou do dropdown acima para ver forecast e ROP"})]})]},"forecast"),a==="mrp-complete"&&i.jsx(hse,{selectedOrders:o,onSelectOrders:l}),a==="bom-explosion"&&i.jsx(yse,{}),a==="operational-data"&&i.jsx(xse,{})]})]})},hse=({selectedOrders:e,onSelectOrders:t})=>{const[r,n]=O.useState("engine");return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2 p-1 rounded-lg bg-slate-800/50 border border-slate-700/50 w-fit",children:[{id:"engine",label:"Motor MRP",icon:i.jsx(to,{className:"w-4 h-4"})},{id:"orders",label:"Encomendas",icon:i.jsx(ro,{className:"w-4 h-4"})},{id:"parameters",label:"Parmetros",icon:i.jsx(Xr,{className:"w-4 h-4"})},{id:"forecast",label:"Forecast IA",icon:i.jsx(ar,{className:"w-4 h-4"})}].map(a=>i.jsxs("button",{onClick:()=>n(a.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition ${r===a.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[a.icon,a.label]},a.id))}),i.jsxs(pt,{mode:"wait",children:[r==="engine"&&i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(pse,{})},"engine"),r==="orders"&&i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(mse,{selectedOrders:e,onSelectOrders:t})},"orders"),r==="parameters"&&i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(gse,{})},"parameters"),r==="forecast"&&i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(O.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center py-24",children:i.jsx(De,{className:"w-8 h-8 text-cyan-400 animate-spin"})}),children:i.jsx(ise,{})})},"forecast")]})]})},mse=({selectedOrders:e,onSelectOrders:t})=>{const[r,n]=O.useState(!1),[a,s]=O.useState(null),{data:o,isLoading:l,refetch:u}=xe({queryKey:["mrp-orders-status"],queryFn:async()=>{const y=await fetch(`${Ce}/inventory/mrp/orders-status`);if(!y.ok)throw new Error("Erro ao carregar status de encomendas");return y.json()},staleTime:3e4}),d=o?.orders||[];o?.summary;const h=async()=>{if(e.length!==0){n(!0);try{const y=await fetch(`${Ce}/inventory/mrp/run-from-orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_ids:e,horizon:null})});if(!y.ok)throw new Error("Erro ao executar MRP");const v=await y.json();s(v)}catch(y){console.error("MRP error:",y)}finally{n(!1)}}},m=y=>{e.includes(y)?t(e.filter(v=>v!==y)):t([...e,y])},p=()=>{e.length===d.length?t([]):t(d.map(y=>y.order_id))},g={OK:"bg-green-500/10 text-green-400 border-green-500/30",PARTIAL:"bg-amber-500/10 text-amber-400 border-amber-500/30",SHORTAGE:"bg-red-500/10 text-red-400 border-red-500/30"};return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(ro,{className:"w-5 h-5 text-nikufra"}),"MRP a partir de Encomendas"]}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Explode BOM, verifica stock e gera sugestes de compra/produo"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>u(),className:"rounded-lg border border-border p-2 text-text-muted hover:text-text-primary transition",children:i.jsx(De,{className:"w-4 h-4"})}),i.jsx("button",{onClick:h,disabled:e.length===0||r,className:"rounded-lg bg-nikufra px-4 py-2 text-sm font-semibold text-background transition hover:bg-nikufra-hover disabled:opacity-50",children:r?"A executar...":` Executar MRP (${e.length})`})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Total Encomendas"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:d.length})]}),i.jsxs("div",{className:"rounded-lg border border-green-500/30 bg-green-500/5 p-3",children:[i.jsx("p",{className:"text-xs text-green-400",children:"OK"}),i.jsx("p",{className:"text-xl font-bold text-green-400",children:d.filter(y=>y.material_status==="OK").length})]}),i.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/5 p-3",children:[i.jsx("p",{className:"text-xs text-amber-400",children:"Parcial"}),i.jsx("p",{className:"text-xl font-bold text-amber-400",children:d.filter(y=>y.material_status==="PARTIAL").length})]}),i.jsxs("div",{className:"rounded-lg border border-red-500/30 bg-red-500/5 p-3",children:[i.jsx("p",{className:"text-xs text-red-400",children:"Falta"}),i.jsx("p",{className:"text-xl font-bold text-red-400",children:d.filter(y=>y.material_status==="SHORTAGE").length})]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-md font-semibold text-text-primary",children:"Encomendas Abertas"}),i.jsx("button",{onClick:p,className:"text-xs text-nikufra hover:underline",children:e.length===d.length?"Desselecionar Tudo":"Selecionar Tudo"})]}),l?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar..."}):d.length===0?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"Sem encomendas abertas"}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:d.map(y=>i.jsxs("button",{onClick:()=>m(y.order_id),className:`w-full rounded-lg border p-3 text-left transition ${e.includes(y.order_id)?"border-nikufra bg-nikufra/10":"border-border bg-background hover:border-nikufra/50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-text-primary",children:y.order_id}),i.jsx("span",{className:"ml-2 text-xs text-text-muted",children:y.product_id})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded border ${g[y.material_status]}`,children:y.material_status})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-text-muted",children:[i.jsxs("span",{children:[y.quantity," un"]}),i.jsxs("span",{children:["Due: ",new Date(y.due_date).toLocaleDateString("pt-PT")]})]})]},y.order_id))})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsx("h3",{className:"text-md font-semibold text-text-primary mb-4",children:"Resultado MRP"}),a?i.jsxs("div",{className:"space-y-4",children:[a.purchase_suggestions.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-text-muted mb-2 flex items-center gap-2",children:[i.jsx(ro,{className:"w-4 h-4"})," Sugestes de Compra"]}),i.jsx("div",{className:"space-y-2",children:a.purchase_suggestions.map((y,v)=>i.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/5 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-text-primary",children:y.component_id}),i.jsxs("span",{className:"text-amber-400 font-semibold",children:[y.quantity.toFixed(0)," un"]})]}),i.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["Due: ",new Date(y.due_date).toLocaleDateString("pt-PT"),"  Lead: ",y.lead_time_days,"d"]})]},v))})]}),a.internal_order_suggestions.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-text-muted mb-2 flex items-center gap-2",children:[i.jsx(zr,{className:"w-4 h-4"})," Ordens de Produo"]}),i.jsx("div",{className:"space-y-2",children:a.internal_order_suggestions.map((y,v)=>i.jsxs("div",{className:"rounded-lg border border-blue-500/30 bg-blue-500/5 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-text-primary",children:y.item_id}),i.jsxs("span",{className:"text-blue-400 font-semibold",children:[y.quantity.toFixed(0)," un"]})]}),i.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["Due: ",new Date(y.due_date).toLocaleDateString("pt-PT")]})]},v))})]}),a.shortages.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-red-400 mb-2 flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4"})," Faltas Identificadas"]}),i.jsx("div",{className:"space-y-2",children:a.shortages.map((y,v)=>i.jsxs("div",{className:"rounded-lg border border-red-500/30 bg-red-500/5 p-3",children:[i.jsx("span",{className:"font-medium text-red-400",children:y.component_id}),i.jsxs("span",{className:"ml-2 text-text-muted",children:["-",y.shortage_qty.toFixed(0)," un"]})]},v))})]}),a.warnings.length>0&&i.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/5 p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-amber-400 mb-1",children:" Avisos"}),i.jsx("ul",{className:"text-xs text-text-muted space-y-1",children:a.warnings.map((y,v)=>i.jsxs("li",{children:[" ",y]},v))})]}),a.purchase_suggestions.length===0&&a.internal_order_suggestions.length===0&&a.shortages.length===0&&i.jsx("div",{className:"text-center py-8 text-green-400",children:" Todos os materiais disponveis!"})]}):i.jsxs("div",{className:"text-center py-12 text-text-muted",children:[i.jsx(ro,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:'Seleciona encomendas e clica em "Executar MRP"'}),i.jsx("p",{className:"text-xs mt-1",children:"para ver sugestes de compra e produo"})]})]})]})]},"mrp")},pse=()=>{const[e,t]=O.useState(null),[r,n]=O.useState(!1),[a,s]=O.useState(!1),[o,l]=O.useState(90),[u,d]=O.useState(7),[h,m]=O.useState(!1),{data:p,isLoading:g,refetch:y}=xe({queryKey:["mrp-status"],queryFn:async()=>{const _=await fetch(`${Ce}/mrp/status`);if(!_.ok)throw new Error("Erro ao carregar status MRP");return _.json()},staleTime:3e4}),{data:v,isLoading:b,refetch:w}=xe({queryKey:["mrp-runs"],queryFn:async()=>{const _=await fetch(`${Ce}/mrp/runs?limit=50`);if(!_.ok)throw new Error("Erro ao carregar runs MRP");return(await _.json()).runs||[]},staleTime:3e4}),{data:S,isLoading:k}=xe({queryKey:["mrp-run-details",e],queryFn:async()=>{if(!e)return null;const _=await fetch(`${Ce}/mrp/runs/${e}`);if(!_.ok)throw new Error("Erro ao carregar detalhes do run");return _.json()},enabled:!!e,staleTime:6e4}),E=async()=>{n(!0);try{const _=await fetch(`${Ce}/mrp/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({horizon_days:o,period_days:u,load_from_pdm:!0})});if(!_.ok){const D=await _.json();throw new Error(D.detail||"Erro ao executar MRP")}const T=await _.json();t(T.run_id),w(),y()}catch(_){console.error("MRP error:",_),alert(`Erro ao executar MRP: ${_.message}`)}finally{n(!1)}},P=async()=>{s(!0);try{const _=await fetch(`${Ce}/mrp/demo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_products:3,num_orders:5,horizon_days:o})});if(!_.ok){const D=await _.json();throw new Error(D.detail||"Erro ao executar demo MRP")}const T=await _.json();t(T.run_id),w(),y()}catch(_){console.error("Demo MRP error:",_),alert(`Erro ao executar demo MRP: ${_.message}`)}finally{s(!1)}};return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(to,{className:"w-5 h-5 text-nikufra"}),"MRP Completo - Material Requirements Planning"]}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Sistema avanado de planeamento de necessidades de material com BOM multi-nvel, lot sizing e verificao de capacidade"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>{y(),w()},className:"rounded-lg border border-border p-2 text-text-muted hover:text-text-primary transition",children:i.jsx(De,{className:"w-4 h-4"})}),i.jsx("button",{onClick:P,disabled:a||r,className:"rounded-lg bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 px-4 py-2 text-sm font-semibold transition disabled:opacity-50",children:a?"A executar...":" Demo MRP"}),i.jsx("button",{onClick:E,disabled:r||a,className:"rounded-lg bg-nikufra px-4 py-2 text-sm font-semibold text-background transition hover:bg-nikufra-hover disabled:opacity-50",children:r?"A executar...":" Executar MRP"})]})]}),g?i.jsx("div",{className:"text-center py-4 text-text-muted",children:"A carregar status..."}):p?i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Verso"}),i.jsx("p",{className:"text-lg font-bold text-text-primary",children:p.version})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Runs Armazenados"}),i.jsx("p",{className:"text-lg font-bold text-nikufra",children:p.runs_stored})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Horizonte"}),i.jsxs("p",{className:"text-lg font-bold text-text-primary",children:[p.config.horizon_days,"d"]})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Perodo"}),i.jsxs("p",{className:"text-lg font-bold text-text-primary",children:[p.config.period_days,"d"]})]})]}):null,i.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{className:"text-sm text-text-muted",children:"Horizonte (dias):"}),i.jsx("input",{type:"number",value:o,onChange:_=>l(Number(_.target.value)),min:7,max:365,className:"w-20 rounded-lg border border-border bg-background px-3 py-2 text-sm text-text-primary"}),i.jsx("label",{className:"text-sm text-text-muted",children:"Perodo (dias):"}),i.jsx("input",{type:"number",value:u,onChange:_=>d(Number(_.target.value)),min:1,max:30,className:"w-20 rounded-lg border border-border bg-background px-3 py-2 text-sm text-text-primary"})]})}),h&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-2xl border border-border bg-surface p-6 max-w-md w-full mx-4",children:[i.jsx("h4",{className:"text-lg font-bold text-text-primary mb-2",children:"Confirmar Reset MRP"}),i.jsx("p",{className:"text-sm text-text-muted mb-4",children:"Tem a certeza que deseja resetar o servio MRP? Esta ao ir:"}),i.jsxs("ul",{className:"text-sm text-text-muted mb-6 space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"Limpar todos os runs histricos"}),i.jsx("li",{children:"Resetar o servio MRP"}),i.jsx("li",{children:"Esta ao no pode ser desfeita"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 rounded-lg border border-border text-text-muted hover:text-text-primary transition",children:"Cancelar"}),i.jsx("button",{onClick:async()=>{try{if(!(await fetch(`${Ce}/mrp/reset`,{method:"DELETE"})).ok)throw new Error("Erro ao resetar MRP");m(!1),y(),w()}catch(_){console.error("Reset error:",_),alert("Erro ao resetar MRP")}},className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition",children:"Confirmar Reset"})]})]})})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-md font-semibold text-text-primary",children:"Runs Histricos"}),i.jsxs("span",{className:"text-xs text-text-muted",children:[v?.length||0," runs"]})]}),b?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar..."}):!v||v.length===0?i.jsxs("div",{className:"text-center py-8 text-text-muted",children:[i.jsx(ro,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhum run MRP executado ainda"}),i.jsx("p",{className:"text-xs mt-1",children:'Clica em "Executar MRP" ou "Demo MRP" para comear'})]}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:v.map(_=>{const T=e===_.run_id;return i.jsxs("button",{onClick:()=>t(_.run_id),className:`w-full rounded-lg border p-3 text-left transition ${T?"border-nikufra bg-nikufra/10":"border-border bg-background hover:border-nikufra/50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-text-primary text-sm",children:_.run_id}),i.jsx("span",{className:"text-xs text-text-muted",children:new Date(_.run_timestamp).toLocaleString("pt-PT")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Items: "}),i.jsx("span",{className:"text-text-primary font-semibold",children:_.items_processed})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Demandas: "}),i.jsx("span",{className:"text-text-primary font-semibold",children:_.demands_processed})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Compras: "}),i.jsx("span",{className:"text-amber-400 font-semibold",children:_.purchase_orders_count})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Produo: "}),i.jsx("span",{className:"text-blue-400 font-semibold",children:_.manufacture_orders_count})]})]}),(_.shortage_alerts_count>0||_.capacity_alerts_count>0)&&i.jsxs("div",{className:"mt-2 flex gap-2",children:[_.shortage_alerts_count>0&&i.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-red-500/20 text-red-400",children:[_.shortage_alerts_count," Faltas"]}),_.capacity_alerts_count>0&&i.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-amber-500/20 text-amber-400",children:[_.capacity_alerts_count," Capacidade"]})]})]},_.run_id)})})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsx("h3",{className:"text-md font-semibold text-text-primary mb-4",children:"Detalhes do Run"}),e?k?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar detalhes..."}):S?i.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[S.purchase_orders.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-text-muted mb-2 flex items-center gap-2",children:[i.jsx(ro,{className:"w-4 h-4"})," Ordens de Compra (",S.purchase_orders.length,")"]}),i.jsx("div",{className:"space-y-2",children:S.purchase_orders.map((_,T)=>i.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/5 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-text-primary",children:_.sku}),i.jsxs("span",{className:"ml-2 text-xs text-text-muted",children:["#",_.order_id]})]}),i.jsxs("span",{className:"text-amber-400 font-semibold",children:[_.quantity.toFixed(0)," un"]})]}),i.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["Due: ",new Date(_.due_date).toLocaleDateString("pt-PT"),"  Start: ",new Date(_.suggested_start_date).toLocaleDateString("pt-PT"),"  Lead: ",_.lead_time_days,"d"]})]},T))})]}),S.manufacture_orders.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-text-muted mb-2 flex items-center gap-2",children:[i.jsx(zr,{className:"w-4 h-4"})," Ordens de Produo (",S.manufacture_orders.length,")"]}),i.jsx("div",{className:"space-y-2",children:S.manufacture_orders.map((_,T)=>i.jsxs("div",{className:"rounded-lg border border-blue-500/30 bg-blue-500/5 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-text-primary",children:_.sku}),i.jsxs("span",{className:"ml-2 text-xs text-text-muted",children:["#",_.order_id]})]}),i.jsxs("span",{className:"text-blue-400 font-semibold",children:[_.quantity.toFixed(0)," un"]})]}),i.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["Due: ",new Date(_.due_date).toLocaleDateString("pt-PT"),"  Start: ",new Date(_.suggested_start_date).toLocaleDateString("pt-PT")]})]},T))})]}),S.shortage_alerts.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-red-400 mb-2 flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4"})," Faltas Identificadas (",S.shortage_alerts.length,")"]}),i.jsx("div",{className:"space-y-2",children:S.shortage_alerts.map((_,T)=>i.jsxs("div",{className:"rounded-lg border border-red-500/30 bg-red-500/5 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-red-400",children:_.sku}),i.jsxs("span",{className:"text-red-400 font-semibold",children:["-",_.shortage_qty.toFixed(0)," un"]})]}),i.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[new Date(_.period_start).toLocaleDateString("pt-PT")," - ",new Date(_.period_end).toLocaleDateString("pt-PT")]})]},T))})]}),S.capacity_alerts.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-amber-400 mb-2 flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4"})," Alertas de Capacidade (",S.capacity_alerts.length,")"]}),i.jsx("div",{className:"space-y-2",children:S.capacity_alerts.map((_,T)=>i.jsxs("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/5 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-amber-400",children:_.work_center}),i.jsxs("span",{className:"text-amber-400 font-semibold",children:[_.required_capacity.toFixed(1),"h / ",_.available_capacity.toFixed(1),"h"]})]}),i.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[new Date(_.period_start).toLocaleDateString("pt-PT")," - ",new Date(_.period_end).toLocaleDateString("pt-PT")]})]},T))})]}),S.purchase_orders.length===0&&S.manufacture_orders.length===0&&S.shortage_alerts.length===0&&S.capacity_alerts.length===0&&i.jsx("div",{className:"text-center py-8 text-green-400",children:" Nenhuma ao necessria!"})]}):i.jsx("div",{className:"text-center py-8 text-text-muted",children:"Erro ao carregar detalhes"}):i.jsxs("div",{className:"text-center py-12 text-text-muted",children:[i.jsx(br,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Seleciona um run para ver detalhes"})]})]})]})]},"mrp-complete")},xse=()=>{const[e,t]=O.useState(null),{data:r,isLoading:n,refetch:a}=xe({queryKey:["ops-import-stats"],queryFn:async()=>{const y=await fetch(`${Ce}/ops-ingestion/stats`);if(!y.ok)throw new Error("Erro ao carregar estatsticas");return y.json()},staleTime:3e4}),{data:s,isLoading:o,refetch:l}=xe({queryKey:["ops-wip-flows"],queryFn:async()=>{const y=await fetch(`${Ce}/ops-ingestion/wip-flow?limit=100`);if(!y.ok)throw new Error("Erro ao carregar WIP flows");return(await y.json()).wip_flows||[]},staleTime:3e4,refetchInterval:6e4}),{data:u,isLoading:d}=xe({queryKey:["ops-imported-orders"],queryFn:async()=>{const y=await fetch(`${Ce}/ops-ingestion/orders?limit=100`);if(!y.ok)throw new Error("Erro ao carregar ordens");return(await y.json()).orders||[]},staleTime:6e4}),{data:h,isLoading:m}=xe({queryKey:["ops-wip-detail",e],queryFn:async()=>{if(!e)return null;const y=await fetch(`${Ce}/ops-ingestion/wip-flow/${e}`);if(!y.ok)throw new Error("Erro ao carregar detalhes WIP");return y.json()},enabled:!!e,staleTime:3e4}),p=s||[],g=u||[];return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(vr,{className:"w-5 h-5 text-nikufra"}),"Dados Operacionais Importados"]}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Visualizao de ordens, WIP flow e movimentos importados do Excel"})]}),i.jsx("button",{onClick:()=>{a(),l()},className:"rounded-lg border border-border p-2 text-text-muted hover:text-text-primary transition",children:i.jsx(De,{className:"w-4 h-4"})})]}),n?i.jsx("div",{className:"text-center py-4 text-text-muted",children:"A carregar estatsticas..."}):r?i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Ordens"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:r.orders.total}),r.orders.last_file&&i.jsx("p",{className:"text-xs text-text-muted mt-1 truncate",children:r.orders.last_file})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Movimentos"}),i.jsx("p",{className:"text-xl font-bold text-nikufra",children:r.inventory_moves.total}),r.inventory_moves.last_file&&i.jsx("p",{className:"text-xs text-text-muted mt-1 truncate",children:r.inventory_moves.last_file})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Colaboradores"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:r.hr.total}),r.hr.last_file&&i.jsx("p",{className:"text-xs text-text-muted mt-1 truncate",children:r.hr.last_file})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Mquinas"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:r.machines.total}),r.machines.last_file&&i.jsx("p",{className:"text-xs text-text-muted mt-1 truncate",children:r.machines.last_file})]})]}):null]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-md font-semibold text-text-primary",children:"WIP Flow - Ordens em Produo"}),i.jsxs("span",{className:"text-xs text-text-muted",children:[p.length," ordens"]})]}),o?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar..."}):p.length===0?i.jsxs("div",{className:"text-center py-8 text-text-muted",children:[i.jsx(wr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhuma ordem com movimentos WIP"}),i.jsx("p",{className:"text-xs mt-1",children:"Importe movimentos de inventrio para ver WIP flow"})]}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:p.map(y=>{const v=e===y.order_code;return i.jsxs("button",{onClick:()=>t(y.order_code),className:`w-full rounded-lg border p-3 text-left transition ${v?"border-nikufra bg-nikufra/10":"border-border bg-background hover:border-nikufra/50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-text-primary",children:y.order_code}),i.jsx("span",{className:"ml-2 text-xs text-text-muted",children:y.product_code})]}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${y.completion_percent>=90?"bg-green-500/20 text-green-400":y.completion_percent>=50?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:[y.completion_percent.toFixed(0),"%"]})]}),y.current_station?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted mb-1",children:[i.jsx(vr,{className:"w-3 h-3"}),i.jsxs("span",{children:["Estao: ",i.jsx("span",{className:"font-semibold text-text-primary",children:y.current_station})]})]}):i.jsx("div",{className:"text-xs text-amber-400 mb-1",children:"Sem movimentos registados"}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Boa: "}),i.jsx("span",{className:"text-green-400 font-semibold",children:y.total_good.toFixed(0)})]}),y.total_scrap>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Refugo: "}),i.jsx("span",{className:"text-red-400 font-semibold",children:y.total_scrap.toFixed(0)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-text-muted",children:"Total: "}),i.jsx("span",{className:"text-text-primary font-semibold",children:y.order_quantity.toFixed(0)})]})]}),i.jsx("div",{className:"mt-2 h-2 bg-background rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all ${y.completion_percent>=90?"bg-green-500":y.completion_percent>=50?"bg-amber-500":"bg-blue-500"}`,style:{width:`${Math.min(100,y.completion_percent)}%`}})})]},y.order_code)})})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsx("h3",{className:"text-md font-semibold text-text-primary mb-4",children:e?`Detalhes: ${e}`:"Detalhes da Ordem"}),e?m?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar detalhes..."}):h?i.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[i.jsx("div",{className:"rounded-lg border border-border bg-background p-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Produto"}),i.jsx("p",{className:"text-sm font-semibold text-text-primary",children:h.product_code})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Quantidade Total"}),i.jsx("p",{className:"text-sm font-semibold text-text-primary",children:h.order_quantity})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Estao Atual"}),i.jsx("p",{className:"text-sm font-semibold text-nikufra",children:h.current_station||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Concluso"}),i.jsxs("p",{className:"text-sm font-semibold text-nikufra",children:[h.completion_percent.toFixed(1),"%"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-lg border border-green-500/30 bg-green-500/5 p-3 text-center",children:[i.jsx("p",{className:"text-xs text-green-400",children:"Boa"}),i.jsx("p",{className:"text-xl font-bold text-green-400",children:h.total_good.toFixed(0)})]}),i.jsxs("div",{className:"rounded-lg border border-red-500/30 bg-red-500/5 p-3 text-center",children:[i.jsx("p",{className:"text-xs text-red-400",children:"Refugo"}),i.jsx("p",{className:"text-xl font-bold text-red-400",children:h.total_scrap.toFixed(0)})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3 text-center",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Movimentos"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:h.movements_count})]})]}),h.movements&&h.movements.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-text-muted mb-2 flex items-center gap-2",children:[i.jsx(Kw,{className:"w-4 h-4"})," Histrico de Movimentos (",h.movements.length,")"]}),i.jsx("div",{className:"space-y-2",children:h.movements.map((y,v)=>i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs text-text-muted",children:["#",v+1]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${y.movement_type==="GOOD_OUTPUT"?"bg-green-500/20 text-green-400":y.movement_type==="SCRAP_OUTPUT"?"bg-red-500/20 text-red-400":y.movement_type==="TRANSFER"?"bg-blue-500/20 text-blue-400":"bg-amber-500/20 text-amber-400"}`,children:y.movement_type})]}),i.jsx("span",{className:"text-xs text-text-muted",children:y.timestamp?new Date(y.timestamp).toLocaleString("pt-PT"):"N/A"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[y.from_station&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:y.from_station}),i.jsx(Kw,{className:"w-3 h-3"})]}),i.jsx("span",{className:"font-semibold text-text-primary",children:y.to_station||"N/A"}),y.quantity_good>0&&i.jsxs("span",{className:"ml-auto text-green-400",children:["+",y.quantity_good," boa"]}),y.quantity_scrap>0&&i.jsxs("span",{className:"text-red-400",children:["+",y.quantity_scrap," refugo"]})]})]},v))})]})]}):i.jsx("div",{className:"text-center py-8 text-text-muted",children:"Erro ao carregar detalhes"}):i.jsxs("div",{className:"text-center py-12 text-text-muted",children:[i.jsx(br,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Seleciona uma ordem para ver detalhes"})]})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-md font-semibold text-text-primary",children:"Ordens Importadas"}),i.jsxs("span",{className:"text-xs text-text-muted",children:[g.length," ordens"]})]}),d?i.jsx("div",{className:"text-center py-8 text-text-muted",children:"A carregar..."}):g.length===0?i.jsxs("div",{className:"text-center py-8 text-text-muted",children:[i.jsx(wr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhuma ordem importada"}),i.jsx("p",{className:"text-xs mt-1",children:'Use o boto "Carregar Dados" para importar ordens do Excel'})]}):i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"Cdigo"}),i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"Produto"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Quantidade"}),i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"Data Entrega"}),i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"Linha/Centro"}),i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"Ficheiro"}),i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"Importado"})]})}),i.jsx("tbody",{children:g.slice(0,50).map(y=>i.jsxs("tr",{className:"border-b border-border/30 hover:bg-background/50 cursor-pointer",onClick:()=>t(y.external_order_code),children:[i.jsx("td",{className:"py-3 px-2 text-text-primary font-medium",children:y.external_order_code}),i.jsx("td",{className:"py-3 px-2 text-text-muted",children:y.product_code}),i.jsx("td",{className:"py-3 px-2 text-right text-text-primary",children:y.quantity.toLocaleString("pt-PT")}),i.jsx("td",{className:"py-3 px-2 text-text-muted",children:y.due_date?new Date(y.due_date).toLocaleDateString("pt-PT"):"N/A"}),i.jsx("td",{className:"py-3 px-2 text-text-muted",children:y.line_or_center||"N/A"}),i.jsx("td",{className:"py-3 px-2 text-xs text-text-muted truncate max-w-xs",children:y.source_file}),i.jsx("td",{className:"py-3 px-2 text-xs text-text-muted",children:y.imported_at?new Date(y.imported_at).toLocaleDateString("pt-PT"):"N/A"})]},y.id))})]}),g.length>50&&i.jsxs("p",{className:"text-xs text-text-muted text-center py-2",children:["Mostrando 50 de ",g.length," ordens"]})]})]})]},"operational-data")},gse=()=>{const[e,t]=O.useState(null),[r,n]=O.useState({}),[a,s]=O.useState(""),{data:o,isLoading:l,refetch:u}=xe({queryKey:["mrp-parameters"],queryFn:async()=>{const y=await fetch(`${Ce}/inventory/mrp/parameters`);if(!y.ok)throw new Error("Erro ao carregar parmetros MRP");return y.json()},staleTime:6e4}),d=o?.parameters||[],h=d.filter(y=>y.sku_id.toLowerCase().includes(a.toLowerCase())||y.name.toLowerCase().includes(a.toLowerCase())),m=y=>{t(y.sku_id),n({...y})},p=async y=>{console.log("Saving parameters for",y,r),t(null),n({})},g=()=>{t(null),n({})};return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(Xr,{className:"w-5 h-5 text-nikufra"}),"Parmetros MRP"]}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Configure parmetros de planeamento de necessidades de material por SKU"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Up,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),i.jsx("input",{type:"text",placeholder:"Pesquisar SKU...",value:a,onChange:y=>s(y.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-border bg-background text-text-primary placeholder-text-muted focus:outline-none focus:border-nikufra"})]}),i.jsx("button",{onClick:()=>u(),className:"rounded-lg border border-border p-2 text-text-muted hover:text-text-primary transition",children:i.jsx(De,{className:"w-4 h-4"})})]})]}),o?.note&&i.jsx("div",{className:"rounded-lg border border-amber-500/30 bg-amber-500/5 p-3 mb-4",children:i.jsx("p",{className:"text-xs text-amber-400",children:o.note})})]}),l?i.jsx("div",{className:"text-center py-12 text-text-muted",children:"A carregar parmetros..."}):h.length===0?i.jsxs("div",{className:"text-center py-12 text-text-muted",children:[i.jsx(wr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhum parmetro encontrado"})]}):i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"SKU"}),i.jsx("th",{className:"text-left py-3 px-2 text-text-muted",children:"Nome"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Stock Mn"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Stock Mx"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"MOQ"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Mltiplo"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Refugo %"}),i.jsx("th",{className:"text-right py-3 px-2 text-text-muted",children:"Lead Time (dias)"}),i.jsx("th",{className:"text-center py-3 px-2 text-text-muted",children:"Aes"})]})}),i.jsx("tbody",{children:h.map(y=>{const v=e===y.sku_id,b=v?{...y,...r}:y;return i.jsxs("tr",{className:"border-b border-border/30 hover:bg-background/50",children:[i.jsx("td",{className:"py-3 px-2 text-text-primary font-medium",children:y.sku_id}),i.jsx("td",{className:"py-3 px-2 text-text-muted",children:y.name}),i.jsx("td",{className:"py-3 px-2 text-right",children:v?i.jsx("input",{type:"number",value:b.min_stock,onChange:w=>n({...r,min_stock:parseFloat(w.target.value)||0}),className:"w-20 px-2 py-1 rounded border border-border bg-background text-text-primary text-right",min:"0"}):i.jsx("span",{className:"text-text-primary",children:b.min_stock.toLocaleString("pt-PT")})}),i.jsx("td",{className:"py-3 px-2 text-right",children:v?i.jsx("input",{type:"number",value:b.max_stock,onChange:w=>n({...r,max_stock:parseFloat(w.target.value)||0}),className:"w-20 px-2 py-1 rounded border border-border bg-background text-text-primary text-right",min:"0"}):i.jsx("span",{className:"text-text-primary",children:b.max_stock===1/0?"":b.max_stock.toLocaleString("pt-PT")})}),i.jsx("td",{className:"py-3 px-2 text-right",children:v?i.jsx("input",{type:"number",value:b.reorder_min_qty,onChange:w=>n({...r,reorder_min_qty:parseFloat(w.target.value)||0}),className:"w-20 px-2 py-1 rounded border border-border bg-background text-text-primary text-right",min:"0",step:"0.01"}):i.jsx("span",{className:"text-text-primary",children:b.reorder_min_qty.toLocaleString("pt-PT")})}),i.jsx("td",{className:"py-3 px-2 text-right",children:v?i.jsx("input",{type:"number",value:b.reorder_multiple,onChange:w=>n({...r,reorder_multiple:parseFloat(w.target.value)||1}),className:"w-20 px-2 py-1 rounded border border-border bg-background text-text-primary text-right",min:"1",step:"0.01"}):i.jsx("span",{className:"text-text-primary",children:b.reorder_multiple.toLocaleString("pt-PT")})}),i.jsx("td",{className:"py-3 px-2 text-right",children:v?i.jsx("input",{type:"number",value:(b.scrap_rate*100).toFixed(2),onChange:w=>n({...r,scrap_rate:(parseFloat(w.target.value)||0)/100}),className:"w-20 px-2 py-1 rounded border border-border bg-background text-text-primary text-right",min:"0",max:"100",step:"0.01"}):i.jsxs("span",{className:"text-text-primary",children:[(b.scrap_rate*100).toFixed(2),"%"]})}),i.jsx("td",{className:"py-3 px-2 text-right",children:v?i.jsx("input",{type:"number",value:b.lead_time_days,onChange:w=>n({...r,lead_time_days:parseFloat(w.target.value)||0}),className:"w-20 px-2 py-1 rounded border border-border bg-background text-text-primary text-right",min:"0",step:"0.1"}):i.jsx("span",{className:"text-text-primary",children:b.lead_time_days.toFixed(1)})}),i.jsx("td",{className:"py-3 px-2 text-center",children:v?i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>p(y.sku_id),className:"p-1.5 rounded text-green-400 hover:bg-green-500/10 transition",title:"Guardar",children:i.jsx(ga,{className:"w-4 h-4"})}),i.jsx("button",{onClick:g,className:"p-1.5 rounded text-red-400 hover:bg-red-500/10 transition",title:"Cancelar",children:i.jsx(va,{className:"w-4 h-4"})})]}):i.jsx("button",{onClick:()=>m(y),className:"p-1.5 rounded text-text-muted hover:text-nikufra hover:bg-nikufra/10 transition",title:"Editar",children:i.jsx(M2,{className:"w-4 h-4"})})})]},y.sku_id)})})]})}),i.jsxs("div",{className:"mt-4 text-xs text-text-muted text-center",children:["Mostrando ",h.length," de ",d.length," parmetros"]})]})]},"mrp-parameters")},yse=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(1),[a,s]=O.useState(null),[o,l]=O.useState(!1),[u,d]=O.useState(new Set([0])),h=async()=>{if(e.trim()){l(!0);try{const g=await fetch(`${Ce}/inventory/mrp/bom/${e}?quantity=${r}`);if(!g.ok)throw new Error("Erro ao explodir BOM");const y=await g.json();s(y);const v=new Set(y.components.map(b=>b.level));d(v)}catch(g){console.error("BOM explosion error:",g)}finally{l(!1)}}},m=g=>{const y=new Set(u);y.has(g)?y.delete(g):y.add(g),d(y)},p=(g,y=0)=>{const v=g.filter(b=>b.level===y);return v.length===0?null:i.jsx("div",{className:"ml-4",children:v.map((b,w)=>{const S=g.some(E=>E.level===y+1),k=u.has(y+1);return i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"flex items-center gap-2 p-2 rounded-lg border border-border bg-background hover:bg-surface transition",children:i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[S&&i.jsx("button",{onClick:()=>m(y+1),className:"p-1 rounded hover:bg-nikufra/10 transition",children:k?i.jsx(hc,{className:"w-4 h-4 text-text-muted"}):i.jsx(Zr,{className:"w-4 h-4 text-text-muted"})}),!S&&i.jsx("div",{className:"w-6"}),i.jsx("span",{className:"font-medium text-text-primary",children:b.component_id}),i.jsxs("span",{className:"text-text-muted",children:[" ",b.qty_required.toFixed(3)]}),i.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[b.is_purchased&&i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-400",children:"Comprado"}),b.is_manufactured&&i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/20 text-green-400",children:"Fabricado"}),i.jsxs("span",{className:"text-xs text-text-muted",children:["Lead: ",b.lead_time_days.toFixed(1),"d"]}),i.jsxs("span",{className:"text-xs text-text-muted",children:["Nvel ",b.level]})]})]})}),S&&k&&p(g,y+1)]},`${b.component_id}-${w}`)})})};return i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[i.jsx(fn,{className:"w-5 h-5 text-nikufra"}),"BOM Explosion Viewer"]}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Visualize a estrutura hierrquica de componentes de um produto"})]})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Cdigo do Produto"}),i.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),placeholder:"Ex: PROD-001",className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-text-primary placeholder-text-muted focus:outline-none focus:border-nikufra",onKeyPress:g=>g.key==="Enter"&&h()})]}),i.jsxs("div",{className:"w-32",children:[i.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"Quantidade"}),i.jsx("input",{type:"number",value:r,onChange:g=>n(Math.max(.001,parseFloat(g.target.value)||1)),min:"0.001",step:"0.1",className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-text-primary focus:outline-none focus:border-nikufra"})]}),i.jsx("div",{className:"pt-6",children:i.jsx("button",{onClick:h,disabled:!e.trim()||o,className:"px-6 py-2 rounded-lg bg-nikufra text-white font-medium hover:bg-nikufra/90 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?i.jsxs(i.Fragment,{children:[i.jsx(De,{className:"w-4 h-4 animate-spin"}),"A explodir..."]}):i.jsxs(i.Fragment,{children:[i.jsx(fn,{className:"w-4 h-4"}),"Explodir BOM"]})})})]})]}),a&&i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-md font-semibold text-text-primary",children:[a.product_id," - Quantidade: ",a.quantity]}),i.jsxs("p",{className:"text-sm text-text-muted",children:[a.total_components," componentes encontrados"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{const g=new Set(a.components.map(y=>y.level));d(g)},className:"text-xs px-3 py-1 rounded border border-border text-text-muted hover:text-text-primary transition",children:"Expandir Tudo"}),i.jsx("button",{onClick:()=>d(new Set([0])),className:"text-xs px-3 py-1 rounded border border-border text-text-muted hover:text-text-primary transition",children:"Colapsar Tudo"})]})]}),i.jsx("div",{className:"space-y-2",children:p(a.components,0)}),i.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Total Componentes"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:a.total_components})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Componentes Comprados"}),i.jsx("p",{className:"text-xl font-bold text-blue-400",children:a.components.filter(g=>g.is_purchased).length})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-background p-3",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Componentes Fabricados"}),i.jsx("p",{className:"text-xl font-bold text-green-400",children:a.components.filter(g=>g.is_manufactured).length})]})]})})]}),!a&&!o&&i.jsxs("div",{className:"text-center py-12 text-text-muted",children:[i.jsx(fn,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Introduza um cdigo de produto e quantidade para explodir a BOM"})]})]},"bom-explosion")};async function vse(e){const t=await fetch(`${Ce}/duplios/dpp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Erro ao criar DPP");return t.json()}async function rL(){const e=await fetch(`${Ce}/duplios/dpp`);if(!e.ok)throw new Error("Erro ao listar DPPs");return e.json()}async function hy(e){const t=await fetch(`${Ce}/duplios/dpp/${e}`);if(!t.ok)throw new Error("Erro ao obter DPP");return t.json()}async function bse(e){const t=await fetch(`${Ce}/duplios/dpp/${e}/qrcode`);if(!t.ok)throw new Error("Erro ao obter QR Code");const r=await t.blob();return URL.createObjectURL(r)}async function jse(e,t=!1){const r=await fetch(`${Ce}/duplios/dpp/${e}/gap-fill-lite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({force:t})});if(!r.ok)throw new Error("Erro ao preencher campos automaticamente");return r.json()}async function lO(e){const t=await fetch(`${Ce}/duplios/dpp/${e}/compliance-radar`);if(!t.ok)throw new Error("Erro ao obter compliance radar");return t.json()}async function wse(e){const t=await fetch(`${Ce}/duplios/dpp/${e}/compliance-summary`);if(!t.ok)throw new Error("Erro ao obter compliance summary");return t.json()}async function my(e){const t=await fetch(`${Ce}/duplios/dpp/${e}/trust-index`);if(!t.ok)throw new Error("Erro ao obter Trust Index");return t.json()}async function Nse(e){const t=await fetch(`${Ce}/duplios/dpp/${e}/trust-index/recalculate`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Erro ao recalcular Trust Index");return t.json()}const Uh=["Identificao","Composio","Impacto","Circularidade","Verificao"],cO={gtin:"",product_name:"",product_category:"",manufacturer_name:"",manufacturer_eori:"",manufacturing_site_id:"",country_of_origin:"",serial_or_lot:"",materials:[{material_name:"",material_type:"",percentage:100,mass_kg:1}],components:[],carbon_footprint_kg_co2eq:0,impact_breakdown:{manufacturing_kg_co2eq:0,distribution_kg_co2eq:0,end_of_life_kg_co2eq:0},water_consumption_m3:0,energy_consumption_kwh:0,recycled_content_percent:0,recyclability_percent:0,durability_score:5,reparability_score:5,hazardous_substances:[],certifications:[],third_party_audits:[],trust_index:60,data_completeness_percent:60},_se=({onCreated:e})=>{const[t,r]=O.useState(0),[n,a]=O.useState(cO),[s,o]=O.useState(!1),[l,u]=O.useState(null),d=()=>r(g=>Math.min(g+1,Uh.length-1)),h=()=>r(g=>Math.max(g-1,0)),m=async()=>{o(!0),u(null);try{await vse(n),e?.(),r(0),a(cO)}catch{u("Falha ao criar DPP")}finally{o(!1)}},p=()=>{switch(t){case 0:return i.jsxs("div",{className:"grid gap-3",children:[i.jsx("input",{className:"input",placeholder:"GTIN",value:n.gtin,onChange:g=>a({...n,gtin:g.target.value})}),i.jsx("input",{className:"input",placeholder:"Nome do produto",value:n.product_name,onChange:g=>a({...n,product_name:g.target.value})}),i.jsx("input",{className:"input",placeholder:"Categoria",value:n.product_category,onChange:g=>a({...n,product_category:g.target.value})}),i.jsx("input",{className:"input",placeholder:"Fabricante",value:n.manufacturer_name,onChange:g=>a({...n,manufacturer_name:g.target.value})}),i.jsx("input",{className:"input",placeholder:"Pas de origem",value:n.country_of_origin,onChange:g=>a({...n,country_of_origin:g.target.value})})]});case 1:return i.jsx("div",{children:n.materials.map((g,y)=>i.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[i.jsx("input",{className:"input",placeholder:"Material",value:g.material_name,onChange:v=>{const b=[...n.materials];b[y].material_name=v.target.value,a({...n,materials:b})}}),i.jsx("input",{className:"input",placeholder:"Tipo",value:g.material_type,onChange:v=>{const b=[...n.materials];b[y].material_type=v.target.value,a({...n,materials:b})}}),i.jsx("input",{className:"input",type:"number",value:g.percentage,onChange:v=>{const b=[...n.materials];b[y].percentage=Number(v.target.value),a({...n,materials:b})}}),i.jsx("input",{className:"input",type:"number",value:g.mass_kg||0,onChange:v=>{const b=[...n.materials];b[y].mass_kg=Number(v.target.value),a({...n,materials:b})}})]},y))});case 2:return i.jsxs("div",{className:"grid gap-3",children:[i.jsx("input",{className:"input",type:"number",placeholder:"Carbono total",value:n.carbon_footprint_kg_co2eq,onChange:g=>a({...n,carbon_footprint_kg_co2eq:Number(g.target.value)})}),i.jsx("input",{className:"input",type:"number",placeholder:"gua",value:n.water_consumption_m3,onChange:g=>a({...n,water_consumption_m3:Number(g.target.value)})}),i.jsx("input",{className:"input",type:"number",placeholder:"Energia",value:n.energy_consumption_kwh,onChange:g=>a({...n,energy_consumption_kwh:Number(g.target.value)})})]});case 3:return i.jsxs("div",{className:"grid gap-3",children:[i.jsx("input",{className:"input",type:"number",placeholder:"Contedo reciclado",value:n.recycled_content_percent,onChange:g=>a({...n,recycled_content_percent:Number(g.target.value)})}),i.jsx("input",{className:"input",type:"number",placeholder:"Reciclabilidade",value:n.recyclability_percent,onChange:g=>a({...n,recyclability_percent:Number(g.target.value)})}),i.jsx("input",{className:"input",type:"number",placeholder:"Durabilidade",value:n.durability_score,onChange:g=>a({...n,durability_score:Number(g.target.value)})})]});case 4:return i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{children:"Rev os dados antes de publicar."}),i.jsx("pre",{className:"bg-background/50 p-3 rounded text-xs h-32 overflow-auto",children:JSON.stringify(n,null,2)})]});default:return null}};return i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"DPP Builder"}),i.jsxs("span",{className:"text-xs text-text-muted",children:["Passo ",t+1," / ",Uh.length,"  ",Uh[t]]})]}),p(),l&&i.jsx("p",{className:"text-xs text-red-400",children:l}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:h,disabled:t===0,className:"btn-secondary",children:"Anterior"}),t<Uh.length-1?i.jsx("button",{onClick:d,className:"btn-primary",children:"Seguinte"}):i.jsx("button",{onClick:m,disabled:s,className:"btn-primary",children:s?"A criar...":"Criar DPP"})]})]})},Sse=({category:e})=>{const t={"Equipamento Industrial":"bg-blue-500/20 text-blue-400","Energia Renovvel":"bg-green-500/20 text-green-400","Armazenamento Energia":"bg-purple-500/20 text-purple-400","Transmisso Mecnica":"bg-amber-500/20 text-amber-400","Txtil Industrial":"bg-pink-500/20 text-pink-400","Automao Industrial":"bg-cyan-500/20 text-cyan-400","Eletrnica Industrial":"bg-indigo-500/20 text-indigo-400",Mobilirio:"bg-orange-500/20 text-orange-400"};return i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${t[e]||"bg-gray-500/20 text-gray-400"}`,children:e})},kse=({value:e})=>{const t=e>=80?"text-green-400":e>=60?"text-amber-400":"text-red-400";return i.jsxs("div",{className:`text-center ${t}`,children:[i.jsx("span",{className:"text-lg font-bold",children:e?.toFixed(0)}),i.jsx("p",{className:"text-[8px] uppercase tracking-wider opacity-70",children:"Trust"})]})},Pse=({onSelect:e,selectedId:t})=>{const[r,n]=O.useState([]),[a,s]=O.useState(""),[o,l]=O.useState(""),[u,d]=O.useState("name"),[h,m]=O.useState("desc"),[p,g]=O.useState(null),[y,v]=O.useState("none"),[b,w]=O.useState(!0),[S,k]=O.useState({});O.useEffect(()=>{w(!0),rL().then(n).catch(()=>n([])).finally(()=>w(!1))},[]),O.useEffect(()=>{if(r.length===0)return;const M={};Promise.all(r.map(F=>wse(F.dpp_id).then(q=>{q&&(M[F.dpp_id]={espr:q.espr_score,cbam:q.cbam_score,csrd:q.csrd_score})}).catch(()=>{}))).then(()=>k(M))},[r]);const E=[...new Set(r.map(M=>M.product_category).filter(Boolean))],P=r.filter(M=>{const F=M.product_name.toLowerCase().includes(a.toLowerCase())||M.gtin.includes(a)||M.manufacturer_name?.toLowerCase().includes(a.toLowerCase()),q=!o||M.product_category===o,H=p===null||M.trust_index>=p,K=(()=>{if(y==="none")return!0;const W=S[M.dpp_id];return W?y==="espr_low"?W.espr<80:y==="cbam_low"&&W.cbam!==null?W.cbam<80:y==="csrd_low"?W.csrd<80:!0:!0})();return F&&q&&H&&K}).sort((M,F)=>{let q=0;switch(u){case"trust":q=M.trust_index-F.trust_index;break;case"carbon":q=(M.carbon_footprint_kg_co2eq||0)-(F.carbon_footprint_kg_co2eq||0);break;case"date":q=new Date(M.created_at).getTime()-new Date(F.created_at).getTime();break;case"name":default:q=M.product_name.localeCompare(F.product_name);break}return h==="asc"?q:-q}),_=r.reduce((M,F)=>M+(F.carbon_footprint_kg_co2eq||0),0),T=r.length>0?r.reduce((M,F)=>M+(F.trust_index||0),0)/r.length:0,D=r.length>0?r.reduce((M,F)=>M+(F.recyclability_percent||0),0)/r.length:0,L=r.filter(M=>M.status==="published").length;return i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary",children:["Passaportes Digitais (",r.length,")"]}),i.jsxs("span",{className:"text-xs text-text-muted",children:[L," publicados"]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("div",{className:"bg-background/50 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-lg font-bold text-text-primary",children:r.length}),i.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"DPPs"})]}),i.jsxs("div",{className:"bg-background/50 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-lg font-bold text-blue-400",children:_.toFixed(0)}),i.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"kg COe Total"})]}),i.jsxs("div",{className:"bg-background/50 rounded-lg p-2 text-center",children:[i.jsxs("p",{className:"text-lg font-bold text-green-400",children:[D.toFixed(0),"%"]}),i.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"Reciclvel Mdio"})]}),i.jsxs("div",{className:"bg-background/50 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-lg font-bold text-amber-400",children:T.toFixed(0)}),i.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"Trust Mdio"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"Pesquisar produto, GTIN ou fabricante...",value:a,onChange:M=>s(M.target.value),className:"flex-1 bg-background border border-border rounded-lg px-3 py-2 text-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:border-nikufra"}),i.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"bg-background border border-border rounded-lg px-3 py-2 text-sm text-text-primary focus:outline-none focus:border-nikufra",children:[i.jsx("option",{value:"",children:"Todas categorias"}),E.map(M=>i.jsx("option",{value:M,children:M},M))]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:u,onChange:M=>d(M.target.value),className:"bg-background border border-border rounded-lg px-3 py-2 text-sm text-text-primary focus:outline-none focus:border-nikufra",children:[i.jsx("option",{value:"name",children:"Ordenar por Nome"}),i.jsx("option",{value:"trust",children:"Ordenar por Trust Index"}),i.jsx("option",{value:"carbon",children:"Ordenar por Carbono"}),i.jsx("option",{value:"date",children:"Ordenar por Data"})]}),i.jsx("button",{onClick:()=>m(h==="asc"?"desc":"asc"),className:"bg-background border border-border rounded-lg px-3 py-2 text-sm text-text-primary hover:bg-background/80 transition",children:h==="asc"?"":""}),i.jsxs("select",{value:p||"",onChange:M=>g(M.target.value?Number(M.target.value):null),className:"bg-background border border-border rounded-lg px-3 py-2 text-sm text-text-primary focus:outline-none focus:border-nikufra",children:[i.jsx("option",{value:"",children:"Todos Trust Index"}),i.jsx("option",{value:"80",children:"Trust  80"}),i.jsx("option",{value:"60",children:"Trust  60"}),i.jsx("option",{value:"40",children:"Trust  40"})]}),i.jsxs("select",{value:y,onChange:M=>v(M.target.value),className:"bg-background border border-border rounded-lg px-3 py-2 text-sm text-text-primary focus:outline-none focus:border-nikufra",children:[i.jsx("option",{value:"none",children:"Todos Compliance"}),i.jsx("option",{value:"espr_low",children:"ESPR < 80"}),i.jsx("option",{value:"cbam_low",children:"CBAM < 80"}),i.jsx("option",{value:"csrd_low",children:"CSRD < 80"})]})]})]}),b?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-nikufra border-t-transparent rounded-full"})}):P.length===0?i.jsx("p",{className:"text-sm text-text-muted text-center py-8",children:"Nenhum DPP encontrado."}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-1",children:P.map(M=>i.jsx("div",{onClick:()=>e(M.dpp_id),className:`border rounded-xl p-3 cursor-pointer transition-all hover:border-nikufra/50 ${t===M.dpp_id?"border-nikufra bg-nikufra/5":"border-border/50 bg-background/30"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(kse,{value:M.trust_index}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-semibold text-text-primary truncate",children:M.product_name}),i.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${M.status==="published"?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"}`,children:M.status==="published"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[i.jsx("span",{className:"font-mono",children:M.gtin}),i.jsx("span",{children:""}),i.jsx("span",{children:M.manufacturer_name})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Sse,{category:M.product_category}),i.jsxs("span",{className:"text-xs text-text-muted",children:[M.carbon_footprint_kg_co2eq?.toFixed(0)," kg COe"]}),i.jsxs("span",{className:"text-xs text-green-400",children:[M.recyclability_percent?.toFixed(0),"% recicl."]})]})]})]})},M.dpp_id))})]})},Cse=({dppId:e,size:t="sm",showDownload:r=!0})=>{const[n,a]=O.useState(""),[s,o]=O.useState(!0);O.useEffect(()=>{o(!0),bse(e).then(a).catch(()=>a("")).finally(()=>o(!1))},[e]);const l={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"};return s?i.jsx("div",{className:`${l[t]} bg-background/50 rounded-lg flex items-center justify-center`,children:i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-nikufra border-t-transparent rounded-full"})}):n?i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx("div",{className:"bg-white p-1 rounded-lg shadow-lg",children:i.jsx("img",{src:n,alt:"QR Code DPP",className:`${l[t]} rounded`})}),r&&i.jsxs("a",{href:n,download:`dpp-${e}.png`,className:"text-xs text-nikufra hover:text-nikufra-light transition-colors flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]}):i.jsx("div",{className:`${l[t]} bg-background/50 rounded-lg flex items-center justify-center`,children:i.jsx("span",{className:"text-xs text-text-muted",children:"QR N/A"})})},uO=({value:e,label:t,max:r=10})=>{const n=e/r*100,a=n>=80?"bg-green-500":n>=60?"bg-amber-500":"bg-red-500";return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-20 h-2 bg-border/50 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${a}`,style:{width:`${n}%`}})}),i.jsxs("span",{className:"text-xs text-text-muted",children:[t,": ",e,"/",r]})]})},Ese=({value:e})=>{const t=e>=80?"from-green-500 to-emerald-600":e>=60?"from-amber-500 to-orange-600":"from-red-500 to-rose-600";return i.jsx("div",{className:`relative w-20 h-20 rounded-full bg-gradient-to-br ${t} flex items-center justify-center shadow-lg`,children:i.jsx("div",{className:"absolute inset-1 rounded-full bg-surface flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-xl font-bold text-text-primary",children:e?.toFixed(0)}),i.jsx("p",{className:"text-[8px] text-text-muted uppercase tracking-wider",children:"Trust"})]})})})},ui=({title:e,children:t,icon:r})=>i.jsxs("div",{className:"border border-border/50 rounded-xl p-4 space-y-3",children:[i.jsxs("h4",{className:"font-semibold text-text-primary flex items-center gap-2",children:[r&&i.jsx("span",{children:r}),e]}),t]}),Ose=({dppId:e})=>{const[t,r]=O.useState(null),[n,a]=O.useState(null),[s,o]=O.useState(!1),[l,u]=O.useState(!1),[d,h]=O.useState(!1),[m,p]=O.useState(null),[g,y]=O.useState(null),[v,b]=O.useState(!1),[w,S]=O.useState(!1),[k,E]=O.useState(null);return O.useEffect(()=>{e&&(o(!0),hy(e).then(r).catch(()=>r(null)).finally(()=>o(!1)))},[e]),O.useEffect(()=>{e&&(u(!0),my(e).then(a).catch(()=>a(null)).finally(()=>u(!1)))},[e]),O.useEffect(()=>{e&&(b(!0),lO(e).then(y).catch(()=>y(null)).finally(()=>b(!1)))},[e]),e?s?i.jsx("div",{className:"rounded-2xl border border-border bg-surface p-8 flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-nikufra border-t-transparent rounded-full"})}):t?i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-6 max-h-[85vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t.status==="published"?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"}`,children:t.status==="published"?" Publicado":" Rascunho"}),i.jsx("span",{className:"text-xs text-text-muted",children:t.product_category})]}),i.jsx("h2",{className:"text-xl font-bold text-text-primary",children:t.product_name}),i.jsxs("p",{className:"text-sm text-text-muted mt-1",children:["GTIN: ",t.gtin]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ese,{value:n?.overall_trust_index||t.trust_index||0}),i.jsx(Cse,{dppId:t.dpp_id}),i.jsx("button",{onClick:async()=>{if(!e)return;S(!0),E(null);const P={trust_index:n?.overall_trust_index||t.trust_index||0,carbon:t.carbon_footprint_kg_co2eq||0,water:t.water_consumption_m3||0};try{await Nse(e);const[_,T,D]=await Promise.all([hy(e),my(e),lO(e).catch(()=>null)]);r(_),a(T),D&&y(D);const L={trust_index:T?.overall_trust_index||_.trust_index||0,carbon:_.carbon_footprint_kg_co2eq||0,water:_.water_consumption_m3||0};E({success:!0,message:"Mtricas recalculadas com sucesso",before:P,after:L})}catch(_){console.error("Recalculate failed:",_),E({success:!1,message:"Erro ao recalcular mtricas"})}finally{S(!1)}},disabled:w,className:"flex items-center gap-2 px-4 py-2 bg-nikufra hover:bg-nikufra/90 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",title:"Recalcular todas as mtricas (Trust Index, Compliance, Gap Filling)",children:w?i.jsxs(i.Fragment,{children:[i.jsx(De,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"A recalcular..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(HK,{className:"w-4 h-4"}),i.jsx("span",{children:"Recalcular Mtricas"})]})})]})]}),k&&i.jsx("div",{className:`rounded-lg p-4 border ${k.success?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[k.success?i.jsx(ut,{className:"w-5 h-5 text-green-400 mt-0.5"}):i.jsx(Nl,{className:"w-5 h-5 text-red-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm font-medium ${k.success?"text-green-400":"text-red-400"}`,children:k.message}),k.success&&k.before&&k.after&&i.jsxs("div",{className:"mt-3 space-y-2 text-xs",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-text-muted mb-1",children:"Antes:"}),i.jsxs("p",{className:"text-text-primary",children:["Trust: ",k.before.trust_index.toFixed(0)]}),i.jsxs("p",{className:"text-text-primary",children:["Carbono: ",k.before.carbon.toFixed(1)," kg"]}),i.jsxs("p",{className:"text-text-primary",children:["gua: ",k.before.water.toFixed(1)," m"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-text-muted mb-1",children:"Depois:"}),i.jsxs("p",{className:"text-text-primary",children:["Trust: ",k.after.trust_index.toFixed(0)]}),i.jsxs("p",{className:"text-text-primary",children:["Carbono: ",k.after.carbon.toFixed(1)," kg"]}),i.jsxs("p",{className:"text-text-primary",children:["gua: ",k.after.water.toFixed(1)," m"]})]})]}),Math.abs(k.after.trust_index-k.before.trust_index)>.1&&i.jsxs("p",{className:`text-xs mt-2 ${k.after.trust_index>k.before.trust_index?"text-green-400":"text-amber-400"}`,children:[k.after.trust_index>k.before.trust_index?"":"","Trust Index: ",k.before.trust_index.toFixed(0),"  ",k.after.trust_index.toFixed(0)]})]})]}),i.jsx("button",{onClick:()=>E(null),className:"text-text-muted hover:text-text-primary transition",children:i.jsx(va,{className:"w-4 h-4"})})]})}),t&&i.jsx(ui,{title:"Estimativas Automticas",icon:"",children:i.jsxs("div",{className:"space-y-3",children:[!t.carbon_footprint_kg_co2eq||t.carbon_footprint_kg_co2eq===0||!t.water_consumption_m3||t.water_consumption_m3===0||!t.recyclability_percent||t.recyclability_percent===0?i.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h5",{className:"font-semibold text-amber-400 mb-2",children:"Campos ambientais em falta"}),i.jsx("p",{className:"text-sm text-text-muted mb-3",children:"Alguns campos ambientais no esto preenchidos. Pode usar estimativas cientficas baseadas em fatores mdios por material e pas."}),i.jsx("p",{className:"text-xs text-text-muted",children:"Preciso tpica: 30%. Baseado em fatores mdios por material e pas."})]}),i.jsx("button",{onClick:async()=>{if(e){h(!0);try{const P=await jse(e,!1);p(P);const _=await hy(e);r(_),my(e).then(a).catch(()=>{})}catch(P){console.error("Gap filling failed:",P),p({success:!1,message:"Erro ao preencher campos"})}finally{h(!1)}}},disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg transition disabled:opacity-50",children:d?i.jsxs(i.Fragment,{children:[i.jsx(De,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"A preencher..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(ut,{className:"w-4 h-4"}),i.jsx("span",{children:"Preencher automaticamente"})]})})]})}):i.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ut,{className:"w-5 h-5 text-green-400"}),i.jsx("p",{className:"text-sm text-text-primary",children:"Todos os campos ambientais esto preenchidos."})]})}),m&&i.jsx("div",{className:`rounded-lg p-3 ${m.success?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[m.success?i.jsx(ut,{className:"w-5 h-5 text-green-400 mt-0.5"}):i.jsx(Nl,{className:"w-5 h-5 text-red-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm font-medium ${m.success?"text-green-400":"text-red-400"}`,children:m.message}),m.success&&m.filled_fields?.length>0&&i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Campos preenchidos:"}),i.jsx("ul",{className:"text-xs text-text-muted list-disc list-inside",children:m.filled_fields.map(P=>i.jsxs("li",{children:[P==="carbon_kg_co2eq"?"Carbono":P==="water_m3"?"gua":P==="energy_kwh"?"Energia":P==="recyclability_pct"?"Reciclabilidade":P,m.values?.[P]&&i.jsxs("span",{className:"ml-2 text-text-primary",children:["(",m.values[P].toFixed(2),")"]})]},P))}),i.jsx("p",{className:"text-xs text-amber-400 mt-2",children:" Estes valores so estimados (preciso tpica 30%)"})]})]})]})})]})}),n&&i.jsx(ui,{title:"Trust Index - Breakdown",icon:"",children:i.jsxs("div",{className:"space-y-3",children:[n.key_messages&&n.key_messages.length>0&&i.jsx("div",{className:"bg-background/50 rounded-lg p-3 space-y-1",children:n.key_messages.map((P,_)=>i.jsx("p",{className:"text-sm text-text-muted",children:P},_))}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border/50",children:[i.jsx("th",{className:"text-left py-2 text-text-muted font-medium",children:"Campo"}),i.jsx("th",{className:"text-center py-2 text-text-muted font-medium",children:"Score"}),i.jsx("th",{className:"text-center py-2 text-text-muted font-medium",children:"Tipo"}),i.jsx("th",{className:"text-right py-2 text-text-muted font-medium",children:"ltima Atualizao"})]})}),i.jsx("tbody",{children:Object.entries(n.field_metas||{}).map(([P,_])=>{const D={carbon_footprint_kg_co2eq:"Carbono",water_m3:"gua",energy_kwh:"Energia",recycled_content_pct:"Contedo Reciclado",recyclability_pct:"Reciclabilidade"}[P]||P,M={MEDIDO:"Medido",REPORTADO:"Reportado",ESTIMADO:"Estimado",DESCONHECIDO:"Desconhecido"}[_.base_class]||_.base_class,F=_.last_updated?new Date(_.last_updated).toLocaleDateString("pt-PT"):"";return i.jsxs("tr",{className:"border-b border-border/30",children:[i.jsx("td",{className:"py-2 text-text-primary",children:D}),i.jsx("td",{className:"text-center py-2",children:i.jsx("span",{className:`font-semibold ${_.field_score>=80?"text-green-400":_.field_score>=60?"text-amber-400":"text-red-400"}`,children:_.field_score?.toFixed(0)||""})}),i.jsx("td",{className:"text-center py-2",children:i.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${_.base_class==="MEDIDO"?"bg-green-500/20 text-green-400":_.base_class==="REPORTADO"?"bg-blue-500/20 text-blue-400":_.base_class==="ESTIMADO"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:[M,_.third_party_verified&&" "]})}),i.jsx("td",{className:"text-right py-2 text-text-muted text-xs",children:F})]},P)})})]})})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 rounded-xl p-3 border border-blue-500/20",children:[i.jsx("p",{className:"text-xs text-blue-400 uppercase tracking-wider",children:"Carbono"}),i.jsxs("p",{className:"text-lg font-bold text-text-primary",children:[t.carbon_footprint_kg_co2eq?.toFixed(1)," ",i.jsx("span",{className:"text-xs font-normal",children:"kg COe"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/10 to-cyan-600/5 rounded-xl p-3 border border-cyan-500/20",children:[i.jsx("p",{className:"text-xs text-cyan-400 uppercase tracking-wider",children:"gua"}),i.jsxs("p",{className:"text-lg font-bold text-text-primary",children:[t.water_consumption_m3?.toFixed(1)," ",i.jsx("span",{className:"text-xs font-normal",children:"m"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 rounded-xl p-3 border border-green-500/20",children:[i.jsx("p",{className:"text-xs text-green-400 uppercase tracking-wider",children:"Reciclvel"}),i.jsxs("p",{className:"text-lg font-bold text-text-primary",children:[t.recyclability_percent?.toFixed(0),"%"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 rounded-xl p-3 border border-purple-500/20",children:[i.jsx("p",{className:"text-xs text-purple-400 uppercase tracking-wider",children:"Completude"}),i.jsxs("p",{className:"text-lg font-bold text-text-primary",children:[t.data_completeness_percent?.toFixed(0),"%"]})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsx(ui,{title:"Identificao",icon:"",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-text-muted text-xs",children:"Fabricante"}),i.jsx("p",{className:"text-text-primary",children:t.manufacturer_name||""})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-text-muted text-xs",children:"Pas Origem"}),i.jsx("p",{className:"text-text-primary",children:t.country_of_origin||""})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-text-muted text-xs",children:"EORI"}),i.jsx("p",{className:"text-text-primary font-mono text-xs",children:t.manufacturer_eori||""})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-text-muted text-xs",children:"Site ID"}),i.jsx("p",{className:"text-text-primary font-mono text-xs",children:t.manufacturing_site_id||""})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("p",{className:"text-text-muted text-xs",children:"Lote/Srie"}),i.jsx("p",{className:"text-text-primary font-mono",children:t.serial_or_lot||""})]})]})}),i.jsx(ui,{title:"Impacto Ambiental",icon:"",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-text-muted",children:"Fabrico"}),i.jsxs("span",{className:"text-text-primary",children:[t.impact_breakdown?.manufacturing_kg_co2eq?.toFixed(1)||0," kg COe"]})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-text-muted",children:"Distribuio"}),i.jsxs("span",{className:"text-text-primary",children:[t.impact_breakdown?.distribution_kg_co2eq?.toFixed(1)||0," kg COe"]})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-text-muted",children:"Fim de Vida"}),i.jsxs("span",{className:"text-text-primary",children:[t.impact_breakdown?.end_of_life_kg_co2eq?.toFixed(1)||0," kg COe"]})]}),i.jsx("div",{className:"border-t border-border/50 pt-2 mt-2",children:i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-text-muted",children:"Energia"}),i.jsxs("span",{className:"text-text-primary",children:[t.energy_consumption_kwh||0," kWh"]})]})})]})})]}),i.jsx(ui,{title:"Composio de Materiais",icon:"",children:i.jsx("div",{className:"space-y-2",children:t.materials?.map((P,_)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-text-primary",children:P.material_name}),i.jsxs("span",{className:"text-text-muted",children:[P.percentage,"%"]})]}),i.jsx("div",{className:"h-2 bg-border/30 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-nikufra to-nikufra-light",style:{width:`${P.percentage}%`}})})]}),i.jsxs("span",{className:"text-xs text-text-muted w-16 text-right",children:[P.mass_kg?.toFixed(1)||""," kg"]})]},_))})}),t.components?.length>0&&i.jsx(ui,{title:"Componentes",icon:"",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.components.map((P,_)=>i.jsxs("div",{className:"flex justify-between items-center bg-background/50 rounded-lg px-3 py-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-text-primary",children:P.component_name}),i.jsx("p",{className:"text-xs text-text-muted",children:P.supplier_name||"Interno"})]}),i.jsxs("span",{className:"text-text-muted",children:[P.weight_kg?.toFixed(1)," kg"]})]},_))})}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsx(ui,{title:"Circularidade & Durabilidade",icon:"",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Contedo Reciclado"}),i.jsxs("span",{className:"text-sm text-text-primary font-medium",children:[t.recycled_content_percent||0,"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Reciclabilidade"}),i.jsxs("span",{className:"text-sm text-text-primary font-medium",children:[t.recyclability_percent||0,"%"]})]}),i.jsxs("div",{className:"pt-2 space-y-2",children:[i.jsx(uO,{value:t.durability_score||5,label:"Durabilidade"}),i.jsx(uO,{value:t.reparability_score||5,label:"Reparabilidade"})]})]})}),i.jsx(ui,{title:"Substncias Perigosas",icon:"",children:t.hazardous_substances?.length>0?i.jsx("div",{className:"space-y-2",children:t.hazardous_substances.map((P,_)=>i.jsxs("div",{className:"flex justify-between items-center text-sm bg-background/50 rounded-lg px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-text-primary",children:P.substance_name}),i.jsx("p",{className:"text-xs text-text-muted",children:P.regulation})]}),i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${P.status==="below_limit"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:P.status==="below_limit"?" Conforme":" Acima"})]},_))}):i.jsx("p",{className:"text-sm text-green-400",children:" Sem substncias perigosas declaradas"})})]}),i.jsx(ui,{title:"Certificaes & Normas",icon:"",children:t.certifications?.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:t.certifications.map((P,_)=>i.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/30 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-sm font-medium text-amber-400",children:P.scheme}),i.jsx("p",{className:"text-xs text-text-muted",children:P.issuer}),P.valid_until&&i.jsxs("p",{className:"text-xs text-text-muted",children:["Vlido at ",new Date(P.valid_until).toLocaleDateString("pt-PT")]})]},_))}):i.jsx("p",{className:"text-sm text-text-muted",children:"Sem certificaes registadas"})}),t.third_party_audits?.length>0&&i.jsx(ui,{title:"Auditorias de Terceiros",icon:"",children:i.jsx("div",{className:"space-y-2",children:t.third_party_audits.map((P,_)=>i.jsxs("div",{className:"flex justify-between items-center bg-background/50 rounded-lg px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-text-primary",children:P.auditor_name}),i.jsx("p",{className:"text-xs text-text-muted",children:P.scope})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500/20 text-green-400 rounded",children:P.result}),i.jsx("p",{className:"text-xs text-text-muted mt-1",children:new Date(P.date).toLocaleDateString("pt-PT")})]})]},_))})}),g&&i.jsx(ui,{title:"Compliance Radar",icon:"",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:`grid gap-4 ${g.cbam_score!==null?"grid-cols-3":"grid-cols-2"}`,children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-2",children:[i.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-border/30"}),i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-g.espr_score/100)}`,className:`${g.espr_score>=80?"text-green-400":g.espr_score>=60?"text-amber-400":"text-red-400"}`})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("span",{className:`text-lg font-bold ${g.espr_score>=80?"text-green-400":g.espr_score>=60?"text-amber-400":"text-red-400"}`,children:g.espr_score.toFixed(0)})})]}),i.jsx("p",{className:"text-xs text-text-muted font-medium",children:"ESPR"})]}),g.cbam_score!==null&&i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-2",children:[i.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-border/30"}),i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-g.cbam_score/100)}`,className:`${g.cbam_score>=80?"text-green-400":g.cbam_score>=60?"text-amber-400":"text-red-400"}`})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("span",{className:`text-lg font-bold ${g.cbam_score>=80?"text-green-400":g.cbam_score>=60?"text-amber-400":"text-red-400"}`,children:g.cbam_score.toFixed(0)})})]}),i.jsx("p",{className:"text-xs text-text-muted font-medium",children:"CBAM"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-2",children:[i.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-border/30"}),i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-g.csrd_score/100)}`,className:`${g.csrd_score>=80?"text-green-400":g.csrd_score>=60?"text-amber-400":"text-red-400"}`})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("span",{className:`text-lg font-bold ${g.csrd_score>=80?"text-green-400":g.csrd_score>=60?"text-amber-400":"text-red-400"}`,children:g.csrd_score.toFixed(0)})})]}),i.jsx("p",{className:"text-xs text-text-muted font-medium",children:"CSRD"})]})]}),g.critical_gaps&&g.critical_gaps.length>0&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[i.jsxs("h5",{className:"font-semibold text-red-400 mb-2 flex items-center gap-2",children:[i.jsx(Nl,{className:"w-4 h-4"}),"Gaps Crticos"]}),i.jsx("ul",{className:"space-y-1",children:g.critical_gaps.map((P,_)=>i.jsxs("li",{className:"text-sm text-text-muted",children:[" ",P]},_))})]}),g.recommended_actions&&g.recommended_actions.length>0&&i.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:[i.jsxs("h5",{className:"font-semibold text-amber-400 mb-2 flex items-center gap-2",children:[i.jsx(da,{className:"w-4 h-4"}),"Aes Recomendadas"]}),i.jsx("ul",{className:"space-y-1",children:g.recommended_actions.map((P,_)=>i.jsxs("li",{className:"text-sm text-text-muted",children:[" ",P]},_))})]})]})}),i.jsxs("div",{className:"border-t border-border/50 pt-4 flex justify-between items-center text-xs text-text-muted",children:[i.jsxs("div",{children:[i.jsxs("p",{children:["DPP ID: ",i.jsx("span",{className:"font-mono",children:t.dpp_id})]}),i.jsxs("p",{children:["Criado: ",new Date(t.created_at).toLocaleString("pt-PT")]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{children:["Atualizado: ",new Date(t.updated_at).toLocaleString("pt-PT")]}),i.jsxs("p",{children:["QR Slug: ",i.jsx("span",{className:"font-mono",children:t.qr_slug})]})]})]})]}):i.jsx("div",{className:"rounded-2xl border border-border bg-surface p-8 text-center min-h-[400px]",children:i.jsx("p",{className:"text-red-400",children:"Erro ao carregar DPP"})}):i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-8 flex flex-col items-center justify-center min-h-[400px]",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("p",{className:"text-text-muted",children:"Seleciona um DPP da lista para ver detalhes"})]})},Tse=O.lazy(()=>ka(()=>import("./DupliosAnalyticsPanel-B5-AFXGc.js"),[]));async function s_(){const e=await fetch(`${Ce}/duplios/items?limit=100`);return e.ok?e.json():[]}async function Ase(e){const t=await fetch(`${Ce}/duplios/items/${e}/revisions`);return t.ok?t.json():[]}async function Mse(e){const t=await fetch(`${Ce}/duplios/identity/${e}/list`);return t.ok?t.json():[]}async function Rse(e){const t=await fetch(`${Ce}/duplios/revisions/${e}/lca/recalculate`,{method:"POST"});if(!t.ok)throw new Error("Failed to recalculate LCA");return t.json()}async function Dse(e,t){const r=await fetch(`${Ce}/duplios/items/${e}/revisions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t})});if(!r.ok)throw new Error("Failed to create revision");return r.json()}async function Ise(e){const t=await fetch(`${Ce}/duplios/revisions/${e}/release`,{method:"POST"});if(!t.ok)throw new Error("Failed to release revision");return t.json()}async function $se(e,t,r){const n=await fetch(`${Ce}/duplios/identity/ingest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({revision_id:e,identity_type:t,identity_value:r})});if(!n.ok)throw new Error("Failed to ingest identity");return n.json()}async function Fse(e,t,r){const n=await fetch(`${Ce}/duplios/identity/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({revision_id:e,identity_type:t,identity_value:r})});if(!n.ok)throw new Error("Failed to verify identity");return n.json()}const ol=({title:e,value:t,subtitle:r,icon:n,color:a})=>i.jsx("div",{className:`bg-gradient-to-br ${a} rounded-2xl p-4 border border-white/10`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-white/70 uppercase tracking-wider",children:e}),i.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:t}),r&&i.jsx("p",{className:"text-xs text-white/50 mt-1",children:r})]}),i.jsx("span",{className:"text-3xl",children:n})]})}),py=({label:e,count:t,total:r,color:n})=>{const a=r>0?Math.round(t/r*100):0;return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-text-muted",children:e}),i.jsxs("span",{className:"text-text-primary font-medium",children:[t,"/",r," (",a,"%)"]})]}),i.jsx("div",{className:"h-2 bg-border/30 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${n} transition-all`,style:{width:`${a}%`}})})]})},g1=({status:e})=>{const t={DRAFT:{bg:"bg-slate-500/20",text:"text-slate-400"},RELEASED:{bg:"bg-emerald-500/20",text:"text-emerald-400"},OBSOLETE:{bg:"bg-red-500/20",text:"text-red-400"},VERIFIED:{bg:"bg-emerald-500/20",text:"text-emerald-400"},PENDING:{bg:"bg-amber-500/20",text:"text-amber-400"},INVALID:{bg:"bg-red-500/20",text:"text-red-400"}},r=t[e]||t.DRAFT;return i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r.bg} ${r.text}`,children:e})},Lse=()=>{const e=Nt(),[t,r]=O.useState(null),[n,a]=O.useState(!1),[s,o]=O.useState(""),{data:l,isLoading:u}=xe({queryKey:["pdm-items"],queryFn:s_}),{data:d}=xe({queryKey:["pdm-revisions",t?.id],queryFn:()=>Ase(t.id),enabled:!!t}),h=qe({mutationFn:()=>Dse(t.id,s),onSuccess:()=>{e.invalidateQueries({queryKey:["pdm-revisions",t?.id]}),a(!1),o("")}}),m=qe({mutationFn:p=>Ise(p),onSuccess:()=>{e.invalidateQueries({queryKey:["pdm-revisions",t?.id]}),e.invalidateQueries({queryKey:["pdm-items"]})}});return i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[i.jsx(fn,{className:"w-5 h-5 text-cyan-400"}),"Itens PDM"]}),u?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(De,{className:"w-6 h-6 text-cyan-400 animate-spin"})}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l?.map(p=>i.jsx("div",{onClick:()=>r(p),className:`p-3 rounded-lg cursor-pointer transition-all ${t?.id===p.id?"bg-cyan-500/10 border border-cyan-500/30":"bg-background hover:bg-slate-800/50 border border-transparent"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-text-primary",children:p.item_number}),i.jsx("p",{className:"text-xs text-text-muted",children:p.description||p.item_type})]}),i.jsx("div",{className:"text-right",children:p.active_revision&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-xs text-cyan-400",children:["Rev. ",p.active_revision.revision_label]}),i.jsx(g1,{status:p.active_revision.status})]})})]})},p.id))})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary flex items-center gap-2",children:[i.jsx(UK,{className:"w-5 h-5 text-purple-400"}),"Revises"]}),t&&i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-sm rounded-lg transition",children:[i.jsx(Dl,{className:"w-4 h-4"}),"Nova Reviso"]})]}),t?i.jsxs("div",{className:"space-y-3",children:[n&&i.jsxs("div",{className:"p-3 rounded-lg bg-purple-500/10 border border-purple-500/30 space-y-3",children:[i.jsx("input",{type:"text",placeholder:"Descrio da nova reviso...",value:s,onChange:p=>o(p.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-text-primary text-sm focus:border-purple-500 focus:outline-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"flex-1 py-2 bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:h.isPending?"A criar...":"Criar Reviso"}),i.jsx("button",{onClick:()=>a(!1),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white text-sm rounded-lg transition",children:i.jsx(va,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto",children:d?.map(p=>i.jsxs("div",{className:"p-3 rounded-lg bg-background border border-border/50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ya,{className:"w-4 h-4 text-purple-400"}),i.jsxs("span",{className:"font-medium text-text-primary",children:["Rev. ",p.revision_label]}),i.jsx(g1,{status:p.status})]}),p.status==="DRAFT"&&i.jsx("button",{onClick:()=>m.mutate(p.id),disabled:m.isPending,className:"text-xs text-emerald-400 hover:text-emerald-300 transition",children:"Publicar"})]}),p.description&&i.jsx("p",{className:"text-xs text-text-muted mt-1",children:p.description}),i.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Criada: ",new Date(p.created_at).toLocaleString("pt-PT")]})]},p.id))})]}):i.jsx("p",{className:"text-center text-text-muted py-8",children:"Selecione um item para ver as revises"})]})]})},zse=()=>{const e=Nt(),[t,r]=O.useState(null),[n,a]=O.useState({type:"SERIAL",value:""}),[s,o]=O.useState({type:"SERIAL",value:""}),{data:l}=xe({queryKey:["pdm-items"],queryFn:s_}),u=t?.active_revision?.id,{data:d,isLoading:h}=xe({queryKey:["identities",u],queryFn:()=>Mse(u),enabled:!!u}),m=qe({mutationFn:()=>$se(u,n.type,n.value),onSuccess:()=>{e.invalidateQueries({queryKey:["identities",u]}),a({type:"SERIAL",value:""})}}),p=qe({mutationFn:()=>Fse(u,s.type,s.value)}),g=["SERIAL","BATCH","RFID","QR_CODE","GTIN","EPC"];return i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[i.jsx(fn,{className:"w-5 h-5 text-cyan-400"}),"Produtos"]}),i.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:l?.filter(y=>y.active_revision).map(y=>i.jsxs("div",{onClick:()=>r(y),className:`p-3 rounded-lg cursor-pointer transition-all ${t?.id===y.id?"bg-cyan-500/10 border border-cyan-500/30":"bg-background hover:bg-slate-800/50 border border-transparent"}`,children:[i.jsx("p",{className:"font-medium text-text-primary",children:y.item_number}),i.jsxs("p",{className:"text-xs text-text-muted",children:["Rev. ",y.active_revision?.revision_label]})]},y.id))})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[i.jsx(Dl,{className:"w-5 h-5 text-emerald-400"}),"Registar Identidade"]}),t?i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx("select",{value:n.type,onChange:y=>a(v=>({...v,type:y.target.value})),className:"px-3 py-2 bg-background border border-border rounded-lg text-text-primary text-sm",children:g.map(y=>i.jsx("option",{value:y,children:y},y))}),i.jsx("input",{type:"text",placeholder:"Valor da identidade...",value:n.value,onChange:y=>a(v=>({...v,value:y.target.value})),className:"px-3 py-2 bg-background border border-border rounded-lg text-text-primary text-sm"}),i.jsx("button",{onClick:()=>m.mutate(),disabled:!n.value||m.isPending,className:"py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:m.isPending?"A registar...":"Registar"})]}):i.jsx("p",{className:"text-text-muted text-sm",children:"Selecione um produto primeiro"})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[i.jsx(da,{className:"w-5 h-5 text-amber-400"}),"Verificar Identidade"]}),t?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx("select",{value:s.type,onChange:y=>o(v=>({...v,type:y.target.value})),className:"px-3 py-2 bg-background border border-border rounded-lg text-text-primary text-sm",children:g.map(y=>i.jsx("option",{value:y,children:y},y))}),i.jsx("input",{type:"text",placeholder:"Valor a verificar...",value:s.value,onChange:y=>o(v=>({...v,value:y.target.value})),className:"px-3 py-2 bg-background border border-border rounded-lg text-text-primary text-sm"}),i.jsx("button",{onClick:()=>p.mutate(),disabled:!s.value||p.isPending,className:"py-2 bg-amber-600 hover:bg-amber-500 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:p.isPending?"A verificar...":"Verificar"})]}),p.data&&i.jsx("div",{className:`p-3 rounded-lg ${p.data.match?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[p.data.match?i.jsx(ut,{className:"w-5 h-5 text-emerald-400"}):i.jsx(Te,{className:"w-5 h-5 text-red-400"}),i.jsx("span",{className:p.data.match?"text-emerald-400":"text-red-400",children:p.data.match?"Identidade Vlida ":"Identidade No Encontrada"})]})})]}):i.jsx("p",{className:"text-text-muted text-sm",children:"Selecione um produto primeiro"})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[i.jsx(o$,{className:"w-5 h-5 text-purple-400"}),"Identidades Registadas"]}),u?h?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(De,{className:"w-5 h-5 text-purple-400 animate-spin"})}):d?.length===0?i.jsx("p",{className:"text-text-muted text-sm text-center py-4",children:"Nenhuma identidade registada"}):i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:d?.map(y=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background border border-border/50",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-text-primary font-mono",children:y.identity_value}),i.jsx("p",{className:"text-xs text-text-muted",children:y.identity_type})]}),i.jsx(g1,{status:y.status})]},y.id))}):i.jsx("p",{className:"text-text-muted text-sm",children:"Selecione um produto para ver as identidades"})]})]})]})},qse=({products:e,stats:t})=>{Nt();const[r,n]=O.useState(null),{data:a}=xe({queryKey:["pdm-items"],queryFn:s_}),s=qe({mutationFn:o=>Rse(o),onSuccess:o=>{alert(`LCA Recalculado!
Carbono: ${o.carbon_kg_co2eq.toFixed(2)} kg COe
gua: ${o.water_m3.toFixed(2)} m
Energia: ${o.energy_mj.toFixed(2)} MJ`)}});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary flex items-center gap-2",children:" Impacto Ambiental Total"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 rounded-xl p-4 border border-green-500/20",children:[i.jsx("p",{className:"text-xs text-green-400 uppercase tracking-wider",children:"Carbono Total"}),i.jsxs("p",{className:"text-2xl font-bold text-text-primary",children:[t.totalCarbon.toFixed(0)," ",i.jsx("span",{className:"text-sm font-normal",children:"kg COe"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 rounded-xl p-4 border border-blue-500/20",children:[i.jsx("p",{className:"text-xs text-blue-400 uppercase tracking-wider",children:"Produtos"}),i.jsx("p",{className:"text-2xl font-bold text-text-primary",children:t.total})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t border-border/50",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Mdia por produto"}),i.jsxs("span",{className:"text-sm text-text-primary font-medium",children:[t.total>0?(t.totalCarbon/t.total).toFixed(1):0," kg COe"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Reciclabilidade mdia"}),i.jsxs("span",{className:"text-sm text-text-primary font-medium",children:[t.avgRecyclability.toFixed(0),"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-text-muted",children:"Contedo reciclado mdio"}),i.jsxs("span",{className:"text-sm text-text-primary font-medium",children:[t.avgRecycledContent.toFixed(0),"%"]})]})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-text-primary flex items-center gap-2",children:[i.jsx(T2,{className:"w-5 h-5 text-emerald-400"}),"Recalcular LCA"]}),i.jsx("p",{className:"text-sm text-text-muted",children:"Selecione um produto para recalcular o impacto ambiental com base na BOM atual."}),i.jsxs("select",{value:r||"",onChange:o=>n(Number(o.target.value)||null),className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-text-primary",children:[i.jsx("option",{value:"",children:"Selecionar produto..."}),a?.filter(o=>o.active_revision).map(o=>i.jsxs("option",{value:o.active_revision?.id,children:[o.item_number," (Rev. ",o.active_revision?.revision_label,")"]},o.id))]}),i.jsx("button",{onClick:()=>r&&s.mutate(r),disabled:!r||s.isPending,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white font-medium rounded-lg transition disabled:opacity-50",children:s.isPending?"A calcular...":" Recalcular Impacto"})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary flex items-center gap-2",children:" Top Produtos por Carbono"}),i.jsx("div",{className:"space-y-3",children:e.sort((o,l)=>(l.carbon_footprint_kg_co2eq||0)-(o.carbon_footprint_kg_co2eq||0)).slice(0,5).map((o,l)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-lg font-bold text-text-muted w-6",children:l+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-text-primary font-medium truncate",children:o.product_name}),i.jsx("p",{className:"text-xs text-text-muted",children:o.product_category})]}),i.jsxs("span",{className:"text-sm font-bold text-green-400",children:[o.carbon_footprint_kg_co2eq?.toFixed(0)," kg"]})]},o.dpp_id))})]})]})},Bse=()=>{const[e,t]=O.useState(null),[r,n]=O.useState(0),[a,s]=O.useState(!1),[o,l]=O.useState("overview"),[u,d]=O.useState({total:0,published:0,totalCarbon:0,avgTrust:0,avgRecyclability:0,avgRecycledContent:0,categories:0,espr:0,cbam:0,csrd:0}),[h,m]=O.useState([]);O.useEffect(()=>{rL().then(v=>{m(v);const b=v.filter(L=>L.status==="published").length,w=v.reduce((L,M)=>L+(M.carbon_footprint_kg_co2eq||0),0),S=v.length>0?v.reduce((L,M)=>L+(M.trust_index||0),0)/v.length:0,k=v.length>0?v.reduce((L,M)=>L+(M.recyclability_percent||0),0)/v.length:0,E=v.length>0?v.reduce((L,M)=>L+(M.recycled_content_percent||0),0)/v.length:0,P=new Set(v.map(L=>L.product_category).filter(Boolean)).size,_=v.filter(L=>L.compliance?.espr_compliant).length,T=v.filter(L=>L.compliance?.cbam_compliant).length,D=v.filter(L=>L.compliance?.csrd_compliant).length;d({total:v.length,published:b,totalCarbon:w,avgTrust:S,avgRecyclability:k,avgRecycledContent:E,categories:P,espr:_,cbam:T,csrd:D})}).catch(()=>{})},[r]);const p=()=>window.open(`${Ce}/duplios/export/csv`,"_blank"),g=()=>window.open(`${Ce}/duplios/export/json`,"_blank"),y=[{id:"overview",label:"Viso Geral",icon:i.jsx(bo,{className:"w-4 h-4"})},{id:"pdm",label:"PDM",icon:i.jsx(fn,{className:"w-4 h-4"})},{id:"impact",label:"Impacto",icon:i.jsx(T2,{className:"w-4 h-4"})},{id:"compliance",label:"Compliance",icon:i.jsx(da,{className:"w-4 h-4"})},{id:"identity",label:"Identidade",icon:i.jsx(o$,{className:"w-4 h-4"})},{id:"analytics",label:"Analytics",icon:i.jsx(dr,{className:"w-4 h-4"})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-muted",children:"DUPLIOS"}),i.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:"Passaportes Digitais de Produto"}),i.jsx("p",{className:"text-sm text-text-muted max-w-2xl mt-1",children:"PDM Lite + DPP + LCA + Identidade Digital. Compliant com ESPR, CBAM e CSRD."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-surface border border-border hover:border-nikufra/50 rounded-lg text-text-primary text-sm transition-colors",children:" CSV"}),i.jsx("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 bg-surface border border-border hover:border-nikufra/50 rounded-lg text-text-primary text-sm transition-colors",children:" JSON"}),i.jsx("button",{onClick:()=>s(!a),className:"flex items-center gap-2 px-4 py-2 bg-nikufra hover:bg-nikufra-light rounded-lg text-white font-medium transition-colors",children:a?" Fechar":"+ Novo DPP"})]})]}),i.jsx("div",{className:"flex gap-1 p-1 bg-surface rounded-xl w-fit",children:y.map(v=>i.jsxs("button",{onClick:()=>l(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===v.id?"bg-nikufra text-white":"text-text-muted hover:text-text-primary hover:bg-slate-700/30"}`,children:[v.icon,v.label]},v.id))}),o==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[i.jsx(ol,{title:"Total DPPs",value:u.total,subtitle:`${u.published} publicados`,icon:"",color:"from-blue-600/80 to-blue-800/80"}),i.jsx(ol,{title:"Categorias",value:u.categories,subtitle:"tipos de produto",icon:"",color:"from-purple-600/80 to-purple-800/80"}),i.jsx(ol,{title:"Pegada Carbnica",value:`${u.totalCarbon.toFixed(0)}`,subtitle:"kg COe total",icon:"",color:"from-emerald-600/80 to-emerald-800/80"}),i.jsx(ol,{title:"Trust Index",value:u.avgTrust.toFixed(0),subtitle:"mdia global",icon:"",color:"from-amber-600/80 to-amber-800/80"}),i.jsx(ol,{title:"Reciclabilidade",value:`${u.avgRecyclability.toFixed(0)}%`,subtitle:"mdia",icon:"",color:"from-green-600/80 to-green-800/80"}),i.jsx(ol,{title:"Reciclado",value:`${u.avgRecycledContent.toFixed(0)}%`,subtitle:"contedo mdio",icon:"",color:"from-cyan-600/80 to-cyan-800/80"})]}),a&&i.jsx(_se,{onCreated:()=>{n(v=>v+1),s(!1)}}),i.jsxs("div",{className:"grid lg:grid-cols-5 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(Pse,{onSelect:t,selectedId:e},r)}),i.jsx("div",{className:"lg:col-span-3",children:i.jsx(Ose,{dppId:e})})]})]}),o==="pdm"&&i.jsx(Lse,{}),o==="impact"&&i.jsx(qse,{products:h,stats:u}),o==="compliance"&&i.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"ESPR"}),i.jsxs("span",{className:"text-2xl font-bold text-green-400",children:[Math.round(u.espr/u.total*100)||0,"%"]})]}),i.jsx("p",{className:"text-xs text-text-muted",children:"Ecodesign for Sustainable Products Regulation"}),i.jsx(py,{label:"Conformes",count:u.espr,total:u.total,color:"bg-green-500"}),i.jsx("div",{className:"pt-3 border-t border-border/50",children:i.jsx("p",{className:"text-xs text-text-muted",children:"Requisitos: GTIN, materiais, reciclabilidade, instrues fim de vida"})})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"CBAM"}),i.jsxs("span",{className:"text-2xl font-bold text-blue-400",children:[Math.round(u.cbam/u.total*100)||0,"%"]})]}),i.jsx("p",{className:"text-xs text-text-muted",children:"Carbon Border Adjustment Mechanism"}),i.jsx(py,{label:"Conformes",count:u.cbam,total:u.total,color:"bg-blue-500"}),i.jsx("div",{className:"pt-3 border-t border-border/50",children:i.jsx("p",{className:"text-xs text-text-muted",children:"Requisitos: pegada carbnica, origem, dados energia/transporte"})})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"CSRD"}),i.jsxs("span",{className:"text-2xl font-bold text-purple-400",children:[Math.round(u.csrd/u.total*100)||0,"%"]})]}),i.jsx("p",{className:"text-xs text-text-muted",children:"Corporate Sustainability Reporting Directive"}),i.jsx(py,{label:"Conformes",count:u.csrd,total:u.total,color:"bg-purple-500"}),i.jsx("div",{className:"pt-3 border-t border-border/50",children:i.jsx("p",{className:"text-xs text-text-muted",children:"Requisitos: certificaes, auditorias de terceiros"})})]})]}),o==="identity"&&i.jsx(zse,{}),o==="analytics"&&i.jsx(O.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center py-24",children:i.jsx(De,{className:"w-8 h-8 text-primary animate-spin"})}),children:i.jsx(Tse,{})}),i.jsx("div",{className:"rounded-2xl border border-border bg-surface/50 p-6",children:i.jsxs("div",{className:"grid md:grid-cols-5 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary flex items-center gap-2",children:" QR Codes"}),i.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Cada DPP gera um QR code nico."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary flex items-center gap-2",children:" Trust Index"}),i.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Score 0-100 baseado em completude."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary flex items-center gap-2",children:" Compliance"}),i.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Avaliao ESPR, CBAM e CSRD."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary flex items-center gap-2",children:" PDM Lite"}),i.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Gesto de items e revises."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-text-primary flex items-center gap-2",children:" Identidade"}),i.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Rastreabilidade total."})]})]})})]})},ix="http://127.0.0.1:8000/shi-dt",Use=async()=>{const e=await fetch(`${ix}/machines`);if(!e.ok)throw new Error("Failed to fetch machines");return e.json()},Vse=async e=>{const t=await fetch(`${ix}/machines/${e}/status`);if(!t.ok)throw new Error("Failed to fetch machine status");return t.json()},Wse=async()=>{const e=await fetch(`${ix}/metrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return e.json()},Hse=async(e,t)=>{const r=await fetch(`${ix}/demo/generate-data?num_machines=${e}&readings_per_machine=${t}`,{method:"POST"});if(!r.ok)throw new Error("Failed to generate demo data");return r.json()},nL=({status:e})=>{const t={HEALTHY:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",WARNING:"bg-amber-500/20 text-amber-400 border-amber-500/30",CRITICAL:"bg-red-500/20 text-red-400 border-red-500/30"},r={HEALTHY:i.jsx(ut,{className:"w-3.5 h-3.5"}),WARNING:i.jsx(Te,{className:"w-3.5 h-3.5"}),CRITICAL:i.jsx(zr,{className:"w-3.5 h-3.5"})};return i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full border ${t[e]||t.HEALTHY}`,children:[r[e],e]})},iL=({value:e,size:t="md"})=>{const r={sm:{width:80,stroke:6,fontSize:"text-lg"},md:{width:120,stroke:8,fontSize:"text-2xl"},lg:{width:160,stroke:10,fontSize:"text-3xl"}},{width:n,stroke:a,fontSize:s}=r[t],o=(n-a)/2,l=o*Math.PI*2,u=Math.max(0,Math.min(100,e)),d=l-u/100*l,h=m=>m>=80?"#10b981":m>=50?"#f59e0b":"#ef4444";return i.jsxs("div",{className:"relative",style:{width:n,height:n},children:[i.jsxs("svg",{width:n,height:n,className:"transform -rotate-90",children:[i.jsx("circle",{cx:n/2,cy:n/2,r:o,strokeWidth:a,fill:"none",className:"stroke-zinc-800"}),i.jsx(de.circle,{cx:n/2,cy:n/2,r:o,strokeWidth:a,fill:"none",stroke:h(u),strokeLinecap:"round",strokeDasharray:l,initial:{strokeDashoffset:l},animate:{strokeDashoffset:d},transition:{duration:1,ease:"easeOut"}})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsxs("span",{className:`font-bold ${s}`,style:{color:h(u)},children:[u.toFixed(0),"%"]}),i.jsx("span",{className:"text-xs text-zinc-500",children:"Health"})]})]})},Kse=({trend:e,rate:t})=>{const r={degrading:{icon:Xn,color:"text-red-400",label:"Degrading"},stable:{icon:vr,color:"text-zinc-400",label:"Stable"},improving:{icon:ar,color:"text-emerald-400",label:"Improving"}},{icon:n,color:a,label:s}=r[e]||r.stable;return i.jsxs("div",{className:`flex items-center gap-1.5 ${a}`,children:[i.jsx(n,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:s}),t!==0&&i.jsxs("span",{className:"text-xs text-zinc-500",children:["(",t>0?"+":"",t.toFixed(3),"/h)"]})]})},Gse=({sensor:e})=>{const t={vibration:i.jsx(JK,{className:"w-4 h-4"}),temp:i.jsx(XK,{className:"w-4 h-4"}),current:i.jsx(zr,{className:"w-4 h-4"}),acoustic:i.jsx(vr,{className:"w-4 h-4"}),pressure:i.jsx(c$,{className:"w-4 h-4"})},r=()=>{for(const[a,s]of Object.entries(t))if(e.sensor.toLowerCase().includes(a))return s;return i.jsx(Ui,{className:"w-4 h-4"})},n=()=>e.trend==="increasing"?i.jsx(ar,{className:"w-3 h-3 text-red-400"}):e.trend==="decreasing"?i.jsx(Xn,{className:"w-3 h-3 text-emerald-400"}):null;return i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3 border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-zinc-300",children:[r(),i.jsx("span",{className:"text-sm font-medium capitalize",children:e.sensor.replace(/_/g," ")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[n(),i.jsxs("span",{className:"text-xs text-zinc-500",children:[e.contribution_pct.toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsxs("span",{className:"text-zinc-500",children:["Current: ",e.current.toFixed(2)]}),i.jsxs("span",{className:"text-zinc-500",children:["Baseline: ",e.baseline.toFixed(2)]})]}),i.jsx("div",{className:"mt-2 h-1.5 bg-zinc-700 rounded-full overflow-hidden",children:i.jsx(de.div,{className:"h-full bg-gradient-to-r from-amber-500 to-red-500",initial:{width:0},animate:{width:`${e.contribution_pct}%`},transition:{duration:.5}})})]})},Yse=({machine:e,isSelected:t,onClick:r})=>{const n={HEALTHY:"border-emerald-500/30 hover:border-emerald-500/50",WARNING:"border-amber-500/30 hover:border-amber-500/50",CRITICAL:"border-red-500/30 hover:border-red-500/50 animate-pulse"};return i.jsxs(de.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:`cursor-pointer bg-zinc-900/70 rounded-xl p-4 border transition-all ${n[e.status]} ${t?"ring-2 ring-cyan-500/50":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"font-mono text-sm text-zinc-300",children:e.machine_id}),i.jsx(nL,{status:e.status})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(iL,{value:e.health_index,size:"sm"}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"RUL"}),i.jsx("div",{className:"font-medium text-zinc-300",children:e.rul_hours!==null?`${e.rul_hours.toFixed(0)}h`:""}),e.alerts_count>0&&i.jsxs("div",{className:"flex items-center gap-1 text-amber-400 text-xs mt-1",children:[i.jsx(Te,{className:"w-3 h-3"}),e.alerts_count]})]})]})]})},Qse=({machineId:e})=>{const{data:t,isLoading:r,error:n}=xe({queryKey:["machine-status",e],queryFn:()=>Vse(e),refetchInterval:5e3});return r?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(De,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):n||!t?i.jsxs("div",{className:"flex items-center justify-center h-full text-red-400",children:[i.jsx(Te,{className:"w-6 h-6 mr-2"}),"Failed to load machine data"]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:t.machine_id}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nL,{status:t.status}),i.jsxs("span",{className:"text-sm text-zinc-400",children:["Profile: ",t.profile]})]})]}),i.jsx(iL,{value:t.health_index,size:"lg"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 mb-2",children:[i.jsx(E2,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Health Index"})]}),i.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[t.health_index.toFixed(1),"%",i.jsxs("span",{className:"text-lg text-zinc-500 ml-1",children:["",t.health_index_std.toFixed(1)]})]}),i.jsx(Kse,{trend:t.degradation.trend,rate:t.degradation.rate_per_hour})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 mb-2",children:[i.jsx(gi,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Remaining Useful Life"})]}),t.rul?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[t.rul.rul_hours.toFixed(0),"h"]}),i.jsxs("div",{className:"text-sm text-zinc-500",children:["95% CI: ",t.rul.rul_lower.toFixed(0),"-",t.rul.rul_upper.toFixed(0),"h",i.jsxs("span",{className:"ml-2",children:["(",(t.rul.confidence*100).toFixed(0),"% conf.)"]})]})]}):i.jsx("div",{className:"text-zinc-500",children:"Insufficient data"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx(vr,{className:"w-5 h-5 text-cyan-500"}),"Top Degradation Contributors"]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.top_contributors.map(a=>i.jsx(Gse,{sensor:a},a.sensor))})]}),t.active_alerts.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx(Te,{className:"w-5 h-5 text-amber-500"}),"Active Alerts (",t.active_alerts.length,")"]}),i.jsx("div",{className:"space-y-2",children:t.active_alerts.map(a=>i.jsxs("div",{className:`rounded-lg p-3 border ${a.severity==="critical"?"bg-red-500/10 border-red-500/30":"bg-amber-500/10 border-amber-500/30"}`,children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white",children:a.title}),i.jsx("div",{className:"text-sm text-zinc-400",children:a.message})]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${a.severity==="critical"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:a.severity.toUpperCase()})]}),a.recommended_actions.length>0&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-zinc-700/50",children:[i.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Recommended Actions:"}),i.jsx("ul",{className:"text-sm text-zinc-300 list-disc list-inside",children:a.recommended_actions.map((s,o)=>i.jsx("li",{children:s},o))})]})]},a.alert_id))})]}),i.jsxs("div",{className:"text-xs text-zinc-600 flex items-center justify-between pt-4 border-t border-zinc-800",children:[i.jsxs("span",{children:["Model: SHI-DT v",t.model_version]}),i.jsxs("span",{children:["Last update: ",new Date(t.last_sensor_update).toLocaleTimeString()]})]})]})},Xse=()=>{const[e,t]=O.useState(null),r=Nt(),{data:n,isLoading:a}=xe({queryKey:["shi-dt-machines"],queryFn:Use,refetchInterval:1e4}),{data:s}=xe({queryKey:["shi-dt-metrics"],queryFn:Wse,refetchInterval:1e4}),o=qe({mutationFn:()=>Hse(5,20),onSuccess:()=>{r.invalidateQueries({queryKey:["shi-dt-machines"]}),r.invalidateQueries({queryKey:["shi-dt-metrics"]})}}),l=n?.machines||[],u=s?.summary;return O.useEffect(()=>{l.length>0&&!e&&t(l[0].machine_id)},[l,e]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-zinc-900 to-zinc-950 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl",children:i.jsx(E2,{className:"w-8 h-8 text-cyan-500"})}),"SHI-DT: Machine Health Monitor"]}),i.jsx("p",{className:"text-zinc-400",children:"Real-time health monitoring with CVAE-based anomaly detection and RUL prediction"})]}),i.jsxs("button",{onClick:()=>o.mutate(),disabled:o.isPending,className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 rounded-lg transition-colors border border-cyan-500/30",children:[o.isPending?i.jsx(De,{className:"w-4 h-4 animate-spin"}):i.jsx(vi,{className:"w-4 h-4"}),"Generate Demo Data"]})]}),u&&i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-zinc-900/70 rounded-xl p-4 border border-zinc-800",children:[i.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-sm mb-1",children:[i.jsx(c$,{className:"w-4 h-4"}),"Avg. Health"]}),i.jsxs("div",{className:"text-2xl font-bold text-white",children:[u.average_health_index.toFixed(1),"%"]})]}),i.jsxs("div",{className:"bg-emerald-500/10 rounded-xl p-4 border border-emerald-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm mb-1",children:[i.jsx(ut,{className:"w-4 h-4"}),"Healthy"]}),i.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:u.healthy_count})]}),i.jsxs("div",{className:"bg-amber-500/10 rounded-xl p-4 border border-amber-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-400 text-sm mb-1",children:[i.jsx(Te,{className:"w-4 h-4"}),"Warning"]}),i.jsx("div",{className:"text-2xl font-bold text-amber-400",children:u.warning_count})]}),i.jsxs("div",{className:"bg-red-500/10 rounded-xl p-4 border border-red-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm mb-1",children:[i.jsx(zr,{className:"w-4 h-4"}),"Critical"]}),i.jsx("div",{className:"text-2xl font-bold text-red-400",children:u.critical_count})]})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[i.jsx("div",{className:"col-span-4",children:i.jsxs("div",{className:"bg-zinc-900/50 rounded-2xl p-4 border border-zinc-800",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Ui,{className:"w-5 h-5 text-cyan-500"}),"Machines (",l.length,")"]}),a?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(De,{className:"w-6 h-6 text-cyan-500 animate-spin"})}):l.length===0?i.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[i.jsx(O2,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No machines monitored yet"}),i.jsx("p",{className:"text-sm mt-1",children:'Click "Generate Demo Data" to start'})]}):i.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:i.jsx(pt,{children:l.map(d=>i.jsx(Yse,{machine:d,isSelected:e===d.machine_id,onClick:()=>t(d.machine_id)},d.machine_id))})})]})}),i.jsx("div",{className:"col-span-8",children:i.jsx("div",{className:"bg-zinc-900/50 rounded-2xl p-6 border border-zinc-800 min-h-[600px]",children:e?i.jsx(Qse,{machineId:e}):i.jsx("div",{className:"flex items-center justify-center h-full text-zinc-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Zr,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),i.jsx("p",{children:"Select a machine to view details"})]})})})})]}),i.jsxs("div",{className:"mt-8 text-center text-xs text-zinc-600",children:[i.jsx("p",{children:"SHI-DT uses Conditional Variational Autoencoders (CVAE) for health indicator extraction and exponential degradation models for RUL estimation."}),i.jsx("p",{className:"mt-1",children:"R&D / SIFIDE: WP1 - Digital Twin for Predictive Maintenance"})]})]})})},o_="http://127.0.0.1:8000/xai-dt",Jse=async()=>{const e=await fetch(`${o_}/analyses`);if(!e.ok)throw new Error("Failed to fetch analyses");return e.json()},Zse=async e=>{const t=await fetch(`${o_}/analyses/${e}`);if(!t.ok)throw new Error("Failed to fetch analysis");return t.json()},eoe=async e=>{const t=await fetch(`${o_}/demo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to run analysis");return t.json()},aL=({quality:e})=>{const t={excellent:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",good:"bg-green-500/20 text-green-400 border-green-500/30",acceptable:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",poor:"bg-orange-500/20 text-orange-400 border-orange-500/30",reject:"bg-red-500/20 text-red-400 border-red-500/30"},r={excellent:"Excelente",good:"Bom",acceptable:"Aceitvel",poor:"Fraco",reject:"Rejeitado"};return i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 text-sm font-medium rounded-full border ${t[e]||t.reject}`,children:[e==="excellent"||e==="good"?i.jsx(ga,{className:"w-4 h-4"}):e==="reject"?i.jsx(kl,{className:"w-4 h-4"}):i.jsx(Te,{className:"w-4 h-4"}),r[e]||e]})},toe=({score:e})=>{const r=60*Math.PI*2,n=Math.max(0,Math.min(100,e)),a=r-n/100*r,s=o=>o>=85?"#10b981":o>=70?"#22c55e":o>=50?"#eab308":o>=30?"#f97316":"#ef4444";return i.jsxs("div",{className:"relative w-40 h-40",children:[i.jsxs("svg",{width:160,height:160,className:"transform -rotate-90",children:[i.jsx("circle",{cx:80,cy:80,r:60,strokeWidth:12,fill:"none",className:"stroke-zinc-800"}),i.jsx(de.circle,{cx:80,cy:80,r:60,strokeWidth:12,fill:"none",stroke:s(n),strokeLinecap:"round",strokeDasharray:r,initial:{strokeDashoffset:r},animate:{strokeDashoffset:a},transition:{duration:1.5,ease:"easeOut"}})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-4xl font-bold",style:{color:s(n)},children:n.toFixed(0)}),i.jsx("span",{className:"text-sm text-zinc-500",children:"Score"})]})]})},ll=({label:e,value:t,unit:r,icon:n,status:a})=>{const s={good:"text-emerald-400",warning:"text-amber-400",bad:"text-red-400"};return i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-sm mb-2",children:[n,e]}),i.jsxs("div",{className:`text-2xl font-bold ${a?s[a]:"text-white"}`,children:[t,r&&i.jsx("span",{className:"text-base text-zinc-500 ml-1",children:r})]})]})},roe=({pattern:e})=>{const t={uniform_offset:"Deslocamento Uniforme",uniform_scale:"Escala Uniforme",directional_trend:"Tendncia Direcional",local_hotspot:"Ponto Quente Local",periodic:"Padro Peridico",random:"Variabilidade Aleatria",warping:"Deformao",taper:"Afilamento",twist:"Toro"},r={uniform_offset:i.jsx(a$,{className:"w-5 h-5"}),uniform_scale:i.jsx(fn,{className:"w-5 h-5"}),directional_trend:i.jsx(ar,{className:"w-5 h-5"}),local_hotspot:i.jsx(br,{className:"w-5 h-5"}),periodic:i.jsx(vr,{className:"w-5 h-5"}),random:i.jsx(Sm,{className:"w-5 h-5"}),warping:i.jsx(Xn,{className:"w-5 h-5"})};return i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg text-cyan-400",children:r[e.pattern]||i.jsx(uo,{className:"w-5 h-5"})}),i.jsx("span",{className:"font-medium text-white",children:t[e.pattern]||e.pattern})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"h-2 w-16 bg-zinc-700 rounded-full overflow-hidden",children:i.jsx(de.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500",initial:{width:0},animate:{width:`${e.confidence*100}%`},transition:{duration:.5}})}),i.jsxs("span",{className:"text-sm text-zinc-400 ml-1",children:[(e.confidence*100).toFixed(0),"%"]})]})]}),i.jsx("div",{className:"space-y-1",children:e.evidence.slice(0,3).map((n,a)=>i.jsxs("p",{className:"text-sm text-zinc-400 flex items-start gap-2",children:[i.jsx(Zr,{className:"w-4 h-4 mt-0.5 text-zinc-600"}),n]},a))})]})},noe=({cause:e})=>{const t={fixturing:"Fixao",calibration:"Calibrao",tool_wear:"Desgaste Ferramenta",thermal:"Trmico",material:"Material",vibration:"Vibrao",programming:"Programao",machine:"Mquina"},r={fixturing:"bg-blue-500/20 text-blue-400",calibration:"bg-purple-500/20 text-purple-400",tool_wear:"bg-orange-500/20 text-orange-400",thermal:"bg-red-500/20 text-red-400",material:"bg-amber-500/20 text-amber-400",vibration:"bg-pink-500/20 text-pink-400",programming:"bg-cyan-500/20 text-cyan-400",machine:"bg-green-500/20 text-green-400"};return i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${r[e.category]||"bg-zinc-500/20 text-zinc-400"}`,children:t[e.category]||e.category}),i.jsxs("span",{className:"text-sm text-zinc-400",children:[(e.confidence*100).toFixed(0),"% confiana"]})]}),i.jsx(Up,{className:"w-4 h-4 text-zinc-500"})]}),i.jsx("p",{className:"text-white font-medium mb-2",children:e.description}),i.jsxs("div",{className:"text-xs text-zinc-500",children:["Padres: ",e.patterns_linked.join(", ")]})]})},ioe=({action:e})=>{const t={high:"bg-red-500/20 text-red-400 border-red-500/30",medium:"bg-amber-500/20 text-amber-400 border-amber-500/30",low:"bg-green-500/20 text-green-400 border-green-500/30"},r={high:"Alta",medium:"Mdia",low:"Baixa"};return i.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg text-emerald-400",children:i.jsx(p$,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-white",children:e.action}),i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded border ${t[e.priority]}`,children:r[e.priority]})]}),i.jsx("p",{className:"text-sm text-zinc-400",children:e.expected_impact})]})]})})},aoe=({analysis:e})=>{const t=e.deviation_field;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Anlise: ",e.analysis_id]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-zinc-400",children:[i.jsxs("span",{children:["CAD: ",e.cad_name]}),i.jsxs("span",{children:["Scan: ",e.scan_name]}),i.jsx("span",{children:new Date(e.timestamp).toLocaleString()})]})]}),i.jsx(aL,{quality:e.overall_quality})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[i.jsx("div",{className:"col-span-3 flex justify-center",children:i.jsx(toe,{score:t.deviation_score})}),i.jsxs("div",{className:"col-span-9 grid grid-cols-3 gap-4",children:[i.jsx(ll,{label:"Desvio Mdio",value:t.mean_deviation.toFixed(3),unit:"mm",icon:i.jsx(KK,{className:"w-4 h-4"}),status:t.mean_deviation>t.tolerance?"bad":"good"}),i.jsx(ll,{label:"Desvio Mximo",value:t.max_deviation.toFixed(3),unit:"mm",icon:i.jsx(ar,{className:"w-4 h-4"}),status:t.max_deviation>t.tolerance*2?"bad":t.max_deviation>t.tolerance?"warning":"good"}),i.jsx(ll,{label:"Fora de Tolerncia",value:t.pct_out_of_tolerance.toFixed(1),unit:"%",icon:i.jsx(Te,{className:"w-4 h-4"}),status:t.pct_out_of_tolerance>10?"bad":t.pct_out_of_tolerance>5?"warning":"good"}),i.jsx(ll,{label:"Pontos Analisados",value:t.n_points.toLocaleString(),icon:i.jsx(Sm,{className:"w-4 h-4"})}),i.jsx(ll,{label:"Tolerncia",value:t.tolerance.toFixed(2),unit:"mm",icon:i.jsx(br,{className:"w-4 h-4"})}),i.jsx(ll,{label:"RMSE Alinhamento",value:t.alignment_rmse.toFixed(4),unit:"mm",icon:i.jsx(FK,{className:"w-4 h-4"})})]})]}),e.identified_patterns.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(C2,{className:"w-5 h-5 text-cyan-500"}),"Padres Identificados"]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.identified_patterns.map((r,n)=>i.jsx(roe,{pattern:r},n))})]}),e.root_causes.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Up,{className:"w-5 h-5 text-amber-500"}),"Causas Provveis (RCA)"]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.root_causes.map((r,n)=>i.jsx(noe,{cause:r},n))})]}),e.corrective_actions.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(td,{className:"w-5 h-5 text-emerald-500"}),"Aes Corretivas Recomendadas"]}),i.jsx("div",{className:"space-y-3",children:e.corrective_actions.map((r,n)=>i.jsx(ioe,{action:r},n))})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsx("h3",{className:"text-sm font-medium text-zinc-400 mb-2",children:"Resumo"}),i.jsx("pre",{className:"text-sm text-zinc-300 whitespace-pre-wrap font-mono",children:e.summary_text})]})]})},soe=()=>{const[e,t]=O.useState(null),[r,n]=O.useState({n_points:500,deviation_type:"random",deviation_magnitude:.8,tolerance:.5}),a=Nt(),{data:s,isLoading:o}=xe({queryKey:["xai-dt-analyses"],queryFn:Jse}),{data:l,isLoading:u}=xe({queryKey:["xai-dt-analysis",e],queryFn:()=>e?Zse(e):Promise.resolve(null),enabled:!!e}),d=qe({mutationFn:eoe,onSuccess:m=>{a.invalidateQueries({queryKey:["xai-dt-analyses"]}),t(m.analysis_id)}}),h=s?.analyses||[];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-zinc-900 to-zinc-950 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl",children:i.jsx(uo,{className:"w-8 h-8 text-purple-500"})}),"XAI-DT: Qualidade Geomtrica do Produto"]}),i.jsx("p",{className:"text-zinc-400",children:"Anlise explicvel CAD vs Scan com ICP, PCA e Root Cause Analysis"})]})}),i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl p-4 border border-zinc-800 mb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-zinc-400 mb-4 flex items-center gap-2",children:[i.jsx(Xr,{className:"w-4 h-4"}),"Anlise Demo"]}),i.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-zinc-500 mb-1",children:"Pontos"}),i.jsx("input",{type:"number",value:r.n_points,onChange:m=>n({...r,n_points:parseInt(m.target.value)}),className:"w-24 px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-zinc-500 mb-1",children:"Tipo Desvio"}),i.jsxs("select",{value:r.deviation_type,onChange:m=>n({...r,deviation_type:m.target.value}),className:"w-32 px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm",children:[i.jsx("option",{value:"offset",children:"Offset"}),i.jsx("option",{value:"scale",children:"Escala"}),i.jsx("option",{value:"random",children:"Aleatrio"}),i.jsx("option",{value:"local",children:"Local"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-zinc-500 mb-1",children:"Magnitude (mm)"}),i.jsx("input",{type:"number",step:"0.1",value:r.deviation_magnitude,onChange:m=>n({...r,deviation_magnitude:parseFloat(m.target.value)}),className:"w-24 px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-zinc-500 mb-1",children:"Tolerncia (mm)"}),i.jsx("input",{type:"number",step:"0.1",value:r.tolerance,onChange:m=>n({...r,tolerance:parseFloat(m.target.value)}),className:"w-24 px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm"})]}),i.jsxs("button",{onClick:()=>d.mutate(r),disabled:d.isPending,className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg transition-colors border border-purple-500/30",children:[d.isPending?i.jsx(De,{className:"w-4 h-4 animate-spin"}):i.jsx(vi,{className:"w-4 h-4"}),"Executar Anlise"]})]})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[i.jsx("div",{className:"col-span-3",children:i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl p-4 border border-zinc-800",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(C2,{className:"w-5 h-5 text-purple-500"}),"Anlises (",h.length,")"]}),o?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(De,{className:"w-6 h-6 text-purple-500 animate-spin"})}):h.length===0?i.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[i.jsx(uo,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Nenhuma anlise"}),i.jsx("p",{className:"text-sm",children:"Execute uma anlise demo"})]}):i.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:i.jsx(pt,{children:h.map(m=>i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>t(m.analysis_id),className:`cursor-pointer p-3 rounded-lg border transition-all ${e===m.analysis_id?"bg-purple-500/10 border-purple-500/30":"bg-zinc-800/50 border-zinc-700/50 hover:border-zinc-600"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-mono text-zinc-400",children:m.analysis_id}),i.jsx(aL,{quality:m.overall_quality})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-zinc-300",children:m.scan_name}),i.jsxs("span",{className:"text-sm font-medium text-white",children:[m.deviation_score.toFixed(0),"%"]})]})]},m.analysis_id))})})]})}),i.jsx("div",{className:"col-span-9",children:i.jsx("div",{className:"bg-zinc-900/50 rounded-xl p-6 border border-zinc-800 min-h-[600px]",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(De,{className:"w-8 h-8 text-purple-500 animate-spin"})}):l?i.jsx(aoe,{analysis:l}):i.jsx("div",{className:"flex items-center justify-center h-full text-zinc-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Zr,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),i.jsx("p",{children:"Selecione uma anlise ou execute uma nova"})]})})})})]}),i.jsxs("div",{className:"mt-8 text-center text-xs text-zinc-600",children:[i.jsx("p",{children:"XAI-DT utiliza alinhamento ICP, anlise PCA de desvios e Root Cause Analysis baseado em regras para identificar causas provveis de desvios geomtricos."}),i.jsx("p",{className:"mt-1",children:"R&D / SIFIDE: WP1 - Digital Twin & Explainability"})]})]})})},ooe=({data:e,loading:t})=>t?i.jsx(xy,{title:"Pr-visualizao do cenrio",children:i.jsx("p",{className:"text-sm text-text-muted",children:"A processar descrio..."})}):e?i.jsxs(xy,{title:"Pr-visualizao do cenrio",children:[e.error&&i.jsx("p",{className:"mb-4 rounded-xl border border-warning/40 bg-warning/10 px-4 py-2 text-sm text-warning",children:e.error}),i.jsx(gy,{title:"Novas mquinas",fallback:"Sem novas mquinas",children:(e.new_machines??[]).map((r,n)=>i.jsx(yy,{label:r.machine_id||"Sem ID",children:i.jsxs("p",{className:"text-xs text-text-muted",children:[r.description||"Sem descrio","  Grupo: ",r.group||"","  Fator velocidade:"," ",r.speed_factor_delta??1]})},`${r.machine_id}-${n}`))}),i.jsx(gy,{title:"Tempos atualizados",fallback:"Sem ajustes de tempos",children:(e.updated_times??[]).map((r,n)=>i.jsx(yy,{label:`Artigo ${r.article_id||""}`,children:i.jsxs("p",{className:"text-xs text-text-muted",children:["Operao ",r.op_code||"","  Fator tempo: ",r.time_factor??1]})},`${r.article_id}-${r.op_code}-${n}`))}),i.jsx(gy,{title:"Turnos ajustados",fallback:"Sem alteraes a turnos",children:(e.updated_shifts??[]).map((r,n)=>i.jsx(yy,{label:`Mquina ${r.machine_id||""}`,children:i.jsxs("p",{className:"text-xs text-text-muted",children:["Turno ",r.shift_id||"","  Alterao: ",r.change||""]})},`${r.machine_id}-${r.shift_id}-${n}`))})]}):i.jsx(xy,{title:"Pr-visualizao do cenrio",children:i.jsx("p",{className:"text-sm text-text-muted",children:"Descreve o cenrio para veres as alteraes propostas (mquinas, tempos e turnos)."})}),xy=({title:e,children:t})=>i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 shadow-glow",children:[i.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:e}),i.jsx("div",{className:"mt-4 space-y-4",children:t})]}),gy=({title:e,fallback:t,children:r})=>{const n=Array.isArray(r)?r.length>0:!!r;return i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-text-muted",children:e}),i.jsx("div",{className:"mt-2 space-y-2",children:n?r:i.jsx("p",{className:"text-sm text-text-muted",children:t})})]})},yy=({label:e,children:t})=>i.jsxs("div",{className:"rounded-xl border border-border/60 bg-background/70 p-3 text-sm text-text-primary",children:[i.jsx("p",{className:"font-semibold",children:e}),t]}),loe=({data:e,loading:t})=>t?i.jsx(vy,{title:"Comparao de cenrio",children:i.jsx("p",{className:"text-sm text-text-muted",children:"A comparar cenrios..."})}):e?i.jsxs(vy,{title:"Comparao de cenrio",children:[e.error&&i.jsx("p",{className:"mb-4 rounded-xl border border-danger/40 bg-danger/10 px-4 py-2 text-sm text-danger",children:e.error}),e.summary&&i.jsx("div",{className:"rounded-xl border border-nikufra/40 bg-nikufra/10 px-4 py-3 text-sm text-text-primary",children:e.summary}),e.makespan&&i.jsx(dO,{title:"Makespan",baseline:`${(e.makespan.baseline/60).toFixed(1)}h`,scenario:`${(e.makespan.scenario/60).toFixed(1)}h`,delta:e.makespan.delta_pct}),e.total_duration&&i.jsx(dO,{title:"Durao Total",baseline:`${(e.total_duration.baseline/60).toFixed(1)}h`,scenario:`${(e.total_duration.scenario/60).toFixed(1)}h`,delta:e.total_duration.delta_pct}),e.bottleneck&&i.jsxs("div",{className:"rounded-xl border border-border/60 bg-background/70 p-4",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-text-muted",children:"Gargalo"}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Baseline"}),i.jsx("p",{className:"text-sm font-semibold text-text-primary",children:e.bottleneck.baseline})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Cenrio"}),i.jsx("p",{className:"text-sm font-semibold text-text-primary",children:e.bottleneck.scenario})]})]}),e.bottleneck.changed&&i.jsx("p",{className:"mt-2 text-xs text-warning",children:" O gargalo mudou com este cenrio"})]}),e.machine_loads&&e.machine_loads.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-text-muted",children:"Carga por Mquina"}),i.jsx("div",{className:"mt-2 space-y-2",children:e.machine_loads.slice(0,5).map(r=>i.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border/60 bg-background/70 px-4 py-2 text-sm",children:[i.jsx("span",{className:"font-semibold text-text-primary",children:r.machine_id}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"text-text-muted",children:[(r.baseline_load_min/60).toFixed(1),"h"]}),i.jsx("span",{className:"text-text-muted",children:""}),i.jsxs("span",{className:"text-text-primary",children:[(r.scenario_load_min/60).toFixed(1),"h"]}),i.jsx(sL,{delta:r.delta_min/r.baseline_load_min*100})]})]},r.machine_id))})]})]}):i.jsx(vy,{title:"Comparao de cenrio",children:i.jsx("p",{className:"text-sm text-text-muted",children:'Clica em "Comparar cenrio" para ver o impacto das alteraes face ao baseline.'})}),vy=({title:e,children:t})=>i.jsxs("div",{className:"rounded-2xl border border-border bg-surface p-6 shadow-glow",children:[i.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:e}),i.jsx("div",{className:"mt-4 space-y-4",children:t})]}),dO=({title:e,baseline:t,scenario:r,delta:n})=>i.jsxs("div",{className:"rounded-xl border border-border/60 bg-background/70 p-4",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-text-muted",children:e}),i.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Baseline"}),i.jsx("p",{className:"text-lg font-bold text-text-primary",children:t})]}),i.jsx("span",{className:"text-text-muted",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-text-muted",children:"Cenrio"}),i.jsx("p",{className:"text-lg font-bold text-text-primary",children:r})]})]}),i.jsx(sL,{delta:n})]})]}),sL=({delta:e})=>{const t=e>0,n=e<0?"text-green-400 bg-green-500/20":t?"text-red-400 bg-red-500/20":"text-text-muted bg-background";return i.jsxs("span",{className:`rounded-lg px-2 py-1 text-xs font-semibold ${n}`,children:[t?"+":"",e.toFixed(1),"%"]})},oL="http://127.0.0.1:8000";async function coe(){const e=await fetch(`${oL}/zdm/dashboard`);if(!e.ok)throw new Error("Failed to fetch dashboard");return e.json()}async function uoe(e){const t=await fetch(`${oL}/zdm/simulate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,enable_priority_shuffle:!0,use_rul_data:!0})});if(!t.ok)throw new Error("Failed to run simulation");return t.json()}const doe=({score:e,grade:t})=>{const r=e>=70?"#10b981":e>=50?"#f59e0b":"#ef4444",n=70,a=10,s=2*Math.PI*n,o=s-e/100*s;return i.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[i.jsxs("svg",{width:n*2+a*2,height:n*2+a*2,className:"-rotate-90",children:[i.jsx("circle",{cx:n+a,cy:n+a,r:n,fill:"none",stroke:"currentColor",strokeWidth:a,className:"text-slate-700"}),i.jsx("circle",{cx:n+a,cy:n+a,r:n,fill:"none",stroke:r,strokeWidth:a,strokeLinecap:"round",strokeDasharray:s,strokeDashoffset:o,className:"transition-all duration-1000"})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-4xl font-bold text-white",children:t}),i.jsxs("span",{className:"text-lg text-slate-400",children:[e.toFixed(0),"%"]})]})]})},foe=({type:e,data:t})=>{const n={sudden:{icon:i.jsx(zr,{className:"w-4 h-4"}),color:"red",label:"Falha Sbita"},gradual:{icon:i.jsx(ar,{className:"w-4 h-4"}),color:"amber",label:"Degradao"},quality:{icon:i.jsx(br,{className:"w-4 h-4"}),color:"purple",label:"Qualidade"},material:{icon:i.jsx(vr,{className:"w-4 h-4"}),color:"blue",label:"Material"},operator:{icon:i.jsx(vr,{className:"w-4 h-4"}),color:"cyan",label:"Operador"}}[e]||{icon:i.jsx(Te,{className:"w-4 h-4"}),color:"slate",label:e};return i.jsxs("div",{className:`p-3 rounded-lg bg-${n.color}-500/10 border border-${n.color}-500/30`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:`text-${n.color}-400`,children:n.icon}),i.jsx("span",{className:"text-sm font-medium text-white",children:n.label}),i.jsx("span",{className:"ml-auto text-xs bg-slate-700 px-2 py-0.5 rounded text-slate-300",children:t.count})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Severidade"}),i.jsxs("p",{className:"text-slate-300",children:[(t.avg_severity*100).toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Probabilidade"}),i.jsxs("p",{className:"text-slate-300",children:[(t.avg_probability*100).toFixed(0),"%"]})]})]})]})},hoe=({scenario:e})=>i.jsxs("div",{className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700/50 hover:border-slate-600/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-white",children:e.machine_id}),i.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${e.severity>.7?"bg-red-500/20 text-red-400":e.severity>.5?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-300"}`,children:["Sev: ",(e.severity*100).toFixed(0),"%"]})]}),i.jsx("p",{className:"text-xs text-slate-400 mb-2",children:e.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[i.jsxs("span",{className:"text-slate-500",children:["Tipo: ",i.jsx("span",{className:"text-slate-300",children:e.failure_type})]}),i.jsxs("span",{className:"text-slate-500",children:["Durao: ",i.jsxs("span",{className:"text-slate-300",children:[e.duration_hours.toFixed(1),"h"]})]}),e.triggered_by_rul&&i.jsx("span",{className:"text-orange-400",children:" RUL"})]})]}),moe=({plan:e})=>i.jsxs("div",{className:"p-4 rounded-lg bg-slate-800/30 border border-slate-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"text-sm font-medium text-white",children:e.scenario_id}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded font-medium ${e.risk_level==="LOW"?"bg-emerald-500/20 text-emerald-400":e.risk_level==="MEDIUM"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:["Risco: ",e.risk_level]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Estratgia Principal"}),i.jsx("p",{className:"text-sm text-cyan-400",children:e.primary_action.strategy.replace("_"," ").toUpperCase()}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:e.primary_action.description})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Efetividade"}),i.jsxs("p",{className:"text-emerald-400 font-medium",children:[e.expected_effectiveness_pct.toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Custo"}),i.jsxs("p",{className:"text-amber-400 font-medium",children:["",e.total_cost_eur.toFixed(0)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Tempo"}),i.jsxs("p",{className:"text-slate-300",children:[e.primary_action.recovery_time_hours.toFixed(1),"h"]})]})]}),e.warnings.length>0&&i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700/50",children:e.warnings.map((t,r)=>i.jsxs("p",{className:"text-xs text-amber-400 flex items-center gap-1",children:[i.jsx(Te,{className:"w-3 h-3"}),t]},r))})]}),poe=({result:e,onClose:t})=>{if(!e)return null;const{resilience_report:r,recovery_plans:n,summary:a}=e;return i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:i.jsxs(de.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-900 rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-slate-700",onClick:s=>s.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Resultados da Simulao"}),i.jsxs("span",{className:`text-2xl font-bold ${a.resilience_grade==="A"?"text-emerald-400":a.resilience_grade==="B"?"text-cyan-400":a.resilience_grade==="C"?"text-amber-400":"text-red-400"}`,children:["Grade ",a.resilience_grade]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[i.jsxs("p",{className:"text-3xl font-bold text-white",children:[a.resilience_score.toFixed(0),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Resilience Score"})]}),i.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[i.jsxs("p",{className:"text-3xl font-bold text-emerald-400",children:[a.full_recovery_rate.toFixed(0),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Taxa de Recuperao"})]}),i.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[i.jsxs("p",{className:"text-3xl font-bold text-amber-400",children:[a.avg_recovery_time_hours.toFixed(1),"h"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Tempo Mdio Recuperao"})]}),i.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:a.scenarios_simulated}),i.jsx("p",{className:"text-xs text-slate-400",children:"Cenrios Simulados"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Estatsticas de Recuperao"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ut,{className:"w-4 h-4 text-emerald-400"}),i.jsxs("span",{className:"text-sm text-slate-300",children:[r.recovery_stats.full_recovery," Total"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4 text-amber-400"}),i.jsxs("span",{className:"text-sm text-slate-300",children:[r.recovery_stats.partial_recovery," Parcial"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kl,{className:"w-4 h-4 text-red-400"}),i.jsxs("span",{className:"text-sm text-slate-300",children:[r.recovery_stats.failed_recovery," Falha"]})]})]})]}),a.top_risks.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Riscos Principais"}),i.jsx("div",{className:"space-y-2",children:a.top_risks.map((s,o)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded",children:[i.jsxs("span",{className:"text-sm text-slate-300",children:[s.machine," - ",s.type]}),i.jsxs("div",{className:"flex gap-4 text-xs",children:[i.jsxs("span",{className:"text-slate-500",children:["Prob: ",i.jsxs("span",{className:"text-slate-300",children:[(s.probability*100).toFixed(0),"%"]})]}),i.jsxs("span",{className:"text-slate-500",children:["Sev: ",i.jsxs("span",{className:"text-slate-300",children:[(s.severity*100).toFixed(0),"%"]})]})]})]},o))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Planos de Recuperao"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.slice(0,4).map((s,o)=>i.jsx(moe,{plan:s},o))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Recomendaes"}),i.jsx("div",{className:"space-y-2",children:r.recommendations.map((s,o)=>i.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-800/30 rounded-lg",children:[i.jsx(Zr,{className:"w-4 h-4 text-cyan-400 mt-0.5"}),i.jsx("p",{className:"text-sm text-slate-300",children:s})]},o))})]}),i.jsx("button",{onClick:t,className:"w-full py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Fechar"})]})})},xoe=()=>{const e=Nt(),[t,r]=O.useState(!1),[n,a]=O.useState({n_scenarios:10,enable_rerouting:!0,enable_overtime:!0}),[s,o]=O.useState(null),{data:l,isLoading:u,refetch:d}=xe({queryKey:["zdm-dashboard"],queryFn:coe,refetchInterval:6e4}),h=qe({mutationFn:()=>uoe(n),onSuccess:m=>{o(m),e.invalidateQueries({queryKey:["zdm-dashboard"]})}});return u?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(De,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-cyan-500/20 rounded-xl border border-emerald-500/30",children:i.jsx(da,{className:"w-6 h-6 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500",children:"Zero Disruption Manufacturing"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Simulador de Resilincia"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>r(!t),className:"p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:i.jsx(Xr,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>d(),className:"p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:i.jsx(De,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white font-medium transition-colors disabled:opacity-50",children:[h.isPending?i.jsx(De,{className:"w-4 h-4 animate-spin"}):i.jsx(vi,{className:"w-4 h-4"}),"Simular"]})]})]}),i.jsx(pt,{children:t&&i.jsx(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Configurao da Simulao"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Nmero de Cenrios"}),i.jsx("input",{type:"number",min:1,max:50,value:n.n_scenarios,onChange:m=>a(p=>({...p,n_scenarios:parseInt(m.target.value)||10})),className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white text-sm"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"rerouting",checked:n.enable_rerouting,onChange:m=>a(p=>({...p,enable_rerouting:m.target.checked})),className:"rounded bg-slate-700 border-slate-600"}),i.jsx("label",{htmlFor:"rerouting",className:"text-sm text-slate-300",children:"Permitir Reencaminhamento"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"overtime",checked:n.enable_overtime,onChange:m=>a(p=>({...p,enable_overtime:m.target.checked})),className:"rounded bg-slate-700 border-slate-600"}),i.jsx("label",{htmlFor:"overtime",className:"text-sm text-slate-300",children:"Permitir Horas Extra"})]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-2xl border border-slate-700/50 bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:[i.jsx(doe,{score:l.resilience_score,grade:l.resilience_grade}),i.jsx("p",{className:"mt-4 text-lg font-medium text-white",children:"Resilience Score"}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Taxa de recuperao: ",l.recovery_success_rate.toFixed(0),"%"]})]}),i.jsxs("div",{className:"lg:col-span-2 grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Te,{className:"w-5 h-5 text-red-400"}),i.jsx("span",{className:"text-xs text-slate-400",children:"Operaes em Risco"})]}),i.jsx("p",{className:"text-3xl font-bold text-white",children:l.kpis.operations_at_risk})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ar,{className:"w-5 h-5 text-amber-400"}),i.jsx("span",{className:"text-xs text-slate-400",children:"Alta Probabilidade"})]}),i.jsx("p",{className:"text-3xl font-bold text-white",children:l.kpis.high_probability_failures})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(vr,{className:"w-5 h-5 text-orange-400"}),i.jsx("span",{className:"text-xs text-slate-400",children:"Baseados em RUL"})]}),i.jsx("p",{className:"text-3xl font-bold text-white",children:l.kpis.rul_triggered_scenarios})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(dr,{className:"w-4 h-4 text-cyan-400"}),"Cenrios por Tipo de Falha"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Object.entries(l.scenarios_preview.by_type).map(([m,p])=>i.jsx(foe,{type:m,data:p},m))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(Te,{className:"w-4 h-4 text-red-400"}),"Cenrios de Risco Prioritrios"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.scenarios_preview.top_risks.slice(0,6).map((m,p)=>i.jsx(hoe,{scenario:m},p))})]}),l.recommendations.length>0&&i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[i.jsxs("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[i.jsx(ut,{className:"w-4 h-4 text-emerald-400"}),"Recomendaes"]}),l.recommendations.map((m,p)=>i.jsx("p",{className:"text-sm text-slate-300",children:m},p))]}),l.critical_machines.length>0&&i.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30",children:[i.jsx("h3",{className:"text-sm font-medium text-red-400 mb-2",children:"Mquinas Crticas"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.critical_machines.map((m,p)=>i.jsx("span",{className:"px-3 py-1 bg-red-500/20 text-red-300 rounded-full text-sm",children:m},p))})]}),i.jsx(pt,{children:s&&i.jsx(poe,{result:s,onClose:()=>o(null)})})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Te,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Mdulo ZDM no disponvel"})]})},goe=()=>{const[e,t]=O.useState("whatif"),[r,n]=O.useState(""),[a,s]=O.useState(null),[o,l]=O.useState(null),[u,d]=O.useState(!1),[h,m]=O.useState(!1),p=async()=>{if(!r.trim()){qt.error("Escreve um cenrio antes de pedir a descrio.");return}try{d(!0);const v=await hne(r.trim());s(v),qt.success("Cenrio descrito com sucesso.")}catch(v){console.error(v),qt.error("No foi possvel descrever o cenrio.")}finally{d(!1)}},g=async()=>{if(!r.trim()){qt.error("Escreve um cenrio antes de comparar.");return}try{m(!0);const v=await mne(r.trim());l(v),qt.success("Comparao concluda.")}catch(v){console.error(v),qt.error("No foi possvel comparar o cenrio.")}finally{m(!1)}},y=[{id:"whatif",label:"What-If",icon:i.jsx(l$,{className:"w-4 h-4"})},{id:"zdm",label:"ZDM Resilincia",icon:i.jsx(da,{className:"w-4 h-4"})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"Laboratrio de cenrios"}),i.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"What-if & Simulao de Resilincia"}),i.jsx("p",{className:"max-w-3xl text-sm text-text-muted",children:"Analisa cenrios hipotticos e simula a resilincia do plano face a falhas e perturbaes."})]}),i.jsx("div",{className:"border-b border-border",children:i.jsx("nav",{className:"flex gap-1 -mb-px",children:y.map(v=>i.jsxs("button",{onClick:()=>t(v.id),className:`
                group flex items-center gap-2 px-4 py-3 text-sm font-medium 
                border-b-2 transition-all duration-200
                ${e===v.id?"border-nikufra text-nikufra":"border-transparent text-text-muted hover:text-text-primary hover:border-border"}
              `,children:[i.jsx("span",{className:e===v.id?"text-nikufra":"text-text-muted group-hover:text-text-primary",children:v.icon}),v.label]},v.id))})}),e==="whatif"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("section",{className:"rounded-2xl border border-border bg-surface p-6 shadow-glow",children:[i.jsxs("label",{className:"flex w-full flex-col gap-3 text-xs font-semibold uppercase tracking-[0.3em] text-text-muted",children:["Descrio do cenrio",i.jsx("textarea",{value:r,onChange:v=>n(v.target.value),placeholder:"Ex.: Quero introduzir a mquina M-999 com -20% de tempo no corte dos artigos ART-300 e ART-500.",className:"h-40 rounded-2xl border border-border bg-background px-4 py-3 text-sm text-text-primary outline-none transition focus:border-nikufra"})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[i.jsx("button",{onClick:p,disabled:u,className:"rounded-2xl border border-nikufra bg-nikufra px-4 py-2 text-sm font-semibold text-background transition hover:bg-nikufra-hover disabled:opacity-60",children:u?"A descrever...":"Descrever cenrio"}),i.jsx("button",{onClick:g,disabled:h,className:"rounded-2xl border border-border bg-background px-4 py-2 text-sm font-semibold text-text-primary transition hover:border-nikufra hover:text-nikufra disabled:opacity-60",children:h?"A comparar...":"Comparar cenrio"})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsx(ooe,{data:a,loading:u}),i.jsx(loe,{data:o,loading:h})]})]}),e==="zdm"&&i.jsx(xoe,{})]})},ax="http://127.0.0.1:8000";async function yoe(){const e=await fetch(`${ax}/causal/dashboard`);if(!e.ok)throw new Error("Failed to fetch dashboard");return e.json()}async function voe(){const e=await fetch(`${ax}/causal/variables`);if(!e.ok)throw new Error("Failed to fetch variables");return e.json()}async function boe(e){const t=await fetch(`${ax}/causal/tradeoffs/${e}`);if(!t.ok)throw new Error("Failed to fetch tradeoffs");return t.json()}async function joe(e){const t=await fetch(`${ax}/causal/explain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})});if(!t.ok)throw new Error("Failed to explain");return t.json()}const woe=({score:e})=>{const t=e<40?"#10b981":e<70?"#f59e0b":"#ef4444",r=e<40?"Baixa":e<70?"Moderada":"Alta";return i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-2",children:[i.jsxs("svg",{className:"w-24 h-24 -rotate-90",children:[i.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",strokeWidth:"8",className:"stroke-slate-700"}),i.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",strokeWidth:"8",stroke:t,strokeLinecap:"round",strokeDasharray:`${e*2.51} 251`})]}),i.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:i.jsx("span",{className:"text-xl font-bold text-white",children:e.toFixed(0)})})]}),i.jsx("p",{className:"text-sm text-slate-400",children:"Complexidade"}),i.jsx("p",{className:"text-xs font-medium",style:{color:t},children:r})]})},Noe=({insight:e})=>{const r={tradeoff:{icon:i.jsx(Xw,{className:"w-4 h-4"}),color:"amber"},leverage:{icon:i.jsx(zr,{className:"w-4 h-4"}),color:"cyan"},risk:{icon:i.jsx(Te,{className:"w-4 h-4"}),color:"red"},opportunity:{icon:i.jsx(ar,{className:"w-4 h-4"}),color:"emerald"},interaction:{icon:i.jsx(ya,{className:"w-4 h-4"}),color:"purple"}}[e.type]||{icon:i.jsx(O2,{className:"w-4 h-4"}),color:"slate"};return i.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-xl border bg-${r.color}-500/5 border-${r.color}-500/30`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg bg-${r.color}-500/20 text-${r.color}-400`,children:r.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h4",{className:"text-sm font-medium text-white",children:e.title}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${e.priority==="high"?"bg-red-500/20 text-red-400":e.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"}`,children:e.priority})]}),i.jsx("p",{className:"text-xs text-slate-400 mb-2",children:e.description}),e.suggested_actions.length>0&&i.jsx("div",{className:"space-y-1",children:e.suggested_actions.slice(0,2).map((n,a)=>i.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[i.jsx(Zr,{className:"w-3 h-3"}),n]},a))})]})]})})},_oe=({treatment:e})=>{const{data:t,isLoading:r}=xe({queryKey:["tradeoff",e],queryFn:()=>boe(e)});return r?i.jsx("div",{className:"animate-pulse bg-slate-800 rounded-lg h-32"}):t?i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[i.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:t.treatment_description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-emerald-400 mb-2 flex items-center gap-1",children:[i.jsx(ar,{className:"w-3 h-3"})," Efeitos Positivos"]}),t.positive_effects?.slice(0,3).map((n,a)=>i.jsxs("div",{className:"text-xs text-slate-300 mb-1",children:[n.outcome,": +",n.estimate.toFixed(2)]},a))]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-red-400 mb-2 flex items-center gap-1",children:[i.jsx(Xn,{className:"w-3 h-3"})," Efeitos Negativos"]}),t.negative_effects?.slice(0,3).map((n,a)=>i.jsxs("div",{className:"text-xs text-slate-300 mb-1",children:[n.outcome,": ",n.estimate.toFixed(2)]},a))]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700/50",children:i.jsx("p",{className:"text-xs text-slate-500",children:t.recommendation})})]}):null},Soe=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(null),a=qe({mutationFn:joe,onSuccess:n}),s=["Se eu reduzir setups, o que acontece ao custo energtico?","Qual o impacto de aumentar turnos noturnos no stress?","Adiar manuteno afeta a probabilidade de falhas?","Aumentar carga das mquinas melhora o makespan?"];return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{value:e,onChange:o=>t(o.target.value),placeholder:"Faa uma pergunta sobre relaes causais...",className:"w-full h-24 p-4 pr-12 bg-slate-900 border border-slate-700 rounded-xl text-white text-sm resize-none focus:border-cyan-500 focus:outline-none"}),i.jsx("button",{onClick:()=>e&&a.mutate(e),disabled:!e||a.isPending,className:"absolute bottom-4 right-4 p-2 bg-cyan-600 hover:bg-cyan-500 rounded-lg text-white disabled:opacity-50 transition-colors",children:a.isPending?i.jsx(De,{className:"w-4 h-4 animate-spin"}):i.jsx(d$,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((o,l)=>i.jsx("button",{onClick:()=>t(o),className:"text-xs px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white rounded-full transition-colors",children:o},l))}),r&&i.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:r.success?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(u$,{className:"w-4 h-4 text-cyan-400"}),i.jsx("span",{className:"text-sm font-medium text-white",children:"Resposta"})]}),i.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:i.jsx("pre",{className:"whitespace-pre-wrap text-xs text-slate-300 bg-slate-900/50 p-3 rounded-lg",children:r.explanation})}),r.effect&&i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-white",children:r.effect.estimate.toFixed(3)}),i.jsx("p",{className:"text-xs text-slate-500",children:"Efeito"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-cyan-400",children:r.effect.significance}),i.jsx("p",{className:"text-xs text-slate-500",children:"Significncia"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-amber-400",children:r.effect.magnitude}),i.jsx("p",{className:"text-xs text-slate-500",children:"Magnitude"})]})]})]}):i.jsx("div",{className:"text-red-400 text-sm",children:r.error})})]})},koe=()=>{const[e,t]=O.useState(null),{data:r,isLoading:n}=xe({queryKey:["causal-dashboard"],queryFn:yoe}),{data:a}=xe({queryKey:["causal-variables"],queryFn:voe});if(n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(De,{className:"w-8 h-8 text-cyan-400 animate-spin"})});if(!r)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Te,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Mdulo CCM no disponvel"})]});const{metrics:s,insights:o,summary:l}=r;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("header",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-cyan-500/20 rounded-xl border border-purple-500/30",children:i.jsx(ya,{className:"w-6 h-6 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500",children:"Causal Context Models"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Anlise Causal"})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsx("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50 text-center",children:i.jsx(woe,{score:l.complexity_score})}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsx(Xw,{className:"w-5 h-5 text-amber-400 mb-2"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:l.n_tradeoffs}),i.jsx("p",{className:"text-xs text-slate-400",children:"Trade-offs"})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsx(zr,{className:"w-5 h-5 text-cyan-400 mb-2"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:l.n_leverage_points}),i.jsx("p",{className:"text-xs text-slate-400",children:"Pontos de Alavancagem"})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsx(Te,{className:"w-5 h-5 text-red-400 mb-2"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:l.n_risks}),i.jsx("p",{className:"text-xs text-slate-400",children:"Riscos"})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsx(td,{className:"w-5 h-5 text-emerald-400 mb-2"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:l.high_priority_insights}),i.jsx("p",{className:"text-xs text-slate-400",children:"Prioridade Alta"})]})]}),i.jsxs("div",{className:"p-6 rounded-2xl bg-slate-800/30 border border-slate-700/50",children:[i.jsxs("h3",{className:"text-sm font-medium text-white mb-4 flex items-center gap-2",children:[i.jsx(u$,{className:"w-4 h-4 text-cyan-400"}),"Perguntas Causais"]}),i.jsx(Soe,{})]}),a?.treatments&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(Xw,{className:"w-4 h-4 text-amber-400"}),"Anlise de Trade-offs"]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.treatments.map(u=>i.jsx("button",{onClick:()=>t(u.name===e?null:u.name),className:`text-xs px-3 py-1.5 rounded-full transition-colors ${e===u.name?"bg-amber-500/20 text-amber-400 border border-amber-500/50":"bg-slate-800 text-slate-400 hover:text-white border border-slate-700"}`,children:u.description.length>30?u.description.substring(0,30)+"...":u.description},u.name))}),e&&i.jsx(_oe,{treatment:e})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(td,{className:"w-4 h-4 text-emerald-400"}),"Insights Causais (",o.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.slice(0,6).map((u,d)=>i.jsx(Noe,{insight:u},d))})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[i.jsxs("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[i.jsx(dr,{className:"w-4 h-4 text-cyan-400"}),"Estrutura do Grafo Causal"]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:s.structure.n_variables}),i.jsx("p",{className:"text-xs text-slate-500",children:"Variveis"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:s.structure.n_relations}),i.jsx("p",{className:"text-xs text-slate-500",children:"Relaes"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:s.structure.n_treatments}),i.jsx("p",{className:"text-xs text-slate-500",children:"Decises"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:s.structure.n_outcomes}),i.jsx("p",{className:"text-xs text-slate-500",children:"Outcomes"})]})]})]})]})};var by,fO;function xn(){if(fO)return by;fO=1;var e=Array.isArray;return by=e,by}var jy,hO;function lL(){if(hO)return jy;hO=1;var e=typeof wh=="object"&&wh&&wh.Object===Object&&wh;return jy=e,jy}var wy,mO;function Wi(){if(mO)return wy;mO=1;var e=lL(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return wy=r,wy}var Ny,pO;function rf(){if(pO)return Ny;pO=1;var e=Wi(),t=e.Symbol;return Ny=t,Ny}var _y,xO;function Poe(){if(xO)return _y;xO=1;var e=rf(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function s(o){var l=r.call(o,a),u=o[a];try{o[a]=void 0;var d=!0}catch{}var h=n.call(o);return d&&(l?o[a]=u:delete o[a]),h}return _y=s,_y}var Sy,gO;function Coe(){if(gO)return Sy;gO=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Sy=r,Sy}var ky,yO;function Ea(){if(yO)return ky;yO=1;var e=rf(),t=Poe(),r=Coe(),n="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?t(l):r(l)}return ky=o,ky}var Py,vO;function Oa(){if(vO)return Py;vO=1;function e(t){return t!=null&&typeof t=="object"}return Py=e,Py}var Cy,bO;function yc(){if(bO)return Cy;bO=1;var e=Ea(),t=Oa(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Cy=n,Cy}var Ey,jO;function l_(){if(jO)return Ey;jO=1;var e=xn(),t=yc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Ey=a,Ey}var Oy,wO;function bs(){if(wO)return Oy;wO=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Oy=e,Oy}var Ty,NO;function c_(){if(NO)return Ty;NO=1;var e=Ea(),t=bs(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==a||u==r||u==s}return Ty=o,Ty}var Ay,_O;function Eoe(){if(_O)return Ay;_O=1;var e=Wi(),t=e["__core-js_shared__"];return Ay=t,Ay}var My,SO;function Ooe(){if(SO)return My;SO=1;var e=Eoe(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return My=r,My}var Ry,kO;function cL(){if(kO)return Ry;kO=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Ry=r,Ry}var Dy,PO;function Toe(){if(PO)return Dy;PO=1;var e=c_(),t=Ooe(),r=bs(),n=cL(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!r(p)||t(p))return!1;var g=e(p)?h:s;return g.test(n(p))}return Dy=m,Dy}var Iy,CO;function Aoe(){if(CO)return Iy;CO=1;function e(t,r){return t?.[r]}return Iy=e,Iy}var $y,EO;function No(){if(EO)return $y;EO=1;var e=Toe(),t=Aoe();function r(n,a){var s=t(n,a);return e(s)?s:void 0}return $y=r,$y}var Fy,OO;function sx(){if(OO)return Fy;OO=1;var e=No(),t=e(Object,"create");return Fy=t,Fy}var Ly,TO;function Moe(){if(TO)return Ly;TO=1;var e=sx();function t(){this.__data__=e?e(null):{},this.size=0}return Ly=t,Ly}var zy,AO;function Roe(){if(AO)return zy;AO=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return zy=e,zy}var qy,MO;function Doe(){if(MO)return qy;MO=1;var e=sx(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return n.call(o,s)?o[s]:void 0}return qy=a,qy}var By,RO;function Ioe(){if(RO)return By;RO=1;var e=sx(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var s=this.__data__;return e?s[a]!==void 0:r.call(s,a)}return By=n,By}var Uy,DO;function $oe(){if(DO)return Uy;DO=1;var e=sx(),t="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&a===void 0?t:a,this}return Uy=r,Uy}var Vy,IO;function Foe(){if(IO)return Vy;IO=1;var e=Moe(),t=Roe(),r=Doe(),n=Ioe(),a=$oe();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Vy=s,Vy}var Wy,$O;function Loe(){if($O)return Wy;$O=1;function e(){this.__data__=[],this.size=0}return Wy=e,Wy}var Hy,FO;function u_(){if(FO)return Hy;FO=1;function e(t,r){return t===r||t!==t&&r!==r}return Hy=e,Hy}var Ky,LO;function ox(){if(LO)return Ky;LO=1;var e=u_();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Ky=t,Ky}var Gy,zO;function zoe(){if(zO)return Gy;zO=1;var e=ox(),t=Array.prototype,r=t.splice;function n(a){var s=this.__data__,o=e(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return Gy=n,Gy}var Yy,qO;function qoe(){if(qO)return Yy;qO=1;var e=ox();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Yy=t,Yy}var Qy,BO;function Boe(){if(BO)return Qy;BO=1;var e=ox();function t(r){return e(this.__data__,r)>-1}return Qy=t,Qy}var Xy,UO;function Uoe(){if(UO)return Xy;UO=1;var e=ox();function t(r,n){var a=this.__data__,s=e(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return Xy=t,Xy}var Jy,VO;function lx(){if(VO)return Jy;VO=1;var e=Loe(),t=zoe(),r=qoe(),n=Boe(),a=Uoe();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Jy=s,Jy}var Zy,WO;function d_(){if(WO)return Zy;WO=1;var e=No(),t=Wi(),r=e(t,"Map");return Zy=r,Zy}var ev,HO;function Voe(){if(HO)return ev;HO=1;var e=Foe(),t=lx(),r=d_();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return ev=n,ev}var tv,KO;function Woe(){if(KO)return tv;KO=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return tv=e,tv}var rv,GO;function cx(){if(GO)return rv;GO=1;var e=Woe();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return rv=t,rv}var nv,YO;function Hoe(){if(YO)return nv;YO=1;var e=cx();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return nv=t,nv}var iv,QO;function Koe(){if(QO)return iv;QO=1;var e=cx();function t(r){return e(this,r).get(r)}return iv=t,iv}var av,XO;function Goe(){if(XO)return av;XO=1;var e=cx();function t(r){return e(this,r).has(r)}return av=t,av}var sv,JO;function Yoe(){if(JO)return sv;JO=1;var e=cx();function t(r,n){var a=e(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return sv=t,sv}var ov,ZO;function f_(){if(ZO)return ov;ZO=1;var e=Voe(),t=Hoe(),r=Koe(),n=Goe(),a=Yoe();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,ov=s,ov}var lv,eT;function uL(){if(eT)return lv;eT=1;var e=f_(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=s.cache;if(u.has(l))return u.get(l);var d=n.apply(this,o);return s.cache=u.set(l,d)||u,d};return s.cache=new(r.Cache||e),s}return r.Cache=e,lv=r,lv}var cv,tT;function Qoe(){if(tT)return cv;tT=1;var e=uL(),t=500;function r(n){var a=e(n,function(o){return s.size===t&&s.clear(),o}),s=a.cache;return a}return cv=r,cv}var uv,rT;function Xoe(){if(rT)return uv;rT=1;var e=Qoe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(t,function(o,l,u,d){s.push(u?d.replace(r,"$1"):l||o)}),s});return uv=n,uv}var dv,nT;function h_(){if(nT)return dv;nT=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=Array(a);++n<a;)s[n]=r(t[n],n,t);return s}return dv=e,dv}var fv,iT;function Joe(){if(iT)return fv;iT=1;var e=rf(),t=h_(),r=xn(),n=yc(),a=e?e.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return fv=o,fv}var hv,aT;function dL(){if(aT)return hv;aT=1;var e=Joe();function t(r){return r==null?"":e(r)}return hv=t,hv}var mv,sT;function fL(){if(sT)return mv;sT=1;var e=xn(),t=l_(),r=Xoe(),n=dL();function a(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return mv=a,mv}var pv,oT;function ux(){if(oT)return pv;oT=1;var e=yc();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return pv=t,pv}var xv,lT;function m_(){if(lT)return xv;lT=1;var e=fL(),t=ux();function r(n,a){a=e(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[t(a[s++])];return s&&s==o?n:void 0}return xv=r,xv}var gv,cT;function hL(){if(cT)return gv;cT=1;var e=m_();function t(r,n,a){var s=r==null?void 0:e(r,n);return s===void 0?a:s}return gv=t,gv}var Zoe=hL();const Yn=ot(Zoe);var yv,uT;function ele(){if(uT)return yv;uT=1;function e(t){return t==null}return yv=e,yv}var tle=ele();const We=ot(tle);var vv,dT;function rle(){if(dT)return vv;dT=1;var e=Ea(),t=xn(),r=Oa(),n="[object String]";function a(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return vv=a,vv}var nle=rle();const po=ot(nle);var ile=c_();const Ke=ot(ile);var ale=bs();const vc=ot(ale);var bv={exports:{}},lt={};var fT;function sle(){if(fT)return lt;fT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case e:switch(b=b.type,b){case r:case a:case n:case d:case h:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case u:case p:case m:case s:return b;default:return w}}case t:return w}}}return lt.ContextConsumer=o,lt.ContextProvider=s,lt.Element=e,lt.ForwardRef=u,lt.Fragment=r,lt.Lazy=p,lt.Memo=m,lt.Portal=t,lt.Profiler=a,lt.StrictMode=n,lt.Suspense=d,lt.SuspenseList=h,lt.isAsyncMode=function(){return!1},lt.isConcurrentMode=function(){return!1},lt.isContextConsumer=function(b){return v(b)===o},lt.isContextProvider=function(b){return v(b)===s},lt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},lt.isForwardRef=function(b){return v(b)===u},lt.isFragment=function(b){return v(b)===r},lt.isLazy=function(b){return v(b)===p},lt.isMemo=function(b){return v(b)===m},lt.isPortal=function(b){return v(b)===t},lt.isProfiler=function(b){return v(b)===a},lt.isStrictMode=function(b){return v(b)===n},lt.isSuspense=function(b){return v(b)===d},lt.isSuspenseList=function(b){return v(b)===h},lt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===d||b===h||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===m||b.$$typeof===s||b.$$typeof===o||b.$$typeof===u||b.$$typeof===y||b.getModuleId!==void 0)},lt.typeOf=v,lt}var hT;function ole(){return hT||(hT=1,bv.exports=sle()),bv.exports}var lle=ole(),jv,mT;function mL(){if(mT)return jv;mT=1;var e=Ea(),t=Oa(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return jv=n,jv}var wv,pT;function cle(){if(pT)return wv;pT=1;var e=mL();function t(r){return e(r)&&r!=+r}return wv=t,wv}var ule=cle();const nf=ot(ule);var dle=mL();const fle=ot(dle);var pi=function(t){return t===0?0:t>0?1:-1},Qs=function(t){return po(t)&&t.indexOf("%")===t.length-1},ge=function(t){return fle(t)&&!nf(t)},hle=function(t){return We(t)},ir=function(t){return ge(t)||po(t)},mle=0,af=function(t){var r=++mle;return"".concat(t||"").concat(r)},xi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!po(t))return n;var s;if(Qs(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return nf(s)&&(s=n),a&&s>r&&(s=r),s},is=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ple=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ai=function(t,r){return ge(t)&&ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function Dm(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Yn(n,t))===r})}var xle=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,s=0,o=0,l=1/0,u=-1/0,d=0,h=0,m=0;m<r;m++)d=t[m].cx||0,h=t[m].cy||0,n+=d,a+=h,s+=d*h,o+=d*d,l=Math.min(l,d),u=Math.max(u,d);var p=r*o!==n*n?(r*s-n*a)/(r*o-n*n):0;return{xmin:l,xmax:u,a:p,b:(a-p*n)/r}},gle=function(t,r){return ge(t)&&ge(r)?t-r:po(t)&&po(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Cl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}var yle=["viewBox","children"],vle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xT=["points","pathLength"],Nv={svg:yle,polygon:xT,polyline:xT},p_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Im=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!vc(n))return null;var a={};return Object.keys(n).forEach(function(s){p_.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},ble=function(t,r,n){return function(a){return t(r,n,a),null}},ad=function(t,r,n){if(!vc(t)||y1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];p_.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=ble(o,r,n))}),a},jle=["children"],wle=["children"];function gT(e,t){if(e==null)return{};var r=Nle(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var yT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},vT=null,_v=null,x_=function e(t){if(t===vT&&Array.isArray(_v))return _v;var r=[];return O.Children.forEach(t,function(n){We(n)||(lle.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),_v=r,vT=t,r};function Pn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return fa(a)}):n=[fa(t)],x_(e).forEach(function(a){var s=Yn(a,"type.displayName")||Yn(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Nn(e,t){var r=Pn(e,t);return r&&r[0]}var bT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ge(n)||n<=0||!ge(a)||a<=0)},_le=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Sle=function(t){return t&&t.type&&po(t.type)&&_le.indexOf(t.type)>=0},D2e=function(t){return t&&v1(t)==="object"&&"clipDot"in t},kle=function(t,r,n,a){var s,o=(s=Nv?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ke(t)&&(a&&o.includes(r)||vle.includes(r))||n&&p_.includes(r)},rt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!vc(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;kle((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},b1=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return jT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!jT(s,o))return!1}return!0},jT=function(t,r){if(We(t)&&We(r))return!0;if(!We(t)&&!We(r)){var n=t.props||{},a=n.children,s=gT(n,jle),o=r.props||{},l=o.children,u=gT(o,wle);return a&&l?Cl(s,u)&&b1(a,l):!a&&!l?Cl(s,u):!1}return!1},wT=function(t,r){var n=[],a={};return x_(t).forEach(function(s,o){if(Sle(s))n.push(s);else if(s){var l=fa(s.type),u=r[l]||{},d=u.handler,h=u.once;if(d&&(!h||!a[l])){var m=d(s,l,o);n.push(m),a[l]=!0}}}),n},Ple=function(t){var r=t&&t.type;return r&&yT[r]?yT[r]:null},Cle=function(t,r){return x_(r).indexOf(t)},Ele=["children","width","height","viewBox","className","style","title","desc"];function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}function Ole(e,t){if(e==null)return{};var r=Tle(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,u=e.desc,d=Ole(e,Ele),h=a||{width:r,height:n,x:0,y:0},m=Xe("recharts-surface",s);return z.createElement("svg",j1({},rt(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,l),z.createElement("desc",null,u),t)}var Ale=["children","className"];function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function Mle(e,t){if(e==null)return{};var r=Rle(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dt=z.forwardRef(function(e,t){var r=e.children,n=e.className,a=Mle(e,Ale),s=Xe("recharts-layer",n);return z.createElement("g",N1({className:s},rt(a,!0),{ref:t}),r)}),ha=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},Sv,NT;function Dle(){if(NT)return Sv;NT=1;function e(t,r,n){var a=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=t[a+r];return o}return Sv=e,Sv}var kv,_T;function Ile(){if(_T)return kv;_T=1;var e=Dle();function t(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:e(r,n,a)}return kv=t,kv}var Pv,ST;function pL(){if(ST)return Pv;ST=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+s+"]");function u(d){return l.test(d)}return Pv=u,Pv}var Cv,kT;function $le(){if(kT)return Cv;kT=1;function e(t){return t.split("")}return Cv=e,Cv}var Ev,PT;function Fle(){if(PT)return Ev;PT=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+u+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=d+"?",v="["+s+"]?",b="(?:"+g+"(?:"+[h,m,p].join("|")+")"+v+y+")*",w=v+y+b,S="(?:"+[h+l+"?",l,m,p,o].join("|")+")",k=RegExp(u+"(?="+u+")|"+S+w,"g");function E(P){return P.match(k)||[]}return Ev=E,Ev}var Ov,CT;function Lle(){if(CT)return Ov;CT=1;var e=$le(),t=pL(),r=Fle();function n(a){return t(a)?r(a):e(a)}return Ov=n,Ov}var Tv,ET;function zle(){if(ET)return Tv;ET=1;var e=Ile(),t=pL(),r=Lle(),n=dL();function a(s){return function(o){o=n(o);var l=t(o)?r(o):void 0,u=l?l[0]:o.charAt(0),d=l?e(l,1).join(""):o.slice(1);return u[s]()+d}}return Tv=a,Tv}var Av,OT;function qle(){if(OT)return Av;OT=1;var e=zle(),t=e("toUpperCase");return Av=t,Av}var Ble=qle();const dx=ot(Ble);function wt(e){return function(){return e}}const xL=Math.cos,$m=Math.sin,ji=Math.sqrt,Fm=Math.PI,fx=2*Fm,_1=Math.PI,S1=2*_1,Vs=1e-6,Ule=S1-Vs;function gL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Vle(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gL;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Wle{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gL:Vle(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=n-t,d=a-r,h=o-t,m=l-r,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Vs)if(!(Math.abs(m*u-d*h)>Vs)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,y=a-l,v=u*u+d*d,b=g*g+y*y,w=Math.sqrt(v),S=Math.sqrt(p),k=s*Math.tan((_1-Math.acos((v+p-b)/(2*w*S)))/2),E=k/S,P=k/w;Math.abs(E-1)>Vs&&this._append`L${t+E*h},${r+E*m}`,this._append`A${s},${s},0,0,${+(m*g>h*y)},${this._x1=t+P*u},${this._y1=r+P*d}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),d=t+l,h=r+u,m=1^o,p=o?a-s:s-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Vs||Math.abs(this._y1-h)>Vs)&&this._append`L${d},${h}`,n&&(p<0&&(p=p%S1+S1),p>Ule?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:p>Vs&&this._append`A${n},${n},0,${+(p>=_1)},${m},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function g_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Wle(t)}function y_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yL(e){this._context=e}yL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hx(e){return new yL(e)}function vL(e){return e[0]}function bL(e){return e[1]}function jL(e,t){var r=wt(!0),n=null,a=hx,s=null,o=g_(l);e=typeof e=="function"?e:e===void 0?vL:wt(e),t=typeof t=="function"?t:t===void 0?bL:wt(t);function l(u){var d,h=(u=y_(u)).length,m,p=!1,g;for(n==null&&(s=a(g=o())),d=0;d<=h;++d)!(d<h&&r(m=u[d],d,u))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(m,d,u),+t(m,d,u));if(g)return s=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:wt(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:wt(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),l):n},l}function Vh(e,t,r){var n=null,a=wt(!0),s=null,o=hx,l=null,u=g_(d);e=typeof e=="function"?e:e===void 0?vL:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bL:wt(+r);function d(m){var p,g,y,v=(m=y_(m)).length,b,w=!1,S,k=new Array(v),E=new Array(v);for(s==null&&(l=o(S=u())),p=0;p<=v;++p){if(!(p<v&&a(b=m[p],p,m))===w)if(w=!w)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=g;--y)l.point(k[y],E[y]);l.lineEnd(),l.areaEnd()}w&&(k[p]=+e(b,p,m),E[p]=+t(b,p,m),l.point(n?+n(b,p,m):k[p],r?+r(b,p,m):E[p]))}if(S)return l=null,S+""||null}function h(){return jL().defined(a).curve(o).context(s)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:wt(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:wt(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(n).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:wt(!!m),d):a},d.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),d):o},d.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),d):s},d}class wL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Hle(e){return new wL(e,!0)}function Kle(e){return new wL(e,!1)}const v_={draw(e,t){const r=ji(t/Fm);e.moveTo(r,0),e.arc(0,0,r,0,fx)}},Gle={draw(e,t){const r=ji(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},NL=ji(1/3),Yle=NL*2,Qle={draw(e,t){const r=ji(t/Yle),n=r*NL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Xle={draw(e,t){const r=ji(t),n=-r/2;e.rect(n,n,r,r)}},Jle=.8908130915292852,_L=$m(Fm/10)/$m(7*Fm/10),Zle=$m(fx/10)*_L,ece=-xL(fx/10)*_L,tce={draw(e,t){const r=ji(t*Jle),n=Zle*r,a=ece*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=fx*s/5,l=xL(o),u=$m(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},Mv=ji(3),rce={draw(e,t){const r=-ji(t/(Mv*3));e.moveTo(0,r*2),e.lineTo(-Mv*r,-r),e.lineTo(Mv*r,-r),e.closePath()}},Fn=-.5,Ln=ji(3)/2,k1=1/ji(12),nce=(k1/2+1)*3,ice={draw(e,t){const r=ji(t/nce),n=r/2,a=r*k1,s=n,o=r*k1+r,l=-s,u=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,u),e.lineTo(Fn*n-Ln*a,Ln*n+Fn*a),e.lineTo(Fn*s-Ln*o,Ln*s+Fn*o),e.lineTo(Fn*l-Ln*u,Ln*l+Fn*u),e.lineTo(Fn*n+Ln*a,Fn*a-Ln*n),e.lineTo(Fn*s+Ln*o,Fn*o-Ln*s),e.lineTo(Fn*l+Ln*u,Fn*u-Ln*l),e.closePath()}};function ace(e,t){let r=null,n=g_(a);e=typeof e=="function"?e:wt(e||v_),t=typeof t=="function"?t:wt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:wt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Lm(){}function zm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function SL(e){this._context=e}SL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sce(e){return new SL(e)}function kL(e){this._context=e}kL.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oce(e){return new kL(e)}function PL(e){this._context=e}PL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lce(e){return new PL(e)}function CL(e){this._context=e}CL.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cce(e){return new CL(e)}function TT(e){return e<0?-1:1}function AT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(TT(s)+TT(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function MT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rv(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function qm(e){this._context=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rv(this,this._t0,MT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rv(this,MT(this,r=AT(this,e,t)),r);break;default:Rv(this,this._t0,r=AT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function EL(e){this._context=new OL(e)}(EL.prototype=Object.create(qm.prototype)).point=function(e,t){qm.prototype.point.call(this,t,e)};function OL(e){this._context=e}OL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function uce(e){return new qm(e)}function dce(e){return new EL(e)}function TL(e){this._context=e}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=RT(e),a=RT(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RT(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function fce(e){return new TL(e)}function mx(e,t){this._context=e,this._t=t}mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hce(e){return new mx(e,.5)}function mce(e){return new mx(e,0)}function pce(e){return new mx(e,1)}function Fl(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function P1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xce(e,t){return e[t]}function gce(e){const t=[];return t.key=e,t}function yce(){var e=wt([]),t=P1,r=Fl,n=xce;function a(s){var o=Array.from(e.apply(this,arguments),gce),l,u=o.length,d=-1,h;for(const m of s)for(l=0,++d;l<u;++l)(o[l][d]=[0,+n(m,o[l].key,d,s)]).data=m;for(l=0,h=y_(t(o));l<u;++l)o[h[l]].index=l;return r(o,h),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:wt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:wt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?P1:typeof s=="function"?s:wt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Fl,a):r},a}function vce(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Fl(e,t)}}function bce(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Fl(e,t)}}function jce(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],m=h[n][1]||0,p=h[n-1][1]||0,g=(m-p)/2,y=0;y<l;++y){var v=e[t[y]],b=v[n][1]||0,w=v[n-1][1]||0;g+=b-w}u+=m,d+=g*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=d/u)}a[n-1][1]+=a[n-1][0]=r,Fl(e,t)}}function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}var wce=["type","size","sizeType"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(this,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Nce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nce(e,t,r){return t=_ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ce(e){var t=Sce(e,"string");return sd(t)=="symbol"?t:t+""}function Sce(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kce(e,t){if(e==null)return{};var r=Pce(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AL={symbolCircle:v_,symbolCross:Gle,symbolDiamond:Qle,symbolSquare:Xle,symbolStar:tce,symbolTriangle:rce,symbolWye:ice},Cce=Math.PI/180,Ece=function(t){var r="symbol".concat(dx(t));return AL[r]||v_},Oce=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Cce;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Tce=function(t,r){AL["symbol".concat(dx(t))]=r},px=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,u=kce(t,wce),d=IT(IT({},u),{},{type:n,size:s,sizeType:l}),h=function(){var b=Ece(n),w=ace().type(b).size(Oce(s,l,n));return w()},m=d.className,p=d.cx,g=d.cy,y=rt(d,!0);return p===+p&&g===+g&&s===+s?z.createElement("path",C1({},y,{className:Xe("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(g,")"),d:h()})):null};px.registerSymbol=Tce;function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ace(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){od(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RL(n.key),n)}}function Dce(e,t,r){return t&&Rce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ice(e,t,r){return t=Bm(t),$ce(e,ML()?Reflect.construct(t,r||[],Bm(e).constructor):t.apply(e,r))}function $ce(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(e)}function Fce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ML(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!e})()}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}function Lce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O1(e,t)}function O1(e,t){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O1(e,t)}function od(e,t,r){return t=RL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RL(e){var t=zce(e,"string");return Ll(t)=="symbol"?t:t+""}function zce(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zn=32,b_=(function(e){function t(){return Mce(this,t),Ice(this,t,arguments)}return Lce(t,e),Dce(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=zn/2,o=zn/6,l=zn/3,u=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:zn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(zn,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var d=Ace({},n);return delete d.legendIcon,z.cloneElement(n.legendIcon,d)}return z.createElement(px,{fill:u,cx:s,cy:s,size:zn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,u=a.formatter,d=a.inactiveColor,h={x:0,y:0,width:zn,height:zn},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,y){var v=g.formatter||u,b=Xe(od(od({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=Ke(g.value)?null:g.value;ha(!Ke(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?d:g.color;return z.createElement("li",E1({className:b,style:m,key:"legend-item-".concat(y)},ad(n.props,g,y)),z.createElement(w1,{width:o,height:o,viewBox:h,style:p},n.renderIcon(g)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},v?v(w,g,y):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(O.PureComponent);od(b_,"displayName","Legend");od(b_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dv,FT;function qce(){if(FT)return Dv;FT=1;var e=lx();function t(){this.__data__=new e,this.size=0}return Dv=t,Dv}var Iv,LT;function Bce(){if(LT)return Iv;LT=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Iv=e,Iv}var $v,zT;function Uce(){if(zT)return $v;zT=1;function e(t){return this.__data__.get(t)}return $v=e,$v}var Fv,qT;function Vce(){if(qT)return Fv;qT=1;function e(t){return this.__data__.has(t)}return Fv=e,Fv}var Lv,BT;function Wce(){if(BT)return Lv;BT=1;var e=lx(),t=d_(),r=f_(),n=200;function a(s,o){var l=this.__data__;if(l instanceof e){var u=l.__data__;if(!t||u.length<n-1)return u.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(s,o),this.size=l.size,this}return Lv=a,Lv}var zv,UT;function DL(){if(UT)return zv;UT=1;var e=lx(),t=qce(),r=Bce(),n=Uce(),a=Vce(),s=Wce();function o(l){var u=this.__data__=new e(l);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,zv=o,zv}var qv,VT;function Hce(){if(VT)return qv;VT=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return qv=t,qv}var Bv,WT;function Kce(){if(WT)return Bv;WT=1;function e(t){return this.__data__.has(t)}return Bv=e,Bv}var Uv,HT;function IL(){if(HT)return Uv;HT=1;var e=f_(),t=Hce(),r=Kce();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new e;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Uv=n,Uv}var Vv,KT;function $L(){if(KT)return Vv;KT=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return Vv=e,Vv}var Wv,GT;function FL(){if(GT)return Wv;GT=1;function e(t,r){return t.has(r)}return Wv=e,Wv}var Hv,YT;function LL(){if(YT)return Hv;YT=1;var e=IL(),t=$L(),r=FL(),n=1,a=2;function s(o,l,u,d,h,m){var p=u&n,g=o.length,y=l.length;if(g!=y&&!(p&&y>g))return!1;var v=m.get(o),b=m.get(l);if(v&&b)return v==l&&b==o;var w=-1,S=!0,k=u&a?new e:void 0;for(m.set(o,l),m.set(l,o);++w<g;){var E=o[w],P=l[w];if(d)var _=p?d(P,E,w,l,o,m):d(E,P,w,o,l,m);if(_!==void 0){if(_)continue;S=!1;break}if(k){if(!t(l,function(T,D){if(!r(k,D)&&(E===T||h(E,T,u,d,m)))return k.push(D)})){S=!1;break}}else if(!(E===P||h(E,P,u,d,m))){S=!1;break}}return m.delete(o),m.delete(l),S}return Hv=s,Hv}var Kv,QT;function Gce(){if(QT)return Kv;QT=1;var e=Wi(),t=e.Uint8Array;return Kv=t,Kv}var Gv,XT;function Yce(){if(XT)return Gv;XT=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}return Gv=e,Gv}var Yv,JT;function j_(){if(JT)return Yv;JT=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Yv=e,Yv}var Qv,ZT;function Qce(){if(ZT)return Qv;ZT=1;var e=rf(),t=Gce(),r=u_(),n=LL(),a=Yce(),s=j_(),o=1,l=2,u="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",p="[object Number]",g="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",k=e?e.prototype:void 0,E=k?k.valueOf:void 0;function P(_,T,D,L,M,F,q){switch(D){case S:if(_.byteLength!=T.byteLength||_.byteOffset!=T.byteOffset)return!1;_=_.buffer,T=T.buffer;case w:return!(_.byteLength!=T.byteLength||!F(new t(_),new t(T)));case u:case d:case p:return r(+_,+T);case h:return _.name==T.name&&_.message==T.message;case g:case v:return _==T+"";case m:var H=a;case y:var K=L&o;if(H||(H=s),_.size!=T.size&&!K)return!1;var W=q.get(_);if(W)return W==T;L|=l,q.set(_,T);var $=n(H(_),H(T),L,M,F,q);return q.delete(_),$;case b:if(E)return E.call(_)==E.call(T)}return!1}return Qv=P,Qv}var Xv,e5;function zL(){if(e5)return Xv;e5=1;function e(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}return Xv=e,Xv}var Jv,t5;function Xce(){if(t5)return Jv;t5=1;var e=zL(),t=xn();function r(n,a,s){var o=a(n);return t(n)?o:e(o,s(n))}return Jv=r,Jv}var Zv,r5;function Jce(){if(r5)return Zv;r5=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[s++]=l)}return o}return Zv=e,Zv}var eb,n5;function Zce(){if(n5)return eb;n5=1;function e(){return[]}return eb=e,eb}var tb,i5;function eue(){if(i5)return tb;i5=1;var e=Jce(),t=Zce(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return tb=s,tb}var rb,a5;function tue(){if(a5)return rb;a5=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return rb=e,rb}var nb,s5;function rue(){if(s5)return nb;s5=1;var e=Ea(),t=Oa(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return nb=n,nb}var ib,o5;function w_(){if(o5)return ib;o5=1;var e=rue(),t=Oa(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return ib=s,ib}var Ou={exports:{}},ab,l5;function nue(){if(l5)return ab;l5=1;function e(){return!1}return ab=e,ab}Ou.exports;var c5;function qL(){return c5||(c5=1,(function(e,t){var r=Wi(),n=nue(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,d=u||n;e.exports=d})(Ou,Ou.exports)),Ou.exports}var sb,u5;function N_(){if(u5)return sb;u5=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return sb=r,sb}var ob,d5;function __(){if(d5)return ob;d5=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return ob=t,ob}var lb,f5;function iue(){if(f5)return lb;f5=1;var e=Ea(),t=__(),r=Oa(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",p="[object RegExp]",g="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",k="[object Float64Array]",E="[object Int8Array]",P="[object Int16Array]",_="[object Int32Array]",T="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",F={};F[S]=F[k]=F[E]=F[P]=F[_]=F[T]=F[D]=F[L]=F[M]=!0,F[n]=F[a]=F[b]=F[s]=F[w]=F[o]=F[l]=F[u]=F[d]=F[h]=F[m]=F[p]=F[g]=F[y]=F[v]=!1;function q(H){return r(H)&&t(H.length)&&!!F[e(H)]}return lb=q,lb}var cb,h5;function BL(){if(h5)return cb;h5=1;function e(t){return function(r){return t(r)}}return cb=e,cb}var Tu={exports:{}};Tu.exports;var m5;function aue(){return m5||(m5=1,(function(e,t){var r=lL(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=(function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Tu,Tu.exports)),Tu.exports}var ub,p5;function UL(){if(p5)return ub;p5=1;var e=iue(),t=BL(),r=aue(),n=r&&r.isTypedArray,a=n?t(n):e;return ub=a,ub}var db,x5;function sue(){if(x5)return db;x5=1;var e=tue(),t=w_(),r=xn(),n=qL(),a=N_(),s=UL(),o=Object.prototype,l=o.hasOwnProperty;function u(d,h){var m=r(d),p=!m&&t(d),g=!m&&!p&&n(d),y=!m&&!p&&!g&&s(d),v=m||p||g||y,b=v?e(d.length,String):[],w=b.length;for(var S in d)(h||l.call(d,S))&&!(v&&(S=="length"||g&&(S=="offset"||S=="parent")||y&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,w)))&&b.push(S);return b}return db=u,db}var fb,g5;function oue(){if(g5)return fb;g5=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return fb=t,fb}var hb,y5;function VL(){if(y5)return hb;y5=1;function e(t,r){return function(n){return t(r(n))}}return hb=e,hb}var mb,v5;function lue(){if(v5)return mb;v5=1;var e=VL(),t=e(Object.keys,Object);return mb=t,mb}var pb,b5;function cue(){if(b5)return pb;b5=1;var e=oue(),t=lue(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return pb=a,pb}var xb,j5;function sf(){if(j5)return xb;j5=1;var e=c_(),t=__();function r(n){return n!=null&&t(n.length)&&!e(n)}return xb=r,xb}var gb,w5;function xx(){if(w5)return gb;w5=1;var e=sue(),t=cue(),r=sf();function n(a){return r(a)?e(a):t(a)}return gb=n,gb}var yb,N5;function uue(){if(N5)return yb;N5=1;var e=Xce(),t=eue(),r=xx();function n(a){return e(a,r,t)}return yb=n,yb}var vb,_5;function due(){if(_5)return vb;_5=1;var e=uue(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,u,d,h){var m=l&t,p=e(s),g=p.length,y=e(o),v=y.length;if(g!=v&&!m)return!1;for(var b=g;b--;){var w=p[b];if(!(m?w in o:n.call(o,w)))return!1}var S=h.get(s),k=h.get(o);if(S&&k)return S==o&&k==s;var E=!0;h.set(s,o),h.set(o,s);for(var P=m;++b<g;){w=p[b];var _=s[w],T=o[w];if(u)var D=m?u(T,_,w,o,s,h):u(_,T,w,s,o,h);if(!(D===void 0?_===T||d(_,T,l,u,h):D)){E=!1;break}P||(P=w=="constructor")}if(E&&!P){var L=s.constructor,M=o.constructor;L!=M&&"constructor"in s&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof M=="function"&&M instanceof M)&&(E=!1)}return h.delete(s),h.delete(o),E}return vb=a,vb}var bb,S5;function fue(){if(S5)return bb;S5=1;var e=No(),t=Wi(),r=e(t,"DataView");return bb=r,bb}var jb,k5;function hue(){if(k5)return jb;k5=1;var e=No(),t=Wi(),r=e(t,"Promise");return jb=r,jb}var wb,P5;function WL(){if(P5)return wb;P5=1;var e=No(),t=Wi(),r=e(t,"Set");return wb=r,wb}var Nb,C5;function mue(){if(C5)return Nb;C5=1;var e=No(),t=Wi(),r=e(t,"WeakMap");return Nb=r,Nb}var _b,E5;function pue(){if(E5)return _b;E5=1;var e=fue(),t=d_(),r=hue(),n=WL(),a=mue(),s=Ea(),o=cL(),l="[object Map]",u="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",g=o(e),y=o(t),v=o(r),b=o(n),w=o(a),S=s;return(e&&S(new e(new ArrayBuffer(1)))!=p||t&&S(new t)!=l||r&&S(r.resolve())!=d||n&&S(new n)!=h||a&&S(new a)!=m)&&(S=function(k){var E=s(k),P=E==u?k.constructor:void 0,_=P?o(P):"";if(_)switch(_){case g:return p;case y:return l;case v:return d;case b:return h;case w:return m}return E}),_b=S,_b}var Sb,O5;function xue(){if(O5)return Sb;O5=1;var e=DL(),t=LL(),r=Qce(),n=due(),a=pue(),s=xn(),o=qL(),l=UL(),u=1,d="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function y(v,b,w,S,k,E){var P=s(v),_=s(b),T=P?h:a(v),D=_?h:a(b);T=T==d?m:T,D=D==d?m:D;var L=T==m,M=D==m,F=T==D;if(F&&o(v)){if(!o(b))return!1;P=!0,L=!1}if(F&&!L)return E||(E=new e),P||l(v)?t(v,b,w,S,k,E):r(v,b,T,w,S,k,E);if(!(w&u)){var q=L&&g.call(v,"__wrapped__"),H=M&&g.call(b,"__wrapped__");if(q||H){var K=q?v.value():v,W=H?b.value():b;return E||(E=new e),k(K,W,w,S,E)}}return F?(E||(E=new e),n(v,b,w,S,k,E)):!1}return Sb=y,Sb}var kb,T5;function S_(){if(T5)return kb;T5=1;var e=xue(),t=Oa();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,s,o,r,l)}return kb=r,kb}var Pb,A5;function gue(){if(A5)return Pb;A5=1;var e=DL(),t=S_(),r=1,n=2;function a(s,o,l,u){var d=l.length,h=d,m=!u;if(s==null)return!h;for(s=Object(s);d--;){var p=l[d];if(m&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++d<h;){p=l[d];var g=p[0],y=s[g],v=p[1];if(m&&p[2]){if(y===void 0&&!(g in s))return!1}else{var b=new e;if(u)var w=u(y,v,g,s,o,b);if(!(w===void 0?t(v,y,r|n,u,b):w))return!1}}return!0}return Pb=a,Pb}var Cb,M5;function HL(){if(M5)return Cb;M5=1;var e=bs();function t(r){return r===r&&!e(r)}return Cb=t,Cb}var Eb,R5;function yue(){if(R5)return Eb;R5=1;var e=HL(),t=xx();function r(n){for(var a=t(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,e(l)]}return a}return Eb=r,Eb}var Ob,D5;function KL(){if(D5)return Ob;D5=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Ob=e,Ob}var Tb,I5;function vue(){if(I5)return Tb;I5=1;var e=gue(),t=yue(),r=KL();function n(a){var s=t(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||e(o,a,s)}}return Tb=n,Tb}var Ab,$5;function bue(){if($5)return Ab;$5=1;function e(t,r){return t!=null&&r in Object(t)}return Ab=e,Ab}var Mb,F5;function jue(){if(F5)return Mb;F5=1;var e=fL(),t=w_(),r=xn(),n=N_(),a=__(),s=ux();function o(l,u,d){u=e(u,l);for(var h=-1,m=u.length,p=!1;++h<m;){var g=s(u[h]);if(!(p=l!=null&&d(l,g)))break;l=l[g]}return p||++h!=m?p:(m=l==null?0:l.length,!!m&&a(m)&&n(g,m)&&(r(l)||t(l)))}return Mb=o,Mb}var Rb,L5;function wue(){if(L5)return Rb;L5=1;var e=bue(),t=jue();function r(n,a){return n!=null&&t(n,a,e)}return Rb=r,Rb}var Db,z5;function Nue(){if(z5)return Db;z5=1;var e=S_(),t=hL(),r=wue(),n=l_(),a=HL(),s=KL(),o=ux(),l=1,u=2;function d(h,m){return n(h)&&a(m)?s(o(h),m):function(p){var g=t(p,h);return g===void 0&&g===m?r(p,h):e(m,g,l|u)}}return Db=d,Db}var Ib,q5;function bc(){if(q5)return Ib;q5=1;function e(t){return t}return Ib=e,Ib}var $b,B5;function _ue(){if(B5)return $b;B5=1;function e(t){return function(r){return r?.[t]}}return $b=e,$b}var Fb,U5;function Sue(){if(U5)return Fb;U5=1;var e=m_();function t(r){return function(n){return e(n,r)}}return Fb=t,Fb}var Lb,V5;function kue(){if(V5)return Lb;V5=1;var e=_ue(),t=Sue(),r=l_(),n=ux();function a(s){return r(s)?e(n(s)):t(s)}return Lb=a,Lb}var zb,W5;function js(){if(W5)return zb;W5=1;var e=vue(),t=Nue(),r=bc(),n=xn(),a=kue();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return zb=s,zb}var qb,H5;function GL(){if(H5)return qb;H5=1;function e(t,r,n,a){for(var s=t.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return qb=e,qb}var Bb,K5;function Pue(){if(K5)return Bb;K5=1;function e(t){return t!==t}return Bb=e,Bb}var Ub,G5;function Cue(){if(G5)return Ub;G5=1;function e(t,r,n){for(var a=n-1,s=t.length;++a<s;)if(t[a]===r)return a;return-1}return Ub=e,Ub}var Vb,Y5;function Eue(){if(Y5)return Vb;Y5=1;var e=GL(),t=Pue(),r=Cue();function n(a,s,o){return s===s?r(a,s,o):e(a,t,o)}return Vb=n,Vb}var Wb,Q5;function Oue(){if(Q5)return Wb;Q5=1;var e=Eue();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return Wb=t,Wb}var Hb,X5;function Tue(){if(X5)return Hb;X5=1;function e(t,r,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(r,t[a]))return!0;return!1}return Hb=e,Hb}var Kb,J5;function Aue(){if(J5)return Kb;J5=1;function e(){}return Kb=e,Kb}var Gb,Z5;function Mue(){if(Z5)return Gb;Z5=1;var e=WL(),t=Aue(),r=j_(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Gb=a,Gb}var Yb,eA;function Rue(){if(eA)return Yb;eA=1;var e=IL(),t=Oue(),r=Tue(),n=FL(),a=Mue(),s=j_(),o=200;function l(u,d,h){var m=-1,p=t,g=u.length,y=!0,v=[],b=v;if(h)y=!1,p=r;else if(g>=o){var w=d?null:a(u);if(w)return s(w);y=!1,p=n,b=new e}else b=d?[]:v;e:for(;++m<g;){var S=u[m],k=d?d(S):S;if(S=h||S!==0?S:0,y&&k===k){for(var E=b.length;E--;)if(b[E]===k)continue e;d&&b.push(k),v.push(S)}else p(b,k,h)||(b!==v&&b.push(k),v.push(S))}return v}return Yb=l,Yb}var Qb,tA;function Due(){if(tA)return Qb;tA=1;var e=js(),t=Rue();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Qb=r,Qb}var Iue=Due();const rA=ot(Iue);function YL(e,t,r){return t===!0?rA(e,r):Ke(t)?rA(e,t):e}function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var $ue=["ref"];function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XL(n.key),n)}}function Lue(e,t,r){return t&&iA(e.prototype,t),r&&iA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zue(e,t,r){return t=Um(t),que(e,QL()?Reflect.construct(t,r||[],Um(e).constructor):t.apply(e,r))}function que(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bue(e)}function Bue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!e})()}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}function Uue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T1(e,t)}function T1(e,t){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T1(e,t)}function gx(e,t,r){return t=XL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=Vue(e,"string");return zl(t)=="symbol"?t:t+""}function Vue(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wue(e,t){if(e==null)return{};var r=Hue(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kue(e){return e.value}function Gue(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=Wue(t,$ue);return z.createElement(b_,r)}var aA=1,ao=(function(e){function t(){var r;Fue(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=zue(this,t,[].concat(a)),gx(r,"lastBoundingBox",{width:-1,height:-1}),r}return Uue(t,e),Lue(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>aA||Math.abs(a.height-this.lastBoundingBox.height)>aA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ia({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,u=a.margin,d=a.chartWidth,h=a.chartHeight,m,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();m={left:((d||0)-g.width)/2}}else m=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();p={top:((h||0)-y.height)/2}}else p=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return ia(ia({},m),p)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,u=a.wrapperStyle,d=a.payloadUniqBy,h=a.payload,m=ia(ia({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){n.wrapperNode=g}},Gue(s,ia(ia({},this.props),{},{payload:YL(h,d,Kue)})))}}],[{key:"getWithHeight",value:function(n,a){var s=ia(ia({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ge(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(O.PureComponent);gx(ao,"displayName","Legend");gx(ao,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Xb,sA;function Yue(){if(sA)return Xb;sA=1;var e=rf(),t=w_(),r=xn(),n=e?e.isConcatSpreadable:void 0;function a(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Xb=a,Xb}var Jb,oA;function JL(){if(oA)return Jb;oA=1;var e=zL(),t=Yue();function r(n,a,s,o,l){var u=-1,d=n.length;for(s||(s=t),l||(l=[]);++u<d;){var h=n[u];a>0&&s(h)?a>1?r(h,a-1,s,o,l):e(l,h):o||(l[l.length]=h)}return l}return Jb=r,Jb}var Zb,lA;function Que(){if(lA)return Zb;lA=1;function e(t){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),u=l.length;u--;){var d=l[t?u:++s];if(n(o[d],d,o)===!1)break}return r}}return Zb=e,Zb}var ej,cA;function Xue(){if(cA)return ej;cA=1;var e=Que(),t=e();return ej=t,ej}var tj,uA;function ZL(){if(uA)return tj;uA=1;var e=Xue(),t=xx();function r(n,a){return n&&e(n,a,t)}return tj=r,tj}var rj,dA;function Jue(){if(dA)return rj;dA=1;var e=sf();function t(r,n){return function(a,s){if(a==null)return a;if(!e(a))return r(a,s);for(var o=a.length,l=n?o:-1,u=Object(a);(n?l--:++l<o)&&s(u[l],l,u)!==!1;);return a}}return rj=t,rj}var nj,fA;function k_(){if(fA)return nj;fA=1;var e=ZL(),t=Jue(),r=t(e);return nj=r,nj}var ij,hA;function ez(){if(hA)return ij;hA=1;var e=k_(),t=sf();function r(n,a){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(l,u,d){o[++s]=a(l,u,d)}),o}return ij=r,ij}var aj,mA;function Zue(){if(mA)return aj;mA=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return aj=e,aj}var sj,pA;function ede(){if(pA)return sj;pA=1;var e=yc();function t(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=e(r),u=n!==void 0,d=n===null,h=n===n,m=e(n);if(!d&&!m&&!l&&r>n||l&&u&&h&&!d&&!m||s&&u&&h||!a&&h||!o)return 1;if(!s&&!l&&!m&&r<n||m&&a&&o&&!s&&!l||d&&a&&o||!u&&o||!h)return-1}return 0}return sj=t,sj}var oj,xA;function tde(){if(xA)return oj;xA=1;var e=ede();function t(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,u=o.length,d=a.length;++s<u;){var h=e(o[s],l[s]);if(h){if(s>=d)return h;var m=a[s];return h*(m=="desc"?-1:1)}}return r.index-n.index}return oj=t,oj}var lj,gA;function rde(){if(gA)return lj;gA=1;var e=h_(),t=m_(),r=js(),n=ez(),a=Zue(),s=BL(),o=tde(),l=bc(),u=xn();function d(h,m,p){m.length?m=e(m,function(v){return u(v)?function(b){return t(b,v.length===1?v[0]:v)}:v}):m=[l];var g=-1;m=e(m,s(r));var y=n(h,function(v,b,w){var S=e(m,function(k){return k(v)});return{criteria:S,index:++g,value:v}});return a(y,function(v,b){return o(v,b,p)})}return lj=d,lj}var cj,yA;function nde(){if(yA)return cj;yA=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return cj=e,cj}var uj,vA;function ide(){if(vA)return uj;vA=1;var e=nde(),t=Math.max;function r(n,a,s){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,u=t(o.length-a,0),d=Array(u);++l<u;)d[l]=o[a+l];l=-1;for(var h=Array(a+1);++l<a;)h[l]=o[l];return h[a]=s(d),e(n,this,h)}}return uj=r,uj}var dj,bA;function ade(){if(bA)return dj;bA=1;function e(t){return function(){return t}}return dj=e,dj}var fj,jA;function tz(){if(jA)return fj;jA=1;var e=No(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return fj=t,fj}var hj,wA;function sde(){if(wA)return hj;wA=1;var e=ade(),t=tz(),r=bc(),n=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return hj=n,hj}var mj,NA;function ode(){if(NA)return mj;NA=1;var e=800,t=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),u=t-(l-o);if(o=l,u>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return mj=n,mj}var pj,_A;function lde(){if(_A)return pj;_A=1;var e=sde(),t=ode(),r=t(e);return pj=r,pj}var xj,SA;function cde(){if(SA)return xj;SA=1;var e=bc(),t=ide(),r=lde();function n(a,s){return r(t(a,s,e),a+"")}return xj=n,xj}var gj,kA;function yx(){if(kA)return gj;kA=1;var e=u_(),t=sf(),r=N_(),n=bs();function a(s,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?t(l)&&r(o,l.length):u=="string"&&o in l)?e(l[o],s):!1}return gj=a,gj}var yj,PA;function ude(){if(PA)return yj;PA=1;var e=JL(),t=rde(),r=cde(),n=yx(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return yj=a,yj}var dde=ude();const P_=ot(dde);function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}function fde(e,t){return xde(e)||pde(e,t)||mde(e,t)||hde()}function hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function xde(e){if(Array.isArray(e))return e}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){gde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gde(e,t,r){return t=yde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yde(e){var t=vde(e,"string");return ld(t)=="symbol"?t:t+""}function vde(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bde(e){return Array.isArray(e)&&ir(e[0])&&ir(e[1])?e.join(" ~ "):e}var jde=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,u=t.labelStyle,d=u===void 0?{}:u,h=t.payload,m=t.formatter,p=t.itemSorter,g=t.wrapperClassName,y=t.labelClassName,v=t.label,b=t.labelFormatter,w=t.accessibilityLayer,S=w===void 0?!1:w,k=function(){if(h&&h.length){var q={padding:0,margin:0},H=(p?P_(h,p):h).map(function(K,W){if(K.type==="none")return null;var $=vj({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},l),Q=K.formatter||m||bde,Y=K.value,X=K.name,R=Y,B=X;if(Q&&R!=null&&B!=null){var V=Q(Y,X,K,W,h);if(Array.isArray(V)){var I=fde(V,2);R=I[0],B=I[1]}else R=V}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:$},ir(B)?z.createElement("span",{className:"recharts-tooltip-item-name"},B):null,ir(B)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},R),z.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:q},H)}return null},E=vj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=vj({margin:0},d),_=!We(v),T=_?v:"",D=Xe("recharts-default-tooltip",g),L=Xe("recharts-tooltip-label",y);_&&b&&h!==void 0&&h!==null&&(T=b(v,h));var M=S?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",A1({className:D,style:E},M),z.createElement("p",{className:L,style:P},z.isValidElement(T)?T:"".concat(T)),k())};function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function Wh(e,t,r){return t=wde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wde(e){var t=Nde(e,"string");return cd(t)=="symbol"?t:t+""}function Nde(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xu="recharts-tooltip-wrapper",_de={visibility:"hidden"};function Sde(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Xe(xu,Wh(Wh(Wh(Wh({},"".concat(xu,"-right"),ge(r)&&t&&ge(t.x)&&r>=t.x),"".concat(xu,"-left"),ge(r)&&t&&ge(t.x)&&r<t.x),"".concat(xu,"-bottom"),ge(n)&&t&&ge(t.y)&&n>=t.y),"".concat(xu,"-top"),ge(n)&&t&&ge(t.y)&&n<t.y))}function OA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,u=e.viewBox,d=e.viewBoxDimension;if(s&&ge(s[n]))return s[n];var h=r[n]-l-a,m=r[n]+a;if(t[n])return o[n]?h:m;if(o[n]){var p=h,g=u[n];return p<g?Math.max(m,u[n]):Math.max(h,u[n])}var y=m+l,v=u[n]+d;return y>v?Math.max(h,u[n]):Math.max(m,u[n])}function kde(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Pde(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox,d,h,m;return o.height>0&&o.width>0&&r?(h=OA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=OA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=kde({translateX:h,translateY:m,useTranslate3d:l})):d=_de,{cssProperties:d,cssClasses:Sde({translateX:h,translateY:m,coordinate:r})}}function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){R1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ede(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nz(n.key),n)}}function Ode(e,t,r){return t&&Ede(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tde(e,t,r){return t=Vm(t),Ade(e,rz()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}function Ade(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mde(e)}function Mde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(e)}function Rde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M1(e,t)}function R1(e,t,r){return t=nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=Dde(e,"string");return ql(t)=="symbol"?t:t+""}function Dde(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MA=1,Ide=(function(e){function t(){var r;Cde(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Tde(this,t,[].concat(a)),R1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),R1(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return Rde(t,e),Ode(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>MA||Math.abs(n.height-this.state.lastBoundingBox.height)>MA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,d=a.children,h=a.coordinate,m=a.hasPayload,p=a.isAnimationActive,g=a.offset,y=a.position,v=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,k=Pde({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:g,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),E=k.cssClasses,P=k.cssProperties,_=AA(AA({transition:p&&s?"transform ".concat(l,"ms ").concat(u):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},S);return z.createElement("div",{tabIndex:-1,className:E,style:_,ref:function(D){n.wrapperNode=D}},d)}}])})(O.PureComponent),$de=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jc={isSsr:$de()};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){C_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,az(n.key),n)}}function zde(e,t,r){return t&&Lde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qde(e,t,r){return t=Wm(t),Bde(e,iz()?Reflect.construct(t,r||[],Wm(e).constructor):t.apply(e,r))}function Bde(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(e)}function Ude(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function Wm(e){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(e)}function Vde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}function D1(e,t){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D1(e,t)}function C_(e,t,r){return t=az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=Wde(e,"string");return Bl(t)=="symbol"?t:t+""}function Wde(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hde(e){return e.dataKey}function Kde(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(jde,t)}var Vn=(function(e){function t(){return Fde(this,t),qde(this,t,arguments)}return Vde(t,e),zde(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,d=a.content,h=a.coordinate,m=a.filterNull,p=a.isAnimationActive,g=a.offset,y=a.payload,v=a.payloadUniqBy,b=a.position,w=a.reverseDirection,S=a.useTranslate3d,k=a.viewBox,E=a.wrapperStyle,P=y??[];m&&P.length&&(P=YL(y.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),v,Hde));var _=P.length>0;return z.createElement(Ide,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:s,coordinate:h,hasPayload:_,offset:g,position:b,reverseDirection:w,useTranslate3d:S,viewBox:k,wrapperStyle:E},Kde(d,DA(DA({},this.props),{},{payload:P})))}}])})(O.PureComponent);C_(Vn,"displayName","Tooltip");C_(Vn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bj,IA;function Gde(){if(IA)return bj;IA=1;var e=Wi(),t=function(){return e.Date.now()};return bj=t,bj}var jj,$A;function Yde(){if($A)return jj;$A=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return jj=t,jj}var wj,FA;function Qde(){if(FA)return wj;FA=1;var e=Yde(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return wj=r,wj}var Nj,LA;function sz(){if(LA)return Nj;LA=1;var e=Qde(),t=bs(),r=yc(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(d){if(typeof d=="number")return d;if(r(d))return n;if(t(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=t(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=s.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):a.test(d)?n:+d}return Nj=u,Nj}var _j,zA;function Xde(){if(zA)return _j;zA=1;var e=bs(),t=Gde(),r=sz(),n="Expected a function",a=Math.max,s=Math.min;function o(l,u,d){var h,m,p,g,y,v,b=0,w=!1,S=!1,k=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,e(d)&&(w=!!d.leading,S="maxWait"in d,p=S?a(r(d.maxWait)||0,u):p,k="trailing"in d?!!d.trailing:k);function E(H){var K=h,W=m;return h=m=void 0,b=H,g=l.apply(W,K),g}function P(H){return b=H,y=setTimeout(D,u),w?E(H):g}function _(H){var K=H-v,W=H-b,$=u-K;return S?s($,p-W):$}function T(H){var K=H-v,W=H-b;return v===void 0||K>=u||K<0||S&&W>=p}function D(){var H=t();if(T(H))return L(H);y=setTimeout(D,_(H))}function L(H){return y=void 0,k&&h?E(H):(h=m=void 0,g)}function M(){y!==void 0&&clearTimeout(y),b=0,h=v=m=y=void 0}function F(){return y===void 0?g:L(t())}function q(){var H=t(),K=T(H);if(h=arguments,m=this,v=H,K){if(y===void 0)return P(v);if(S)return clearTimeout(y),y=setTimeout(D,u),E(v)}return y===void 0&&(y=setTimeout(D,u)),g}return q.cancel=M,q.flush=F,q}return _j=o,_j}var Sj,qA;function Jde(){if(qA)return Sj;qA=1;var e=Xde(),t=bs(),r="Expected a function";function n(a,s,o){var l=!0,u=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),e(a,s,{leading:l,maxWait:s,trailing:u})}return Sj=n,Sj}var Zde=Jde();const oz=ot(Zde);function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){efe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function efe(e,t,r){return t=tfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tfe(e){var t=rfe(e,"string");return ud(t)=="symbol"?t:t+""}function rfe(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nfe(e,t){return ofe(e)||sfe(e,t)||afe(e,t)||ife()}function ife(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function afe(e,t){if(e){if(typeof e=="string")return UA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(e,t)}}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ofe(e){if(Array.isArray(e))return e}var E_=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,u=l===void 0?"100%":l,d=e.minWidth,h=d===void 0?0:d,m=e.minHeight,p=e.maxHeight,g=e.children,y=e.debounce,v=y===void 0?0:y,b=e.id,w=e.className,S=e.onResize,k=e.style,E=k===void 0?{}:k,P=O.useRef(null),_=O.useRef();_.current=S,O.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var T=O.useState({containerWidth:a.width,containerHeight:a.height}),D=nfe(T,2),L=D[0],M=D[1],F=O.useCallback(function(H,K){M(function(W){var $=Math.round(H),Q=Math.round(K);return W.containerWidth===$&&W.containerHeight===Q?W:{containerWidth:$,containerHeight:Q}})},[]);O.useEffect(function(){var H=function(X){var R,B=X[0].contentRect,V=B.width,I=B.height;F(V,I),(R=_.current)===null||R===void 0||R.call(_,V,I)};v>0&&(H=oz(H,v,{trailing:!0,leading:!1}));var K=new ResizeObserver(H),W=P.current.getBoundingClientRect(),$=W.width,Q=W.height;return F($,Q),K.observe(P.current),function(){K.disconnect()}},[F,v]);var q=O.useMemo(function(){var H=L.containerWidth,K=L.containerHeight;if(H<0||K<0)return null;ha(Qs(o)||Qs(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),ha(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Qs(o)?H:o,$=Qs(u)?K:u;r&&r>0&&(W?$=W/r:$&&(W=$*r),p&&$>p&&($=p)),ha(W>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,$,o,u,h,m,r);var Q=!Array.isArray(g)&&fa(g.type).endsWith("Chart");return z.Children.map(g,function(Y){return z.isValidElement(Y)?O.cloneElement(Y,Hh({width:W,height:$},Q?{style:Hh({height:"100%",width:"100%",maxHeight:$,maxWidth:W},Y.props.style)}:{})):Y})},[r,g,u,p,m,h,L,o]);return z.createElement("div",{id:b?"".concat(b):void 0,className:Xe("recharts-responsive-container",w),style:Hh(Hh({},E),{},{width:o,height:u,minWidth:h,minHeight:m,maxHeight:p}),ref:P},q)}),O_=function(t){return null};O_.displayName="Cell";function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lfe(e,t,r){return t=cfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=ufe(e,"string");return dd(t)=="symbol"?t:t+""}function ufe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cl={widthCache:{},cacheCount:0},dfe=2e3,ffe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WA="recharts_measurement_span";function hfe(e){var t=I1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var qu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jc.isSsr)return{width:0,height:0};var n=hfe(r),a=JSON.stringify({text:t,copyStyle:n});if(cl.widthCache[a])return cl.widthCache[a];try{var s=document.getElementById(WA);s||(s=document.createElement("span"),s.setAttribute("id",WA),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=I1(I1({},ffe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return cl.widthCache[a]=u,++cl.cacheCount>dfe&&(cl.cacheCount=0,cl.widthCache={}),u}catch{return{width:0,height:0}}},mfe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Hm(e,t){return yfe(e)||gfe(e,t)||xfe(e,t)||pfe()}function pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(e,t){if(e){if(typeof e=="string")return HA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HA(e,t)}}function HA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function yfe(e){if(Array.isArray(e))return e}function vfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jfe(n.key),n)}}function bfe(e,t,r){return t&&KA(e.prototype,t),r&&KA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jfe(e){var t=wfe(e,"string");return fd(t)=="symbol"?t:t+""}function wfe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_fe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sfe=Object.keys(lz),bl="NaN";function kfe(e,t){return e*lz[t]}var Kh=(function(){function e(t,r){vfe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Nfe.test(r)&&(this.num=NaN,this.unit=""),Sfe.includes(r)&&(this.num=kfe(t,r),this.unit="px")}return bfe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=_fe.exec(r))!==null&&n!==void 0?n:[],s=Hm(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])})();function cz(e){if(e.includes(bl))return bl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=GA.exec(t))!==null&&r!==void 0?r:[],a=Hm(n,4),s=a[1],o=a[2],l=a[3],u=Kh.parse(s??""),d=Kh.parse(l??""),h=o==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return bl;t=t.replace(GA,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,p=(m=YA.exec(t))!==null&&m!==void 0?m:[],g=Hm(p,4),y=g[1],v=g[2],b=g[3],w=Kh.parse(y??""),S=Kh.parse(b??""),k=v==="+"?w.add(S):w.subtract(S);if(k.isNaN())return bl;t=t.replace(YA,k.toString())}return t}var QA=/\(([^()]*)\)/;function Pfe(e){for(var t=e;t.includes("(");){var r=QA.exec(t),n=Hm(r,2),a=n[1];t=t.replace(QA,cz(a))}return t}function Cfe(e){var t=e.replace(/\s+/g,"");return t=Pfe(t),t=cz(t),t}function Efe(e){try{return Cfe(e)}catch{return bl}}function kj(e){var t=Efe(e.slice(5,-1));return t===bl?"":t}var Ofe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tfe=["dx","dy","angle","className","breakAll"];function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(this,arguments)}function XA(e,t){if(e==null)return{};var r=Afe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Afe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JA(e,t){return Ife(e)||Dfe(e,t)||Rfe(e,t)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(e,t){if(e){if(typeof e=="string")return ZA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(e,t)}}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Ife(e){if(Array.isArray(e))return e}var uz=/[ \f\n\r\t\v\u2028\u2029]+/,dz=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];We(r)||(n?s=r.toString().split(""):s=r.toString().split(uz));var o=s.map(function(u){return{word:u,width:qu(u,a).width}}),l=n?0:qu("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$fe=function(t,r,n,a,s){var o=t.maxLines,l=t.children,u=t.style,d=t.breakAll,h=ge(o),m=l,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function($,Q){var Y=Q.word,X=Q.width,R=$[$.length-1];if(R&&(a==null||s||R.width+X+n<Number(a)))R.words.push(Y),R.width+=X+n;else{var B={words:[Y],width:X};$.push(B)}return $},[])},g=p(r),y=function(W){return W.reduce(function($,Q){return $.width>Q.width?$:Q})};if(!h)return g;for(var v="",b=function(W){var $=m.slice(0,W),Q=dz({breakAll:d,style:u,children:$+v}).wordsWithComputedWidth,Y=p(Q),X=Y.length>o||y(Y).width>Number(a);return[X,Y]},w=0,S=m.length-1,k=0,E;w<=S&&k<=m.length-1;){var P=Math.floor((w+S)/2),_=P-1,T=b(_),D=JA(T,2),L=D[0],M=D[1],F=b(P),q=JA(F,1),H=q[0];if(!L&&!H&&(w=P+1),L&&H&&(S=P-1),!L&&H){E=M;break}k++}return E||g},e3=function(t){var r=We(t)?[]:t.toString().split(uz);return[{words:r}]},Ffe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!jc.isSsr){var u,d,h=dz({breakAll:o,children:a,style:s});if(h){var m=h.wordsWithComputedWidth,p=h.spaceWidth;u=m,d=p}else return e3(a);return $fe({breakAll:o,children:a,maxLines:l,style:s},u,d,r,n)}return e3(a)},t3="#808080",Km=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,u=t.capHeight,d=u===void 0?"0.71em":u,h=t.scaleToFit,m=h===void 0?!1:h,p=t.textAnchor,g=p===void 0?"start":p,y=t.verticalAnchor,v=y===void 0?"end":y,b=t.fill,w=b===void 0?t3:b,S=XA(t,Ofe),k=O.useMemo(function(){return Ffe({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:m,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,m,S.style,S.width]),E=S.dx,P=S.dy,_=S.angle,T=S.className,D=S.breakAll,L=XA(S,Tfe);if(!ir(n)||!ir(s))return null;var M=n+(ge(E)?E:0),F=s+(ge(P)?P:0),q;switch(v){case"start":q=kj("calc(".concat(d,")"));break;case"middle":q=kj("calc(".concat((k.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:q=kj("calc(".concat(k.length-1," * -").concat(l,")"));break}var H=[];if(m){var K=k[0].width,W=S.width;H.push("scale(".concat((ge(W)?W/K:1)/K,")"))}return _&&H.push("rotate(".concat(_,", ").concat(M,", ").concat(F,")")),H.length&&(L.transform=H.join(" ")),z.createElement("text",$1({},rt(L,!0),{x:M,y:F,className:Xe("recharts-text",T),textAnchor:g,fill:w.includes("url")?t3:w}),k.map(function($,Q){var Y=$.words.join(D?"":" ");return z.createElement("tspan",{x:M,dy:Q===0?q:l,key:"".concat(Y,"-").concat(Q)},Y)}))};function ds(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T_(e){let t,r,n;e.length!==2?(t=ds,r=(l,u)=>ds(e(l),u),n=(l,u)=>e(l)-u):(t=e===ds||e===Lfe?e:zfe,r=e,n=e);function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<0?d=m+1:h=m}while(d<h)}return d}function s(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,u,d=0,h=l.length){const m=a(l,u,d,h-1);return m>d&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:a,center:o,right:s}}function zfe(){return 0}function fz(e){return e===null?NaN:+e}function*qfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Bfe=T_(ds),of=Bfe.right;T_(fz).center;class r3 extends Map{constructor(t,r=Wfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(n3(this,t))}has(t){return super.has(n3(this,t))}set(t,r){return super.set(Ufe(this,t),r)}delete(t){return super.delete(Vfe(this,t))}}function n3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ufe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Vfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Wfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hfe(e=ds){if(e===ds)return hz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Kfe=Math.sqrt(50),Gfe=Math.sqrt(10),Yfe=Math.sqrt(2);function Gm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Kfe?10:s>=Gfe?5:s>=Yfe?2:1;let l,u,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=r&&r<2?Gm(e,t,r*2):[l,u,d]}function F1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Gm(t,e,r):Gm(e,t,r);if(!(s>=a))return[];const l=s-a+1,u=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)u[d]=(s-d)/-o;else for(let d=0;d<l;++d)u[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(a+d)/-o;else for(let d=0;d<l;++d)u[d]=(a+d)*o;return u}function L1(e,t,r){return t=+t,e=+e,r=+r,Gm(e,t,r)[2]}function z1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?L1(t,e,r):L1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function i3(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function a3(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?hz:Hfe(a);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),g=Math.max(r,Math.floor(t-d*m/u+p)),y=Math.min(n,Math.floor(t+(u-d)*m/u+p));mz(e,t,g,y,a)}const s=e[t];let o=r,l=n;for(gu(e,r,t),a(e[n],s)>0&&gu(e,r,n);o<l;){for(gu(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?gu(e,r,l):(++l,gu(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function gu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Qfe(e,t,r){if(e=Float64Array.from(qfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return a3(e);if(t>=1)return i3(e);var n,a=(n-1)*t,s=Math.floor(a),o=i3(mz(e,s).subarray(0,s+1)),l=a3(e.subarray(s+1));return o+(l-o)*(a-s)}}function Xfe(e,t,r=fz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Jfe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ta(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const q1=Symbol("implicit");function A_(){var e=new r3,t=[],r=[],n=q1;function a(s){let o=e.get(s);if(o===void 0){if(n!==q1)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new r3;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return A_(t,r).unknown(n)},Zn.apply(a,arguments),a}function hd(){var e=A_().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function m(){var p=t().length,g=a<n,y=g?a:n,v=g?n:a;s=(v-y)/Math.max(1,p-u+d*2),l&&(s=Math.floor(s)),y+=(v-y-s*(p-u))*h,o=s*(1-u),l&&(y=Math.round(y),o=Math.round(o));var b=Jfe(p).map(function(w){return y+s*w});return r(g?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,d=+p),m()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),m()):u},e.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},e.copy=function(){return hd(t(),[n,a]).round(l).paddingInner(u).paddingOuter(d).align(h)},Zn.apply(m(),arguments)}function pz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pz(t())},e}function Bu(){return pz(hd.apply(null,arguments).paddingInner(1))}function M_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lf(){}var md=.7,Ym=1/md,El="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zfe=/^#([0-9a-f]{3,8})$/,ehe=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),the=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),rhe=new RegExp(`^rgba\\(${El},${El},${El},${pd}\\)$`),nhe=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${pd}\\)$`),ihe=new RegExp(`^hsl\\(${pd},${Fi},${Fi}\\)$`),ahe=new RegExp(`^hsla\\(${pd},${Fi},${Fi},${pd}\\)$`),s3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M_(lf,xd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o3,formatHex:o3,formatHex8:she,formatHsl:ohe,formatRgb:l3,toString:l3});function o3(){return this.rgb().formatHex()}function she(){return this.rgb().formatHex8()}function ohe(){return gz(this).formatHsl()}function l3(){return this.rgb().formatRgb()}function xd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Zfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?c3(t):r===3?new dn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Gh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Gh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ehe.exec(e))?new dn(t[1],t[2],t[3],1):(t=the.exec(e))?new dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rhe.exec(e))?Gh(t[1],t[2],t[3],t[4]):(t=nhe.exec(e))?Gh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ihe.exec(e))?f3(t[1],t[2]/100,t[3]/100,1):(t=ahe.exec(e))?f3(t[1],t[2]/100,t[3]/100,t[4]):s3.hasOwnProperty(e)?c3(s3[e]):e==="transparent"?new dn(NaN,NaN,NaN,0):null}function c3(e){return new dn(e>>16&255,e>>8&255,e&255,1)}function Gh(e,t,r,n){return n<=0&&(e=t=r=NaN),new dn(e,t,r,n)}function lhe(e){return e instanceof lf||(e=xd(e)),e?(e=e.rgb(),new dn(e.r,e.g,e.b,e.opacity)):new dn}function B1(e,t,r,n){return arguments.length===1?lhe(e):new dn(e,t,r,n??1)}function dn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}M_(dn,B1,xz(lf,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dn(so(this.r),so(this.g),so(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u3,formatHex:u3,formatHex8:che,formatRgb:d3,toString:d3}));function u3(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}`}function che(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}${Xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function d3(){const e=Qm(this.opacity);return`${e===1?"rgb(":"rgba("}${so(this.r)}, ${so(this.g)}, ${so(this.b)}${e===1?")":`, ${e})`}`}function Qm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function so(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xs(e){return e=so(e),(e<16?"0":"")+e.toString(16)}function f3(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mi(e,t,r,n)}function gz(e){if(e instanceof mi)return new mi(e.h,e.s,e.l,e.opacity);if(e instanceof lf||(e=xd(e)),!e)return new mi;if(e instanceof mi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new mi(o,l,u,e.opacity)}function uhe(e,t,r,n){return arguments.length===1?gz(e):new mi(e,t,r,n??1)}function mi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}M_(mi,uhe,xz(lf,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new dn(Pj(e>=240?e-240:e+120,a,n),Pj(e,a,n),Pj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new mi(h3(this.h),Yh(this.s),Yh(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qm(this.opacity);return`${e===1?"hsl(":"hsla("}${h3(this.h)}, ${Yh(this.s)*100}%, ${Yh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h3(e){return e=(e||0)%360,e<0?e+360:e}function Yh(e){return Math.max(0,Math.min(1,e||0))}function Pj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const R_=e=>()=>e;function dhe(e,t){return function(r){return e+r*t}}function fhe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hhe(e){return(e=+e)==1?yz:function(t,r){return r-t?fhe(t,r,e):R_(isNaN(t)?r:t)}}function yz(e,t){var r=t-e;return r?dhe(e,r):R_(isNaN(e)?t:e)}const m3=(function e(t){var r=hhe(t);function n(a,s){var o=r((a=B1(a)).r,(s=B1(s)).r),l=r(a.g,s.g),u=r(a.b,s.b),d=yz(a.opacity,s.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=u(h),a.opacity=d(h),a+""}}return n.gamma=e,n})(1);function mhe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function phe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xhe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=wc(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function ghe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yhe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=wc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var U1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cj=new RegExp(U1.source,"g");function vhe(e){return function(){return e}}function bhe(e){return function(t){return e(t)+""}}function jhe(e,t){var r=U1.lastIndex=Cj.lastIndex=0,n,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=U1.exec(e))&&(a=Cj.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Xm(n,a)})),r=Cj.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?bhe(u[0].x):vhe(t):(t=u.length,function(d){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(d);return l.join("")})}function wc(e,t){var r=typeof t,n;return t==null||r==="boolean"?R_(t):(r==="number"?Xm:r==="string"?(n=xd(t))?(t=n,m3):jhe:t instanceof xd?m3:t instanceof Date?ghe:phe(t)?mhe:Array.isArray(t)?xhe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yhe:Xm)(e,t)}function D_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function whe(e,t){t===void 0&&(t=e,e=wc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Nhe(e){return function(){return e}}function Jm(e){return+e}var p3=[0,1];function Qr(e){return e}function V1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Nhe(isNaN(t)?NaN:.5)}function _he(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function She(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=V1(a,n),s=r(o,s)):(n=V1(n,a),s=r(s,o)),function(l){return s(n(l))}}function khe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=V1(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=of(e,l,1,n)-1;return s[u](a[u](l))}}function cf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vx(){var e=p3,t=p3,r=wc,n,a,s,o=Qr,l,u,d;function h(){var p=Math.min(e.length,t.length);return o!==Qr&&(o=_he(e[0],e[p-1])),l=p>2?khe:She,u=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(u||(u=l(e.map(n),t,r)))(n(o(p)))}return m.invert=function(p){return o(a((d||(d=l(t,e.map(n),Xm)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,Jm),h()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=D_,h()},m.clamp=function(p){return arguments.length?(o=p?!0:Qr,h()):o!==Qr},m.interpolate=function(p){return arguments.length?(r=p,h()):r},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,g){return n=p,a=g,h()}}function I_(){return vx()(Qr,Qr)}function Phe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ul(e){return e=Zm(Math.abs(e)),e?e[1]:NaN}function Che(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Ehe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ohe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gd(e){if(!(t=Ohe.exec(e)))throw new Error("invalid format: "+e);var t;return new $_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gd.prototype=$_.prototype;function $_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function The(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var vz;function Ahe(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(vz=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zm(e,Math.max(0,t+s-1))[0]}function x3(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const g3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Phe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>x3(e*100,t),r:x3,s:Ahe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y3(e){return e}var v3=Array.prototype.map,b3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mhe(e){var t=e.grouping===void 0||e.thousands===void 0?y3:Che(v3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?y3:Ehe(v3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=gd(m);var p=m.fill,g=m.align,y=m.sign,v=m.symbol,b=m.zero,w=m.width,S=m.comma,k=m.precision,E=m.trim,P=m.type;P==="n"?(S=!0,P="g"):g3[P]||(k===void 0&&(k=12),E=!0,P="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var _=v==="$"?r:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=v==="$"?n:/[%p]/.test(P)?o:"",D=g3[P],L=/[defgprs%]/.test(P);k=k===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function M(F){var q=_,H=T,K,W,$;if(P==="c")H=D(F)+H,F="";else{F=+F;var Q=F<0||1/F<0;if(F=isNaN(F)?u:D(Math.abs(F),k),E&&(F=The(F)),Q&&+F==0&&y!=="+"&&(Q=!1),q=(Q?y==="("?y:l:y==="-"||y==="("?"":y)+q,H=(P==="s"?b3[8+vz/3]:"")+H+(Q&&y==="("?")":""),L){for(K=-1,W=F.length;++K<W;)if($=F.charCodeAt(K),48>$||$>57){H=($===46?a+F.slice(K+1):F.slice(K))+H,F=F.slice(0,K);break}}}S&&!b&&(F=t(F,1/0));var Y=q.length+F.length+H.length,X=Y<w?new Array(w-Y+1).join(p):"";switch(S&&b&&(F=t(X+F,X.length?w-H.length:1/0),X=""),g){case"<":F=q+F+H+X;break;case"=":F=q+X+F+H;break;case"^":F=X.slice(0,Y=X.length>>1)+q+F+H+X.slice(Y);break;default:F=X+q+F+H;break}return s(F)}return M.toString=function(){return m+""},M}function h(m,p){var g=d((m=gd(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(Ul(p)/3)))*3,v=Math.pow(10,-y),b=b3[8+y/3];return function(w){return g(v*w)+b}}return{format:d,formatPrefix:h}}var Qh,F_,bz;Rhe({thousands:",",grouping:[3],currency:["$",""]});function Rhe(e){return Qh=Mhe(e),F_=Qh.format,bz=Qh.formatPrefix,Qh}function Dhe(e){return Math.max(0,-Ul(Math.abs(e)))}function Ihe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ul(t)/3)))*3-Ul(Math.abs(e)))}function $he(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ul(t)-Ul(e))+1}function jz(e,t,r,n){var a=z1(e,t,r),s;switch(n=gd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Ihe(a,o))&&(n.precision=s),bz(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=$he(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Dhe(a))&&(n.precision=s-(n.type==="%")*2);break}}return F_(n)}function ws(e){var t=e.domain;return e.ticks=function(r){var n=t();return F1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return jz(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=a,a=s,s=d);h-- >0;){if(d=L1(o,l,r),d===u)return n[a]=o,n[s]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function ep(){var e=I_();return e.copy=function(){return cf(e,ep())},Zn.apply(e,arguments),ws(e)}function wz(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Jm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return wz(e).unknown(t)},e=arguments.length?Array.from(e,Jm):[0,1],ws(r)}function Nz(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function j3(e){return Math.log(e)}function w3(e){return Math.exp(e)}function Fhe(e){return-Math.log(-e)}function Lhe(e){return-Math.exp(-e)}function zhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qhe(e){return e===10?zhe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Bhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function N3(e){return(t,r)=>-e(-t,r)}function L_(e){const t=e(j3,w3),r=t.domain;let n=10,a,s;function o(){return a=Bhe(n),s=qhe(n),r()[0]<0?(a=N3(a),s=N3(s),e(Fhe,Lhe)):e(j3,w3),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let p=a(d),g=a(h),y,v;const b=l==null?10:+l;let w=[];if(!(n%1)&&g-p<b){if(p=Math.floor(p),g=Math.ceil(g),d>0){for(;p<=g;++p)for(y=1;y<n;++y)if(v=p<0?y/s(-p):y*s(p),!(v<d)){if(v>h)break;w.push(v)}}else for(;p<=g;++p)for(y=n-1;y>=1;--y)if(v=p>0?y/s(-p):y*s(p),!(v<d)){if(v>h)break;w.push(v)}w.length*2<b&&(w=F1(d,h,b))}else w=F1(p,g,Math.min(g-p,b)).map(s);return m?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=gd(u)).precision==null&&(u.trim=!0),u=F_(u)),l===1/0)return u;const d=Math.max(1,n*l/t.ticks().length);return h=>{let m=h/s(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=d?u(h):""}},t.nice=()=>r(Nz(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function _z(){const e=L_(vx()).domain([1,10]);return e.copy=()=>cf(e,_z()).base(e.base()),Zn.apply(e,arguments),e}function _3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function z_(e){var t=1,r=e(_3(t),S3(t));return r.constant=function(n){return arguments.length?e(_3(t=+n),S3(t)):t},ws(r)}function Sz(){var e=z_(vx());return e.copy=function(){return cf(e,Sz()).constant(e.constant())},Zn.apply(e,arguments)}function k3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vhe(e){return e<0?-e*e:e*e}function q_(e){var t=e(Qr,Qr),r=1;function n(){return r===1?e(Qr,Qr):r===.5?e(Uhe,Vhe):e(k3(r),k3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ws(t)}function B_(){var e=q_(vx());return e.copy=function(){return cf(e,B_()).exponent(e.exponent())},Zn.apply(e,arguments),e}function Whe(){return B_.apply(null,arguments).exponent(.5)}function P3(e){return Math.sign(e)*e*e}function Hhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kz(){var e=I_(),t=[0,1],r=!1,n;function a(s){var o=Hhe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(P3(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Jm)).map(P3)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return kz(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zn.apply(a,arguments),ws(a)}function Pz(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Xfe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[of(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ds),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Pz().domain(e).range(t).unknown(n)},Zn.apply(s,arguments)}function Cz(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(u){return u!=null&&u<=u?a[of(n,u,0,r)]:s}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var d=a.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Cz().domain([e,t]).range(a).unknown(s)},Zn.apply(ws(o),arguments)}function Ez(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[of(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Ez().domain(e).range(t).unknown(r)},Zn.apply(a,arguments)}const Ej=new Date,Oj=new Date;function sr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const u=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;let d;do u.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<o);return u},a.filter=s=>sr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Ej.setTime(+s),Oj.setTime(+o),e(Ej),e(Oj),Math.floor(r(Ej,Oj))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const tp=sr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tp);tp.range;const sa=1e3,Gn=sa*60,oa=Gn*60,ja=oa*24,U_=ja*7,C3=ja*30,Tj=ja*365,Js=sr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCSeconds());Js.range;const V_=sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sa)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getMinutes());V_.range;const W_=sr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCMinutes());W_.range;const H_=sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sa-e.getMinutes()*Gn)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getHours());H_.range;const K_=sr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCHours());K_.range;const uf=sr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/ja,e=>e.getDate()-1);uf.range;const bx=sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>e.getUTCDate()-1);bx.range;const Oz=sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>Math.floor(e/ja));Oz.range;function _o(e){return sr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/U_)}const jx=_o(0),rp=_o(1),Khe=_o(2),Ghe=_o(3),Vl=_o(4),Yhe=_o(5),Qhe=_o(6);jx.range;rp.range;Khe.range;Ghe.range;Vl.range;Yhe.range;Qhe.range;function So(e){return sr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/U_)}const wx=So(0),np=So(1),Xhe=So(2),Jhe=So(3),Wl=So(4),Zhe=So(5),eme=So(6);wx.range;np.range;Xhe.range;Jhe.range;Wl.range;Zhe.range;eme.range;const G_=sr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());G_.range;const Y_=sr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Y_.range;const wa=sr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wa.range;const Na=sr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Na.range;function Tz(e,t,r,n,a,s){const o=[[Js,1,sa],[Js,5,5*sa],[Js,15,15*sa],[Js,30,30*sa],[s,1,Gn],[s,5,5*Gn],[s,15,15*Gn],[s,30,30*Gn],[a,1,oa],[a,3,3*oa],[a,6,6*oa],[a,12,12*oa],[n,1,ja],[n,2,2*ja],[r,1,U_],[t,1,C3],[t,3,3*C3],[e,1,Tj]];function l(d,h,m){const p=h<d;p&&([d,h]=[h,d]);const g=m&&typeof m.range=="function"?m:u(d,h,m),y=g?g.range(d,+h+1):[];return p?y.reverse():y}function u(d,h,m){const p=Math.abs(h-d)/m,g=T_(([,,b])=>b).right(o,p);if(g===o.length)return e.every(z1(d/Tj,h/Tj,m));if(g===0)return tp.every(Math.max(z1(d,h,m),1));const[y,v]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return y.every(v)}return[l,u]}const[tme,rme]=Tz(Na,Y_,wx,Oz,K_,W_),[nme,ime]=Tz(wa,G_,jx,uf,H_,V_);function Aj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ame(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=vu(a),h=bu(a),m=vu(s),p=bu(s),g=vu(o),y=bu(o),v=vu(l),b=bu(l),w=vu(u),S=bu(u),k={a:Q,A:Y,b:X,B:R,c:null,d:R3,e:R3,f:Cme,g:Fme,G:zme,H:Sme,I:kme,j:Pme,L:Az,m:Eme,M:Ome,p:B,q:V,Q:$3,s:F3,S:Tme,u:Ame,U:Mme,V:Rme,w:Dme,W:Ime,x:null,X:null,y:$me,Y:Lme,Z:qme,"%":I3},E={a:I,A:ae,b:ye,B:be,c:null,d:D3,e:D3,f:Wme,g:tpe,G:npe,H:Bme,I:Ume,j:Vme,L:Rz,m:Hme,M:Kme,p:we,q:ke,Q:$3,s:F3,S:Gme,u:Yme,U:Qme,V:Xme,w:Jme,W:Zme,x:null,X:null,y:epe,Y:rpe,Z:ipe,"%":I3},P={a:M,A:F,b:q,B:H,c:K,d:A3,e:A3,f:jme,g:T3,G:O3,H:M3,I:M3,j:gme,L:bme,m:xme,M:yme,p:L,q:pme,Q:Nme,s:_me,S:vme,u:ume,U:dme,V:fme,w:cme,W:hme,x:W,X:$,y:T3,Y:O3,Z:mme,"%":wme};k.x=_(r,k),k.X=_(n,k),k.c=_(t,k),E.x=_(r,E),E.X=_(n,E),E.c=_(t,E);function _(se,ve){return function(Oe){var oe=[],Ze=-1,Be=0,xt=se.length,ht,Tt,hr;for(Oe instanceof Date||(Oe=new Date(+Oe));++Ze<xt;)se.charCodeAt(Ze)===37&&(oe.push(se.slice(Be,Ze)),(Tt=E3[ht=se.charAt(++Ze)])!=null?ht=se.charAt(++Ze):Tt=ht==="e"?" ":"0",(hr=ve[ht])&&(ht=hr(Oe,Tt)),oe.push(ht),Be=Ze+1);return oe.push(se.slice(Be,Ze)),oe.join("")}}function T(se,ve){return function(Oe){var oe=yu(1900,void 0,1),Ze=D(oe,se,Oe+="",0),Be,xt;if(Ze!=Oe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(ve&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Be=Mj(yu(oe.y,0,1)),xt=Be.getUTCDay(),Be=xt>4||xt===0?np.ceil(Be):np(Be),Be=bx.offset(Be,(oe.V-1)*7),oe.y=Be.getUTCFullYear(),oe.m=Be.getUTCMonth(),oe.d=Be.getUTCDate()+(oe.w+6)%7):(Be=Aj(yu(oe.y,0,1)),xt=Be.getDay(),Be=xt>4||xt===0?rp.ceil(Be):rp(Be),Be=uf.offset(Be,(oe.V-1)*7),oe.y=Be.getFullYear(),oe.m=Be.getMonth(),oe.d=Be.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),xt="Z"in oe?Mj(yu(oe.y,0,1)).getUTCDay():Aj(yu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(xt+5)%7:oe.w+oe.U*7-(xt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Mj(oe)):Aj(oe)}}function D(se,ve,Oe,oe){for(var Ze=0,Be=ve.length,xt=Oe.length,ht,Tt;Ze<Be;){if(oe>=xt)return-1;if(ht=ve.charCodeAt(Ze++),ht===37){if(ht=ve.charAt(Ze++),Tt=P[ht in E3?ve.charAt(Ze++):ht],!Tt||(oe=Tt(se,Oe,oe))<0)return-1}else if(ht!=Oe.charCodeAt(oe++))return-1}return oe}function L(se,ve,Oe){var oe=d.exec(ve.slice(Oe));return oe?(se.p=h.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function M(se,ve,Oe){var oe=g.exec(ve.slice(Oe));return oe?(se.w=y.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function F(se,ve,Oe){var oe=m.exec(ve.slice(Oe));return oe?(se.w=p.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function q(se,ve,Oe){var oe=w.exec(ve.slice(Oe));return oe?(se.m=S.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function H(se,ve,Oe){var oe=v.exec(ve.slice(Oe));return oe?(se.m=b.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function K(se,ve,Oe){return D(se,t,ve,Oe)}function W(se,ve,Oe){return D(se,r,ve,Oe)}function $(se,ve,Oe){return D(se,n,ve,Oe)}function Q(se){return o[se.getDay()]}function Y(se){return s[se.getDay()]}function X(se){return u[se.getMonth()]}function R(se){return l[se.getMonth()]}function B(se){return a[+(se.getHours()>=12)]}function V(se){return 1+~~(se.getMonth()/3)}function I(se){return o[se.getUTCDay()]}function ae(se){return s[se.getUTCDay()]}function ye(se){return u[se.getUTCMonth()]}function be(se){return l[se.getUTCMonth()]}function we(se){return a[+(se.getUTCHours()>=12)]}function ke(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ve=_(se+="",k);return ve.toString=function(){return se},ve},parse:function(se){var ve=T(se+="",!1);return ve.toString=function(){return se},ve},utcFormat:function(se){var ve=_(se+="",E);return ve.toString=function(){return se},ve},utcParse:function(se){var ve=T(se+="",!0);return ve.toString=function(){return se},ve}}}var E3={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,sme=/^%/,ome=/[\\^$*+?|[\]().{}]/g;function at(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function lme(e){return e.replace(ome,"\\$&")}function vu(e){return new RegExp("^(?:"+e.map(lme).join("|")+")","i")}function bu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cme(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ume(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function dme(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fme(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hme(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function O3(e,t,r){var n=fr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T3(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mme(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pme(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function xme(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function A3(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gme(e,t,r){var n=fr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function M3(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yme(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vme(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bme(e,t,r){var n=fr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function jme(e,t,r){var n=fr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wme(e,t,r){var n=sme.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Nme(e,t,r){var n=fr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _me(e,t,r){var n=fr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function R3(e,t){return at(e.getDate(),t,2)}function Sme(e,t){return at(e.getHours(),t,2)}function kme(e,t){return at(e.getHours()%12||12,t,2)}function Pme(e,t){return at(1+uf.count(wa(e),e),t,3)}function Az(e,t){return at(e.getMilliseconds(),t,3)}function Cme(e,t){return Az(e,t)+"000"}function Eme(e,t){return at(e.getMonth()+1,t,2)}function Ome(e,t){return at(e.getMinutes(),t,2)}function Tme(e,t){return at(e.getSeconds(),t,2)}function Ame(e){var t=e.getDay();return t===0?7:t}function Mme(e,t){return at(jx.count(wa(e)-1,e),t,2)}function Mz(e){var t=e.getDay();return t>=4||t===0?Vl(e):Vl.ceil(e)}function Rme(e,t){return e=Mz(e),at(Vl.count(wa(e),e)+(wa(e).getDay()===4),t,2)}function Dme(e){return e.getDay()}function Ime(e,t){return at(rp.count(wa(e)-1,e),t,2)}function $me(e,t){return at(e.getFullYear()%100,t,2)}function Fme(e,t){return e=Mz(e),at(e.getFullYear()%100,t,2)}function Lme(e,t){return at(e.getFullYear()%1e4,t,4)}function zme(e,t){var r=e.getDay();return e=r>=4||r===0?Vl(e):Vl.ceil(e),at(e.getFullYear()%1e4,t,4)}function qme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function D3(e,t){return at(e.getUTCDate(),t,2)}function Bme(e,t){return at(e.getUTCHours(),t,2)}function Ume(e,t){return at(e.getUTCHours()%12||12,t,2)}function Vme(e,t){return at(1+bx.count(Na(e),e),t,3)}function Rz(e,t){return at(e.getUTCMilliseconds(),t,3)}function Wme(e,t){return Rz(e,t)+"000"}function Hme(e,t){return at(e.getUTCMonth()+1,t,2)}function Kme(e,t){return at(e.getUTCMinutes(),t,2)}function Gme(e,t){return at(e.getUTCSeconds(),t,2)}function Yme(e){var t=e.getUTCDay();return t===0?7:t}function Qme(e,t){return at(wx.count(Na(e)-1,e),t,2)}function Dz(e){var t=e.getUTCDay();return t>=4||t===0?Wl(e):Wl.ceil(e)}function Xme(e,t){return e=Dz(e),at(Wl.count(Na(e),e)+(Na(e).getUTCDay()===4),t,2)}function Jme(e){return e.getUTCDay()}function Zme(e,t){return at(np.count(Na(e)-1,e),t,2)}function epe(e,t){return at(e.getUTCFullYear()%100,t,2)}function tpe(e,t){return e=Dz(e),at(e.getUTCFullYear()%100,t,2)}function rpe(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function npe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Wl(e):Wl.ceil(e),at(e.getUTCFullYear()%1e4,t,4)}function ipe(){return"+0000"}function I3(){return"%"}function $3(e){return+e}function F3(e){return Math.floor(+e/1e3)}var ul,Iz,$z;ape({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ape(e){return ul=ame(e),Iz=ul.format,ul.parse,$z=ul.utcFormat,ul.utcParse,ul}function spe(e){return new Date(e)}function ope(e){return e instanceof Date?+e:+new Date(+e)}function Q_(e,t,r,n,a,s,o,l,u,d){var h=I_(),m=h.invert,p=h.domain,g=d(".%L"),y=d(":%S"),v=d("%I:%M"),b=d("%I %p"),w=d("%a %d"),S=d("%b %d"),k=d("%B"),E=d("%Y");function P(_){return(u(_)<_?g:l(_)<_?y:o(_)<_?v:s(_)<_?b:n(_)<_?a(_)<_?w:S:r(_)<_?k:E)(_)}return h.invert=function(_){return new Date(m(_))},h.domain=function(_){return arguments.length?p(Array.from(_,ope)):p().map(spe)},h.ticks=function(_){var T=p();return e(T[0],T[T.length-1],_??10)},h.tickFormat=function(_,T){return T==null?P:d(T)},h.nice=function(_){var T=p();return(!_||typeof _.range!="function")&&(_=t(T[0],T[T.length-1],_??10)),_?p(Nz(T,_)):h},h.copy=function(){return cf(h,Q_(e,t,r,n,a,s,o,l,u,d))},h}function lpe(){return Zn.apply(Q_(nme,ime,wa,G_,jx,uf,H_,V_,Js,Iz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cpe(){return Zn.apply(Q_(tme,rme,Na,Y_,wx,bx,K_,W_,Js,$z).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nx(){var e=0,t=1,r,n,a,s,o=Qr,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:o(a===0?.5:(m=(s(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(p){var g,y;return arguments.length?([g,y]=p,o=m(g,y),d):[o(0),o(1)]}}return d.range=h(wc),d.rangeRound=h(D_),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return s=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),d}}function Ns(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Fz(){var e=ws(Nx()(Qr));return e.copy=function(){return Ns(e,Fz())},Ta.apply(e,arguments)}function Lz(){var e=L_(Nx()).domain([1,10]);return e.copy=function(){return Ns(e,Lz()).base(e.base())},Ta.apply(e,arguments)}function zz(){var e=z_(Nx());return e.copy=function(){return Ns(e,zz()).constant(e.constant())},Ta.apply(e,arguments)}function X_(){var e=q_(Nx());return e.copy=function(){return Ns(e,X_()).exponent(e.exponent())},Ta.apply(e,arguments)}function upe(){return X_.apply(null,arguments).exponent(.5)}function qz(){var e=[],t=Qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((of(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ds),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Qfe(e,s/n))},r.copy=function(){return qz(t).domain(e)},Ta.apply(r,arguments)}function _x(){var e=0,t=.5,r=1,n=1,a,s,o,l,u,d=Qr,h,m=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+h(v))-s)*(n*v<n*s?l:u),d(m?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,r]=v,a=h(e=+e),s=h(t=+t),o=h(r=+r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,g):[e,t,r]},g.clamp=function(v){return arguments.length?(m=!!v,g):m},g.interpolator=function(v){return arguments.length?(d=v,g):d};function y(v){return function(b){var w,S,k;return arguments.length?([w,S,k]=b,d=whe(v,[w,S,k]),g):[d(0),d(.5),d(1)]}}return g.range=y(wc),g.rangeRound=y(D_),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return h=v,a=v(e),s=v(t),o=v(r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,g}}function Bz(){var e=ws(_x()(Qr));return e.copy=function(){return Ns(e,Bz())},Ta.apply(e,arguments)}function Uz(){var e=L_(_x()).domain([.1,1,10]);return e.copy=function(){return Ns(e,Uz()).base(e.base())},Ta.apply(e,arguments)}function Vz(){var e=z_(_x());return e.copy=function(){return Ns(e,Vz()).constant(e.constant())},Ta.apply(e,arguments)}function J_(){var e=q_(_x());return e.copy=function(){return Ns(e,J_()).exponent(e.exponent())},Ta.apply(e,arguments)}function dpe(){return J_.apply(null,arguments).exponent(.5)}const L3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hd,scaleDiverging:Bz,scaleDivergingLog:Uz,scaleDivergingPow:J_,scaleDivergingSqrt:dpe,scaleDivergingSymlog:Vz,scaleIdentity:wz,scaleImplicit:q1,scaleLinear:ep,scaleLog:_z,scaleOrdinal:A_,scalePoint:Bu,scalePow:B_,scaleQuantile:Pz,scaleQuantize:Cz,scaleRadial:kz,scaleSequential:Fz,scaleSequentialLog:Lz,scaleSequentialPow:X_,scaleSequentialQuantile:qz,scaleSequentialSqrt:upe,scaleSequentialSymlog:zz,scaleSqrt:Whe,scaleSymlog:Sz,scaleThreshold:Ez,scaleTime:lpe,scaleUtc:cpe,tickFormat:jz},Symbol.toStringTag,{value:"Module"}));var Rj,z3;function Wz(){if(z3)return Rj;z3=1;var e=yc();function t(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],u=n(l);if(u!=null&&(d===void 0?u===u&&!e(u):a(u,d)))var d=u,h=l}return h}return Rj=t,Rj}var Dj,q3;function fpe(){if(q3)return Dj;q3=1;function e(t,r){return t>r}return Dj=e,Dj}var Ij,B3;function hpe(){if(B3)return Ij;B3=1;var e=Wz(),t=fpe(),r=bc();function n(a){return a&&a.length?e(a,r,t):void 0}return Ij=n,Ij}var mpe=hpe();const Sx=ot(mpe);var $j,U3;function ppe(){if(U3)return $j;U3=1;function e(t,r){return t<r}return $j=e,$j}var Fj,V3;function xpe(){if(V3)return Fj;V3=1;var e=Wz(),t=ppe(),r=bc();function n(a){return a&&a.length?e(a,r,t):void 0}return Fj=n,Fj}var gpe=xpe();const kx=ot(gpe);var Lj,W3;function ype(){if(W3)return Lj;W3=1;var e=h_(),t=js(),r=ez(),n=xn();function a(s,o){var l=n(s)?e:r;return l(s,t(o,3))}return Lj=a,Lj}var zj,H3;function vpe(){if(H3)return zj;H3=1;var e=JL(),t=ype();function r(n,a){return e(t(n,a),1)}return zj=r,zj}var bpe=vpe();const jpe=ot(bpe);var qj,K3;function wpe(){if(K3)return qj;K3=1;var e=S_();function t(r,n){return e(r,n)}return qj=t,qj}var Npe=wpe();const Px=ot(Npe);var Nc=1e9,_pe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eS,Ot=!0,Qn="[DecimalError] ",oo=Qn+"Invalid argument: ",Z_=Qn+"Exponent out of range: ",_c=Math.floor,Ws=Math.pow,Spe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_n,ur=1e7,kt=7,Hz=9007199254740991,ip=_c(Hz/kt),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return ma(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return yt(ma(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Yt(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_n))throw Error(Qn+"NaN");if(r.s<1)throw Error(Qn+(r.s?"NaN":"-Infinity"));return r.eq(_n)?new n(0):(Ot=!1,t=ma(yd(r,s),yd(e,s),s),Ot=!0,yt(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yz(t,e):Kz(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Qn+"NaN");return r.s?(Ot=!1,t=ma(r,e,0,1).times(e),Ot=!0,r.minus(t)):yt(new n(r),a)};_e.naturalExponential=_e.exp=function(){return Gz(this)};_e.naturalLogarithm=_e.ln=function(){return yd(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Kz(t,e):Yz(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oo+e);if(t=Yt(a)+1,n=a.d.length-1,r=n*kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,s,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Qn+"NaN")}for(e=Yt(l),Ot=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ri(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_c((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(s=n,n=s.plus(ma(l,s,o+2)).times(.5),Ri(s.d).slice(0,o)===(t=Ri(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(yt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Ot=!0,yt(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,s,o,l,u,d,h=this,m=h.constructor,p=h.d,g=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=p.length,d=g.length,u<d&&(s=p,p=g,g=s,o=u,u=d,d=o),s=[],o=u+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,a=u+n;a>n;)l=s[a]+g[n]*p[a-n-1]+t,s[a--]=l%ur|0,t=l/ur|0;s[a]=(s[a]+t)%ur|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ot?yt(e,m.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qi(e,0,Nc),t===void 0?t=n.rounding:qi(t,0,8),yt(r,e+Yt(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=xo(n,!0):(qi(e,0,Nc),t===void 0?t=a.rounding:qi(t,0,8),n=yt(new a(n),e+1,t),r=xo(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?xo(a):(qi(e,0,Nc),t===void 0?t=s.rounding:qi(t,0,8),n=yt(new s(a),e+Yt(a)+1,t),r=xo(n.abs(),!1,e+Yt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return yt(new t(e),Yt(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,s,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(_n);if(l=new u(l),!l.s){if(e.s<1)throw Error(Qn+"Infinity");return l}if(l.eq(_n))return l;if(n=u.precision,e.eq(_n))return yt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=h<0?-h:h)<=Hz){for(a=new u(_n),t=Math.ceil(n/kt+4),Ot=!1;r%2&&(a=a.times(l),Y3(a.d,t)),r=_c(r/2),r!==0;)l=l.times(l),Y3(l.d,t);return Ot=!0,e.s<0?new u(_n).div(a):yt(a,n)}}else if(s<0)throw Error(Qn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ot=!1,a=e.times(yd(l,n+d)),Ot=!0,a=Gz(a),a.s=s,a};_e.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Yt(a),n=xo(a,r<=s.toExpNeg||r>=s.toExpPos)):(qi(e,1,Nc),t===void 0?t=s.rounding:qi(t,0,8),a=yt(new s(a),e,t),r=Yt(a),n=xo(a,e<=r||r<=s.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qi(e,1,Nc),t===void 0?t=n.rounding:qi(t,0,8)),yt(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Yt(e),r=e.constructor;return xo(e,t<=r.toExpNeg||t>=r.toExpPos)};function Kz(e,t){var r,n,a,s,o,l,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Ot?yt(t,m):t;if(u=e.d,d=t.d,o=e.e,a=t.e,u=u.slice(),s=o-a,s){for(s<0?(n=u,s=-s,l=d.length):(n=d,a=o,l=u.length),o=Math.ceil(m/kt),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=u.length,s=d.length,l-s<0&&(s=l,n=d,d=u,u=n),r=0;s;)r=(u[--s]=u[s]+d[s]+r)/ur|0,u[s]%=ur;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Ot?yt(t,m):t}function qi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(oo+e)}function Ri(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=kt-n.length,r&&(s+=rs(r)),s+=n;o=e[t],n=o+"",r=kt-n.length,r&&(s+=rs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ma=(function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%ur|0,o=s/ur|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,u;if(s!=o)u=s>o?1:-1;else for(l=u=0;l<s;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*ur+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,u,d,h,m,p,g,y,v,b,w,S,k,E,P,_,T,D,L=n.constructor,M=n.s==a.s?1:-1,F=n.d,q=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Qn+"Division by zero");for(u=n.e-a.e,T=q.length,P=F.length,g=new L(M),y=g.d=[],d=0;q[d]==(F[d]||0);)++d;if(q[d]>(F[d]||0)&&--u,s==null?S=s=L.precision:o?S=s+(Yt(n)-Yt(a))+1:S=s,S<0)return new L(0);if(S=S/kt+2|0,d=0,T==1)for(h=0,q=q[0],S++;(d<P||h)&&S--;d++)k=h*ur+(F[d]||0),y[d]=k/q|0,h=k%q|0;else{for(h=ur/(q[0]+1)|0,h>1&&(q=e(q,h),F=e(F,h),T=q.length,P=F.length),E=T,v=F.slice(0,T),b=v.length;b<T;)v[b++]=0;D=q.slice(),D.unshift(0),_=q[0],q[1]>=ur/2&&++_;do h=0,l=t(q,v,T,b),l<0?(w=v[0],T!=b&&(w=w*ur+(v[1]||0)),h=w/_|0,h>1?(h>=ur&&(h=ur-1),m=e(q,h),p=m.length,b=v.length,l=t(m,v,p,b),l==1&&(h--,r(m,T<p?D:q,p))):(h==0&&(l=h=1),m=q.slice()),p=m.length,p<b&&m.unshift(0),r(v,m,b),l==-1&&(b=v.length,l=t(q,v,T,b),l<1&&(h++,r(v,T<b?D:q,b))),b=v.length):l===0&&(h++,v=[0]),y[d++]=h,l&&v[0]?v[b++]=F[E]||0:(v=[F[E]],b=1);while((E++<P||v[0]!==void 0)&&S--)}return y[0]||y.shift(),g.e=u,yt(g,o?s+Yt(g)+1:s)}})();function Gz(e,t){var r,n,a,s,o,l,u=0,d=0,h=e.constructor,m=h.precision;if(Yt(e)>16)throw Error(Z_+Yt(e));if(!e.s)return new h(_n);for(Ot=!1,l=m,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ws(2,d))/Math.LN10*2+5|0,l+=n,r=a=s=new h(_n),h.precision=l;;){if(a=yt(a.times(e),l),r=r.times(++u),o=s.plus(ma(a,r,l)),Ri(o.d).slice(0,l)===Ri(s.d).slice(0,l)){for(;d--;)s=yt(s.times(s),l);return h.precision=m,t==null?(Ot=!0,yt(s,m)):s}s=o}}function Yt(e){for(var t=e.e*kt,r=e.d[0];r>=10;r/=10)t++;return t}function Bj(e,t,r){if(t>e.LN10.sd())throw Ot=!0,r&&(e.precision=r),Error(Qn+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function rs(e){for(var t="";e--;)t+="0";return t}function yd(e,t){var r,n,a,s,o,l,u,d,h,m=1,p=10,g=e,y=g.d,v=g.constructor,b=v.precision;if(g.s<1)throw Error(Qn+(g.s?"NaN":"-Infinity"));if(g.eq(_n))return new v(0);if(t==null?(Ot=!1,d=b):d=t,g.eq(10))return t==null&&(Ot=!0),Bj(v,d);if(d+=p,v.precision=d,r=Ri(y),n=r.charAt(0),s=Yt(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ri(g.d),n=r.charAt(0),m++;s=Yt(g),n>1?(g=new v("0."+r),s++):g=new v(n+"."+r.slice(1))}else return u=Bj(v,d+2,b).times(s+""),g=yd(new v(n+"."+r.slice(1)),d-p).plus(u),v.precision=b,t==null?(Ot=!0,yt(g,b)):g;for(l=o=g=ma(g.minus(_n),g.plus(_n),d),h=yt(g.times(g),d),a=3;;){if(o=yt(o.times(h),d),u=l.plus(ma(o,new v(a),d)),Ri(u.d).slice(0,d)===Ri(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(Bj(v,d+2,b).times(s+""))),l=ma(l,new v(m),d),v.precision=b,t==null?(Ot=!0,yt(l,b)):l;l=u,a+=2}}function G3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=_c(r/kt),e.d=[],n=(r+1)%kt,r<0&&(n+=kt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=kt;n<a;)e.d.push(+t.slice(n,n+=kt));t=t.slice(n),n=kt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ot&&(e.e>ip||e.e<-ip))throw Error(Z_+r)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,r){var n,a,s,o,l,u,d,h,m=e.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=kt,a=t,d=m[h=0];else{if(h=Math.ceil((n+1)/kt),s=m.length,h>=s)return e;for(d=s=m[h],o=1;s>=10;s/=10)o++;n%=kt,a=n-kt+o}if(r!==void 0&&(s=Ws(10,o-a-1),l=d/s%10|0,u=t<0||m[h+1]!==void 0||d%s,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?d/Ws(10,o-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(s=Yt(e),m.length=1,t=t-s-1,m[0]=Ws(10,(kt-t%kt)%kt),e.e=_c(-t/kt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,s=1,h--):(m.length=h+1,s=Ws(10,kt-n),m[h]=a>0?(d/Ws(10,o-a)%Ws(10,a)|0)*s:0),u)for(;;)if(h==0){(m[0]+=s)==ur&&(m[0]=1,++e.e);break}else{if(m[h]+=s,m[h]!=ur)break;m[h--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(Ot&&(e.e>ip||e.e<-ip))throw Error(Z_+Yt(e));return e}function Yz(e,t){var r,n,a,s,o,l,u,d,h,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ot?yt(t,g):t;if(u=e.d,m=t.d,n=t.e,d=e.e,u=u.slice(),o=d-n,o){for(h=o<0,h?(r=u,o=-o,l=m.length):(r=m,n=d,l=u.length),a=Math.max(Math.ceil(g/kt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=m.length,h=a<l,h&&(l=a),a=0;a<l;a++)if(u[a]!=m[a]){h=u[a]<m[a];break}o=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,a=m.length-l;a>0;--a)u[l++]=0;for(a=m.length;a>o;){if(u[--a]<m[a]){for(s=a;s&&u[--s]===0;)u[s]=ur-1;--u[s],u[a]+=ur}u[a]-=m[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Ot?yt(t,g):t):new p(0)}function xo(e,t,r){var n,a=Yt(e),s=Ri(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+rs(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+rs(-a-1)+s,r&&(n=r-o)>0&&(s+=rs(n))):a>=o?(s+=rs(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+rs(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=rs(n))),e.s<0?"-"+s:s}function Y3(e,t){if(e.length>t)return e.length=t,!0}function Qz(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(oo+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return G3(o,s.toString())}else if(typeof s!="string")throw Error(oo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Spe.test(s))G3(o,s);else throw Error(oo+s)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Qz,a.config=a.set=kpe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function kpe(e){if(!e||typeof e!="object")throw Error(Qn+"Object expected");var t,r,n,a=["precision",1,Nc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(_c(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(oo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(oo+r+": "+n);return this}var eS=Qz(_pe);_n=new eS(1);const mt=eS;function Ppe(e){return Tpe(e)||Ope(e)||Epe(e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(e,t){if(e){if(typeof e=="string")return W1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(e,t)}}function Ope(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tpe(e){if(Array.isArray(e))return W1(e)}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ape=function(t){return t},Xz={},Jz=function(t){return t===Xz},Q3=function(t){return function r(){return arguments.length===0||arguments.length===1&&Jz(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Mpe=function e(t,r){return t===1?r:Q3(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==Xz}).length;return o>=t?r.apply(void 0,a):e(t-o,Q3(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=a.map(function(m){return Jz(m)?u.shift():m});return r.apply(void 0,Ppe(h).concat(u))}))})},Cx=function(t){return Mpe(t.length,t)},H1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Rpe=Cx(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Dpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Ape;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},K1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Zz=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,u){return l===r[u]})||(r=s,n=t.apply(void 0,s)),n}};function Ipe(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function $pe(e,t,r){for(var n=new mt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Fpe=Cx(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Lpe=Cx(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),zpe=Cx(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ex={rangeStep:$pe,getDigitCount:Ipe,interpolateNumber:Fpe,uninterpolateNumber:Lpe,uninterpolateTruncation:zpe};function G1(e){return Upe(e)||Bpe(e)||e6(e)||qpe()}function qpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Upe(e){if(Array.isArray(e))return Y1(e)}function vd(e,t){return Hpe(e)||Wpe(e,t)||e6(e,t)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e6(e,t){if(e){if(typeof e=="string")return Y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(e,t)}}function Y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(u){a=!0,s=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function Hpe(e){if(Array.isArray(e))return e}function t6(e){var t=vd(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function r6(e,t,r){if(e.lte(0))return new mt(0);var n=Ex.getDigitCount(e.toNumber()),a=new mt(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new mt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?u:new mt(Math.ceil(u))}function Kpe(e,t,r){var n=1,a=new mt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new mt(10).pow(Ex.getDigitCount(e)-1),a=new mt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new mt(Math.floor(e)))}else e===0?a=new mt(Math.floor((t-1)/2)):r||(a=new mt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Dpe(Rpe(function(u){return a.add(new mt(u-o).mul(n)).toNumber()}),H1);return l(0,t)}function n6(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var s=r6(new mt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new mt(0):(o=new mt(e).add(t).div(2),o=o.sub(new mt(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new mt(t).sub(o).div(s).toNumber()),d=l+u+1;return d>r?n6(e,t,r,n,a+1):(d<r&&(u=t>0?u+(r-d):u,l=t>0?l:l+(r-d)),{step:s,tickMin:o.sub(new mt(l).mul(s)),tickMax:o.add(new mt(u).mul(s))})}function Gpe(e){var t=vd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=t6([r,n]),u=vd(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(G1(H1(0,a-1).map(function(){return 1/0}))):[].concat(G1(H1(0,a-1).map(function(){return-1/0})),[h]);return r>n?K1(m):m}if(d===h)return Kpe(d,a,s);var p=n6(d,h,o,s),g=p.step,y=p.tickMin,v=p.tickMax,b=Ex.rangeStep(y,v.add(new mt(.1).mul(g)),g);return r>n?K1(b):b}function Ype(e,t){var r=vd(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=t6([n,a]),l=vd(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0)return[n,a];if(u===d)return[u];var h=Math.max(t,2),m=r6(new mt(d).sub(u).div(h-1),s,0),p=[].concat(G1(Ex.rangeStep(new mt(u),new mt(d).sub(new mt(.99).mul(m)),m)),[d]);return n>a?K1(p):p}var Qpe=Zz(Gpe),Xpe=Zz(Ype),Jpe="Invariant failed";function go(e,t){throw new Error(Jpe)}var Zpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(this,arguments)}function exe(e,t){return ixe(e)||nxe(e,t)||rxe(e,t)||txe()}function txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(e,t){if(e){if(typeof e=="string")return X3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X3(e,t)}}function X3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ixe(e){if(Array.isArray(e))return e}function axe(e,t){if(e==null)return{};var r=sxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s6(n.key),n)}}function cxe(e,t,r){return t&&lxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uxe(e,t,r){return t=sp(t),dxe(e,i6()?Reflect.construct(t,r||[],sp(e).constructor):t.apply(e,r))}function dxe(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fxe(e)}function fxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!e})()}function sp(e){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(e)}function hxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q1(e,t)}function Q1(e,t){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(e,t)}function a6(e,t,r){return t=s6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s6(e){var t=mxe(e,"string");return Hl(t)=="symbol"?t:t+""}function mxe(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var df=(function(e){function t(){return oxe(this,t),uxe(this,t,arguments)}return hxe(t,e),cxe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,u=n.data,d=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,p=axe(n,Zpe),g=rt(p,!1);this.props.direction==="x"&&h.type!=="number"&&go();var y=u.map(function(v){var b=d(v,l),w=b.x,S=b.y,k=b.value,E=b.errorVal;if(!E)return null;var P=[],_,T;if(Array.isArray(E)){var D=exe(E,2);_=D[0],T=D[1]}else _=T=E;if(s==="vertical"){var L=h.scale,M=S+a,F=M+o,q=M-o,H=L(k-_),K=L(k+T);P.push({x1:K,y1:F,x2:K,y2:q}),P.push({x1:H,y1:M,x2:K,y2:M}),P.push({x1:H,y1:F,x2:H,y2:q})}else if(s==="horizontal"){var W=m.scale,$=w+a,Q=$-o,Y=$+o,X=W(k-_),R=W(k+T);P.push({x1:Q,y1:R,x2:Y,y2:R}),P.push({x1:$,y1:X,x2:$,y2:R}),P.push({x1:Q,y1:X,x2:Y,y2:X})}return z.createElement(Dt,ap({className:"recharts-errorBar",key:"bar-".concat(P.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},g),P.map(function(B){return z.createElement("line",ap({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return z.createElement(Dt,{className:"recharts-errorBars"},y)}}])})(z.Component);a6(df,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});a6(df,"displayName","ErrorBar");function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(n){pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pxe(e,t,r){return t=xxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xxe(e){var t=gxe(e,"string");return bd(t)=="symbol"?t:t+""}function gxe(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o6=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Nn(r,ao);if(!o)return null;var l=ao.defaultProps,u=l!==void 0?zs(zs({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(n||[]).reduce(function(h,m){var p=m.item,g=m.props,y=g.sectors||g.data||[];return h.concat(y.map(function(v){return{type:o.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):d=(n||[]).map(function(h){var m=h.item,p=m.type.defaultProps,g=p!==void 0?zs(zs({},p),m.props):{},y=g.dataKey,v=g.name,b=g.legendType,w=g.hide;return{inactive:w,dataKey:y,type:u.iconType||b||"square",color:tS(m),value:v||y,payload:g}}),zs(zs(zs({},u),ao.getWithHeight(o,a)),{},{payload:d,item:o})};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function Z3(e){return jxe(e)||bxe(e)||vxe(e)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(e,t){if(e){if(typeof e=="string")return X1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X1(e,t)}}function bxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jxe(e){if(Array.isArray(e))return X1(e)}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){Ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ol(e,t,r){return t=wxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wxe(e){var t=Nxe(e,"string");return jd(t)=="symbol"?t:t+""}function Nxe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jr(e,t,r){return We(e)||We(t)?r:ir(t)?Yn(e,t,r):Ke(t)?t(e):r}function Uu(e,t,r,n){var a=jpe(e,function(l){return Jr(l,t)});if(r==="number"){var s=a.filter(function(l){return ge(l)||parseFloat(l)});return s.length?[kx(s),Sx(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!We(l)}):a;return o.map(function(l){return ir(l)||l instanceof Date?l:""})}var _xe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,d=0;d<l;d++){var h=d>0?a[d-1].coordinate:a[l-1].coordinate,m=a[d].coordinate,p=d>=l-1?a[0].coordinate:a[d+1].coordinate,g=void 0;if(pi(m-h)!==pi(p-m)){var y=[];if(pi(p-m)===pi(u[1]-u[0])){g=p;var v=m+u[1]-u[0];y[0]=Math.min(v,(v+h)/2),y[1]=Math.max(v,(v+h)/2)}else{g=h;var b=p+u[1]-u[0];y[0]=Math.min(m,(b+m)/2),y[1]=Math.max(m,(b+m)/2)}var w=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){o=a[d].index;break}}else{var S=Math.min(h,p),k=Math.max(h,p);if(t>(S+m)/2&&t<=(k+m)/2){o=a[d].index;break}}}else for(var E=0;E<l;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},tS=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?zt(zt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,u;switch(a){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},Sxe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),u=0,d=l.length;u<d;u++)for(var h=s[l[u]].stackGroups,m=Object.keys(h),p=0,g=m.length;p<g;p++){var y=h[m[p]],v=y.items,b=y.cateAxisId,w=v.filter(function(T){return fa(T.type).indexOf("Bar")>=0});if(w&&w.length){var S=w[0].type.defaultProps,k=S!==void 0?zt(zt({},S),w[0].props):w[0].props,E=k.barSize,P=k[b];o[P]||(o[P]=[]);var _=We(E)?r:E;o[P].push({item:w[0],stackList:w.slice(1),barSize:We(_)?void 0:xi(_,n,0)})}}return o},kxe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,u=o.length;if(u<1)return null;var d=xi(r,a,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=a/u,y=o.reduce(function(E,P){return E+P.barSize||0},0);y+=(u-1)*d,y>=a&&(y-=(u-1)*d,d=0),y>=a&&g>0&&(p=!0,g*=.9,y=u*g);var v=(a-y)/2>>0,b={offset:v-d,size:0};h=o.reduce(function(E,P){var _={item:P.item,position:{offset:b.offset+b.size+d,size:p?g:P.barSize}},T=[].concat(Z3(E),[_]);return b=T[T.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(D){T.push({item:D,position:b})}),T},m)}else{var w=xi(n,a,0,!0);a-2*w-(u-1)*d<=0&&(d=0);var S=(a-2*w-(u-1)*d)/u;S>1&&(S>>=0);var k=l===+l?Math.min(S,l):S;h=o.reduce(function(E,P,_){var T=[].concat(Z3(E),[{item:P.item,position:{offset:w+(S+d)*_+(S-k)/2,size:k}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(D){T.push({item:D,position:T[T.length-1].position})}),T},m)}return h},Pxe=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),d=o6({children:s,legendWidth:u});if(d){var h=a||{},m=h.width,p=h.height,g=d.align,y=d.verticalAlign,v=d.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&g!=="center"&&ge(t[g]))return zt(zt({},t),{},Ol({},g,t[g]+(m||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&y!=="middle"&&ge(t[y]))return zt(zt({},t),{},Ol({},y,t[y]+(p||0)))}return t},Cxe=function(t,r,n){return We(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},l6=function(t,r,n,a,s){var o=r.props.children,l=Pn(o,df).filter(function(d){return Cxe(a,s,d.props.direction)});if(l&&l.length){var u=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,h){var m=Jr(h,n);if(We(m))return d;var p=Array.isArray(m)?[kx(m),Sx(m)]:[m,m],g=u.reduce(function(y,v){var b=Jr(h,v,0),w=p[0]-Math.abs(Array.isArray(b)?b[0]:b),S=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},Exe=function(t,r,n,a,s){var o=r.map(function(l){return l6(t,l,n,s,a)}).filter(function(l){return!We(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},c6=function(t,r,n,a,s){var o=r.map(function(u){var d=u.props.dataKey;return n==="number"&&d&&l6(t,u,d,a)||Uu(t,d,n,s)});if(n==="number")return o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,u.push(d[h]));return u},[])},u6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},d6=function(t,r,n,a){if(a)return t.map(function(u){return u.coordinate});var s,o,l=t.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===n&&(o=!0),u.coordinate});return s||l.push(r),o||l.push(n),l},la=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,u=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/u:0;if(d=t.axisType==="angleAxis"&&l?.length>=2?pi(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var p=s?s.indexOf(m):m;return{coordinate:a(p)+d,value:m,offset:d}});return h.filter(function(m){return!nf(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,p){return{coordinate:a(m)+d,value:m,index:p,offset:d}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+d,value:m,offset:d}}):a.domain().map(function(m,p){return{coordinate:a(m)+d,value:s?s[m]:m,index:p,offset:d}})},Uj=new WeakMap,Xh=function(t,r){if(typeof r!="function")return t;Uj.has(t)||Uj.set(t,new WeakMap);var n=Uj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},f6=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:hd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ep(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bu(),realScaleType:"point"}:s==="category"?{scale:hd(),realScaleType:"band"}:{scale:ep(),realScaleType:"linear"};if(po(a)){var u="scale".concat(dx(a));return{scale:(L3[u]||Bu)(),realScaleType:L3[u]?u:"point"}}return Ke(a)?{scale:a}:{scale:Bu(),realScaleType:"point"}},tM=1e-4,h6=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-tM,o=Math.max(a[0],a[1])+tM,l=t(r[0]),u=t(r[n-1]);(l<s||l>o||u<s||u>o)&&t.domain([r[0],r[n-1]])}},Oxe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Txe=function(t,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ge(t[0])||t[0]<n)&&(s[0]=n),(!ge(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Axe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var u=nf(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},Mxe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=nf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Rxe={sign:Axe,expand:vce,none:Fl,silhouette:bce,wiggle:jce,positive:Mxe},Dxe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Rxe[n],o=yce().keys(a).value(function(l,u){return+Jr(l,u,0)}).order(P1).offset(s);return o(t)},Ixe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,u={},d=l.reduce(function(m,p){var g,y=(g=p.type)!==null&&g!==void 0&&g.defaultProps?zt(zt({},p.type.defaultProps),p.props):p.props,v=y.stackId,b=y.hide;if(b)return m;var w=y[n],S=m[w]||{hasStack:!1,stackGroups:{}};if(ir(v)){var k=S.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};k.items.push(p),S.hasStack=!0,S.stackGroups[v]=k}else S.stackGroups[af("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return zt(zt({},m),{},Ol({},w,S))},u),h={};return Object.keys(d).reduce(function(m,p){var g=d[p];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,b){var w=g.stackGroups[b];return zt(zt({},v),{},Ol({},b,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:Dxe(t,w.items,s)}))},y)}return zt(zt({},m),{},Ol({},p,g))},h)},m6=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var h=Qpe(d,s,l);return t.domain([kx(h),Sx(h)]),{niceTicks:h}}if(s&&a==="number"){var m=t.domain(),p=Xpe(m,s,l);return{niceTicks:p}}return null};function rM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!We(a[t.dataKey])){var l=Dm(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Jr(a,We(o)?t.dataKey:o);return We(u)?null:t.scale(u)}var nM=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var u=Jr(o,r.dataKey,r.domain[l]);return We(u)?null:r.scale(u)-s/2+a},$xe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Fxe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?zt(zt({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(ir(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Lxe=function(t){return t.reduce(function(r,n){return[kx(n.concat([r[0]]).filter(ge)),Sx(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},p6=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,u=l.reduce(function(d,h){var m=Lxe(h.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],a[0]),Math.max(u[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},iM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J1=function(t,r,n){if(Ke(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ge(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(iM.test(t[0])){var s=+iM.exec(t[0])[1];a[0]=r[0]-s}else Ke(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ge(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(aM.test(t[1])){var o=+aM.exec(t[1])[1];a[1]=r[1]+o}else Ke(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},op=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=P_(r,function(m){return m.coordinate}),o=1/0,l=1,u=s.length;l<u;l++){var d=s[l],h=s[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},sM=function(t,r,n){return!t||!t.length||Px(t,Yn(n,"type.defaultProps.domain"))?r:t},x6=function(t,r){var n=t.type.defaultProps?zt(zt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,d=n.chartType,h=n.hide;return zt(zt({},rt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:tS(t),value:Jr(r,a),type:u,payload:r,chartType:d,hide:h})};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){g6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g6(e,t,r){return t=zxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zxe(e){var t=qxe(e,"string");return wd(t)=="symbol"?t:t+""}function qxe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bxe(e,t){return Hxe(e)||Wxe(e,t)||Vxe(e,t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vxe(e,t){if(e){if(typeof e=="string")return lM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lM(e,t)}}function lM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Hxe(e){if(Array.isArray(e))return e}var lp=Math.PI/180,Kxe=function(t){return t*180/Math.PI},jr=function(t,r,n,a){return{x:t+Math.cos(-lp*a)*n,y:r+Math.sin(-lp*a)*n}},Gxe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},I2e=function(t,r,n,a,s){var o=t.width,l=t.height,u=t.startAngle,d=t.endAngle,h=xi(t.cx,o,o/2),m=xi(t.cy,l,l/2),p=Gxe(o,l,n),g=xi(t.innerRadius,p,0),y=xi(t.outerRadius,p,p*.8),v=Object.keys(r);return v.reduce(function(b,w){var S=r[w],k=S.domain,E=S.reversed,P;if(We(S.range))a==="angleAxis"?P=[u,d]:a==="radiusAxis"&&(P=[g,y]),E&&(P=[P[1],P[0]]);else{P=S.range;var _=P,T=Bxe(_,2);u=T[0],d=T[1]}var D=f6(S,s),L=D.realScaleType,M=D.scale;M.domain(k).range(P),h6(M);var F=m6(M,aa(aa({},S),{},{realScaleType:L})),q=aa(aa(aa({},S),F),{},{range:P,radius:y,realScaleType:L,scale:M,cx:h,cy:m,innerRadius:g,outerRadius:y,startAngle:u,endAngle:d});return aa(aa({},b),{},g6({},w,q))},{})},Yxe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Qxe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Yxe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var u=(n-s)/l,d=Math.acos(u);return a>o&&(d=2*Math.PI-d),{radius:l,angle:Kxe(d),angleInRadian:d}},Xxe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Jxe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},cM=function(t,r){var n=t.x,a=t.y,s=Qxe({x:n,y:a},r),o=s.radius,l=s.angle,u=r.innerRadius,d=r.outerRadius;if(o<u||o>d)return!1;if(o===0)return!0;var h=Xxe(r),m=h.startAngle,p=h.endAngle,g=l,y;if(m<=p){for(;g>p;)g-=360;for(;g<m;)g+=360;y=g>=m&&g<=p}else{for(;g>m;)g-=360;for(;g<p;)g+=360;y=g>=p&&g<=m}return y?aa(aa({},r),{},{radius:o,angle:Jxe(g,r)}):null},$2e=function(t){return!O.isValidElement(t)&&!Ke(t)&&typeof t!="boolean"?t.className:""};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}var Zxe=["offset"];function e0e(e){return i0e(e)||n0e(e)||r0e(e)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r0e(e,t){if(e){if(typeof e=="string")return Z1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(e,t)}}function n0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i0e(e){if(Array.isArray(e))return Z1(e)}function Z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a0e(e,t){if(e==null)return{};var r=s0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){o0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o0e(e,t,r){return t=l0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=c0e(e,"string");return Nd(t)=="symbol"?t:t+""}function c0e(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}var u0e=function(t){var r=t.value,n=t.formatter,a=We(t.children)?r:t.children;return Ke(n)?n(a):a},d0e=function(t,r){var n=pi(r-t),a=Math.min(Math.abs(r-t),360);return n*a},f0e=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,u=s,d=u.cx,h=u.cy,m=u.innerRadius,p=u.outerRadius,g=u.startAngle,y=u.endAngle,v=u.clockWise,b=(m+p)/2,w=d0e(g,y),S=w>=0?1:-1,k,E;a==="insideStart"?(k=g+S*o,E=v):a==="insideEnd"?(k=y-S*o,E=!v):a==="end"&&(k=y+S*o,E=v),E=w<=0?E:!E;var P=jr(d,h,b,k),_=jr(d,h,b,k+(E?1:-1)*359),T="M".concat(P.x,",").concat(P.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(_.x,",").concat(_.y),D=We(t.id)?af("recharts-radial-line-"):t.id;return z.createElement("text",_d({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:D,d:T})),z.createElement("textPath",{xlinkHref:"#".concat(D)},r))},h0e=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,u=s.innerRadius,d=s.outerRadius,h=s.startAngle,m=s.endAngle,p=(h+m)/2;if(a==="outside"){var g=jr(o,l,d+n,p),y=g.x,v=g.y;return{x:y,y:v,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(u+d)/2,w=jr(o,l,b,p),S=w.x,k=w.y;return{x:S,y:k,textAnchor:"middle",verticalAnchor:"middle"}},m0e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,u=o.y,d=o.width,h=o.height,m=h>=0?1:-1,p=m*a,g=m>0?"end":"start",y=m>0?"start":"end",v=d>=0?1:-1,b=v*a,w=v>0?"end":"start",S=v>0?"start":"end";if(s==="top"){var k={x:l+d/2,y:u-m*a,textAnchor:"middle",verticalAnchor:g};return er(er({},k),n?{height:Math.max(u-n.y,0),width:d}:{})}if(s==="bottom"){var E={x:l+d/2,y:u+h+p,textAnchor:"middle",verticalAnchor:y};return er(er({},E),n?{height:Math.max(n.y+n.height-(u+h),0),width:d}:{})}if(s==="left"){var P={x:l-b,y:u+h/2,textAnchor:w,verticalAnchor:"middle"};return er(er({},P),n?{width:Math.max(P.x-n.x,0),height:h}:{})}if(s==="right"){var _={x:l+d+b,y:u+h/2,textAnchor:S,verticalAnchor:"middle"};return er(er({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:h}:{})}var T=n?{width:d,height:h}:{};return s==="insideLeft"?er({x:l+b,y:u+h/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideRight"?er({x:l+d-b,y:u+h/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?er({x:l+d/2,y:u+p,textAnchor:"middle",verticalAnchor:y},T):s==="insideBottom"?er({x:l+d/2,y:u+h-p,textAnchor:"middle",verticalAnchor:g},T):s==="insideTopLeft"?er({x:l+b,y:u+p,textAnchor:S,verticalAnchor:y},T):s==="insideTopRight"?er({x:l+d-b,y:u+p,textAnchor:w,verticalAnchor:y},T):s==="insideBottomLeft"?er({x:l+b,y:u+h-p,textAnchor:S,verticalAnchor:g},T):s==="insideBottomRight"?er({x:l+d-b,y:u+h-p,textAnchor:w,verticalAnchor:g},T):vc(s)&&(ge(s.x)||Qs(s.x))&&(ge(s.y)||Qs(s.y))?er({x:l+xi(s.x,d),y:u+xi(s.y,h),textAnchor:"end",verticalAnchor:"end"},T):er({x:l+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},T)},p0e=function(t){return"cx"in t&&ge(t.cx)};function Dr(e){var t=e.offset,r=t===void 0?5:t,n=a0e(e,Zxe),a=er({offset:r},n),s=a.viewBox,o=a.position,l=a.value,u=a.children,d=a.content,h=a.className,m=h===void 0?"":h,p=a.textBreakAll;if(!s||We(l)&&We(u)&&!O.isValidElement(d)&&!Ke(d))return null;if(O.isValidElement(d))return O.cloneElement(d,a);var g;if(Ke(d)){if(g=O.createElement(d,a),O.isValidElement(g))return g}else g=u0e(a);var y=p0e(s),v=rt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return f0e(a,g,v);var b=y?h0e(a):m0e(a);return z.createElement(Km,_d({className:Xe("recharts-label",m)},v,b,{breakAll:p}),g)}Dr.displayName="Label";var y6=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,u=t.radius,d=t.innerRadius,h=t.outerRadius,m=t.x,p=t.y,g=t.top,y=t.left,v=t.width,b=t.height,w=t.clockWise,S=t.labelViewBox;if(S)return S;if(ge(v)&&ge(b)){if(ge(m)&&ge(p))return{x:m,y:p,width:v,height:b};if(ge(g)&&ge(y))return{x:g,y,width:v,height:b}}return ge(m)&&ge(p)?{x:m,y:p,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:h||u||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},x0e=function(t,r){return t?t===!0?z.createElement(Dr,{key:"label-implicit",viewBox:r}):ir(t)?z.createElement(Dr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Dr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):Ke(t)?z.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):vc(t)?z.createElement(Dr,_d({viewBox:r},t,{key:"label-implicit"})):null:null},g0e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=y6(t),o=Pn(a,Dr).map(function(u,d){return O.cloneElement(u,{viewBox:r||s,key:"label-".concat(d)})});if(!n)return o;var l=x0e(t.label,r||s);return[l].concat(e0e(o))};Dr.parseViewBox=y6;Dr.renderCallByParent=g0e;var Vj,dM;function y0e(){if(dM)return Vj;dM=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Vj=e,Vj}var v0e=y0e();const b0e=ot(v0e);function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var j0e=["valueAccessor"],w0e=["data","dataKey","clockWise","id","textBreakAll"];function N0e(e){return P0e(e)||k0e(e)||S0e(e)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S0e(e,t){if(e){if(typeof e=="string")return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function k0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P0e(e){if(Array.isArray(e))return eN(e)}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){C0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0e(e,t,r){return t=E0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0e(e){var t=O0e(e,"string");return Sd(t)=="symbol"?t:t+""}function O0e(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mM(e,t){if(e==null)return{};var r=T0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var A0e=function(t){return Array.isArray(t.value)?b0e(t.value):t.value};function fs(e){var t=e.valueAccessor,r=t===void 0?A0e:t,n=mM(e,j0e),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,d=mM(n,w0e);return!a||!a.length?null:z.createElement(Dt,{className:"recharts-label-list"},a.map(function(h,m){var p=We(s)?r(h,m):Jr(h&&h.payload,s),g=We(l)?{}:{id:"".concat(l,"-").concat(m)};return z.createElement(Dr,cp({},rt(h,!0),d,g,{parentViewBox:h.parentViewBox,value:p,textBreakAll:u,viewBox:Dr.parseViewBox(We(o)?h:hM(hM({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}fs.displayName="LabelList";function M0e(e,t){return e?e===!0?z.createElement(fs,{key:"labelList-implicit",data:t}):z.isValidElement(e)||Ke(e)?z.createElement(fs,{key:"labelList-implicit",data:t,content:e}):vc(e)?z.createElement(fs,cp({data:t},e,{key:"labelList-implicit"})):null:null}function R0e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Pn(n,fs).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=M0e(e.label,t);return[s].concat(N0e(a))}fs.renderCallByParent=R0e;function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tN.apply(this,arguments)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){D0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D0e(e,t,r){return t=I0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I0e(e){var t=$0e(e,"string");return kd(t)=="symbol"?t:t+""}function $0e(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F0e=function(t,r){var n=pi(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Jh=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,u=t.cornerRadius,d=t.cornerIsExternal,h=u*(l?1:-1)+a,m=Math.asin(u/h)/lp,p=d?s:s+o*m,g=jr(r,n,h,p),y=jr(r,n,a,p),v=d?s-o*m:s,b=jr(r,n,h*Math.cos(m*lp),v);return{center:g,circleTangency:y,lineTangency:b,theta:m}},v6=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,u=F0e(o,l),d=o+u,h=jr(r,n,s,o),m=jr(r,n,s,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var g=jr(r,n,a,o),y=jr(r,n,a,d);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},L0e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,d=t.startAngle,h=t.endAngle,m=pi(h-d),p=Jh({cx:r,cy:n,radius:s,angle:d,sign:m,cornerRadius:o,cornerIsExternal:u}),g=p.circleTangency,y=p.lineTangency,v=p.theta,b=Jh({cx:r,cy:n,radius:s,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:u}),w=b.circleTangency,S=b.lineTangency,k=b.theta,E=u?Math.abs(d-h):Math.abs(d-h)-v-k;if(E<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):v6({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:d,endAngle:h});var P="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var _=Jh({cx:r,cy:n,radius:a,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),T=_.circleTangency,D=_.lineTangency,L=_.theta,M=Jh({cx:r,cy:n,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),F=M.circleTangency,q=M.lineTangency,H=M.theta,K=u?Math.abs(d-h):Math.abs(d-h)-L-H;if(K<0&&o===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(K>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},z0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},b6=function(t){var r=xM(xM({},z0e),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,p=r.className;if(o<s||h===m)return null;var g=Xe("recharts-sector",p),y=o-s,v=xi(l,y,0,!0),b;return v>0&&Math.abs(h-m)<360?b=L0e({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(v,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}):b=v6({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:h,endAngle:m}),z.createElement("path",tN({},rt(r,!0),{className:g,d:b,role:"img"}))};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN.apply(this,arguments)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){q0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0e(e,t,r){return t=B0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B0e(e){var t=U0e(e,"string");return Pd(t)=="symbol"?t:t+""}function U0e(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vM={curveBasisClosed:oce,curveBasisOpen:lce,curveBasis:sce,curveBumpX:Hle,curveBumpY:Kle,curveLinearClosed:cce,curveLinear:hx,curveMonotoneX:uce,curveMonotoneY:dce,curveNatural:fce,curveStep:hce,curveStepAfter:pce,curveStepBefore:mce},Zh=function(t){return t.x===+t.x&&t.y===+t.y},ju=function(t){return t.x},wu=function(t){return t.y},V0e=function(t,r){if(Ke(t))return t;var n="curve".concat(dx(t));return(n==="curveMonotone"||n==="curveBump")&&r?vM["".concat(n).concat(r==="vertical"?"Y":"X")]:vM[n]||hx},W0e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,u=t.connectNulls,d=u===void 0?!1:u,h=V0e(n,l),m=d?s.filter(function(v){return Zh(v)}):s,p;if(Array.isArray(o)){var g=d?o.filter(function(v){return Zh(v)}):o,y=m.map(function(v,b){return yM(yM({},v),{},{base:g[b]})});return l==="vertical"?p=Vh().y(wu).x1(ju).x0(function(v){return v.base.x}):p=Vh().x(ju).y1(wu).y0(function(v){return v.base.y}),p.defined(Zh).curve(h),p(y)}return l==="vertical"&&ge(o)?p=Vh().y(wu).x1(ju).x0(o):ge(o)?p=Vh().x(ju).y1(wu).y0(o):p=jL().x(ju).y(wu),p.defined(Zh).curve(h),p(m)},nN=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?W0e(t):a;return O.createElement("path",rN({},rt(t,!1),Im(t),{className:Xe("recharts-curve",r),d:o,ref:s}))},Wj={exports:{}},Hj,bM;function H0e(){if(bM)return Hj;bM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hj=e,Hj}var Kj,jM;function K0e(){if(jM)return Kj;jM=1;var e=H0e();function t(){}function r(){}return r.resetWarningCache=t,Kj=function(){function n(o,l,u,d,h,m){if(m!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},Kj}var wM;function G0e(){return wM||(wM=1,Wj.exports=K0e()()),Wj.exports}var Y0e=G0e();const ct=ot(Y0e);var Q0e=Object.getOwnPropertyNames,X0e=Object.getOwnPropertySymbols,J0e=Object.prototype.hasOwnProperty;function NM(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function em(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var u=e(r,n,a);return s.delete(r),s.delete(n),u}}function Z0e(e){return e?.[Symbol.toStringTag]}function _M(e){return Q0e(e).concat(X0e(e))}var ege=Object.hasOwn||(function(e,t){return J0e.call(e,t)});function ko(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var tge="__v",rge="__o",nge="_owner",SM=Object.getOwnPropertyDescriptor,kM=Object.keys;function ige(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function age(e,t){return ko(e.getTime(),t.getTime())}function sge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function oge(e,t){return e===t}function PM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,u=0;(o=s.next())&&!o.done;){for(var d=t.entries(),h=!1,m=0;(l=d.next())&&!l.done;){if(a[m]){m++;continue}var p=o.value,g=l.value;if(r.equals(p[0],g[0],u,m,e,t,r)&&r.equals(p[1],g[1],p[0],g[0],e,t,r)){h=a[m]=!0;break}m++}if(!h)return!1;u++}return!0}var lge=ko;function cge(e,t,r){var n=kM(e),a=n.length;if(kM(t).length!==a)return!1;for(;a-- >0;)if(!j6(e,t,r,n[a]))return!1;return!0}function Nu(e,t,r){var n=_M(e),a=n.length;if(_M(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!j6(e,t,r,s)||(o=SM(e,s),l=SM(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function uge(e,t){return ko(e.valueOf(),t.valueOf())}function dge(e,t){return e.source===t.source&&e.flags===t.flags}function CM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var u=t.values(),d=!1,h=0;(l=u.next())&&!l.done;){if(!a[h]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=a[h]=!0;break}h++}if(!d)return!1}return!0}function fge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function hge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function j6(e,t,r,n){return(n===nge||n===rge||n===tge)&&(e.$$typeof||t.$$typeof)?!0:ege(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var mge="[object Arguments]",pge="[object Boolean]",xge="[object Date]",gge="[object Error]",yge="[object Map]",vge="[object Number]",bge="[object Object]",jge="[object RegExp]",wge="[object Set]",Nge="[object String]",_ge="[object URL]",Sge=Array.isArray,EM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,OM=Object.assign,kge=Object.prototype.toString.call.bind(Object.prototype.toString);function Pge(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,p=e.areUrlsEqual,g=e.unknownTagComparators;return function(v,b,w){if(v===b)return!0;if(v==null||b==null)return!1;var S=typeof v;if(S!==typeof b)return!1;if(S!=="object")return S==="number"?o(v,b,w):S==="function"?a(v,b,w):!1;var k=v.constructor;if(k!==b.constructor)return!1;if(k===Object)return l(v,b,w);if(Sge(v))return t(v,b,w);if(EM!=null&&EM(v))return m(v,b,w);if(k===Date)return r(v,b,w);if(k===RegExp)return d(v,b,w);if(k===Map)return s(v,b,w);if(k===Set)return h(v,b,w);var E=kge(v);if(E===xge)return r(v,b,w);if(E===jge)return d(v,b,w);if(E===yge)return s(v,b,w);if(E===wge)return h(v,b,w);if(E===bge)return typeof v.then!="function"&&typeof b.then!="function"&&l(v,b,w);if(E===_ge)return p(v,b,w);if(E===gge)return n(v,b,w);if(E===mge)return l(v,b,w);if(E===pge||E===vge||E===Nge)return u(v,b,w);if(g){var P=g[E];if(!P){var _=Z0e(v);_&&(P=g[_])}if(P)return P(v,b,w)}return!1}}function Cge(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Nu:ige,areDatesEqual:age,areErrorsEqual:sge,areFunctionsEqual:oge,areMapsEqual:n?NM(PM,Nu):PM,areNumbersEqual:lge,areObjectsEqual:n?Nu:cge,arePrimitiveWrappersEqual:uge,areRegExpsEqual:dge,areSetsEqual:n?NM(CM,Nu):CM,areTypedArraysEqual:n?Nu:fge,areUrlsEqual:hge,unknownTagComparators:void 0};if(r&&(a=OM({},a,r(a))),t){var s=em(a.areArraysEqual),o=em(a.areMapsEqual),l=em(a.areObjectsEqual),u=em(a.areSetsEqual);a=OM({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return a}function Ege(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function Oge(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(u,d){var h=n(),m=h.cache,p=m===void 0?t?new WeakMap:void 0:m,g=h.meta;return r(u,d,{cache:p,equals:a,meta:g,strict:s})};if(t)return function(u,d){return r(u,d,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(u,d){return r(u,d,o)}}var Tge=_s();_s({strict:!0});_s({circular:!0});_s({circular:!0,strict:!0});_s({createInternalComparator:function(){return ko}});_s({strict:!0,createInternalComparator:function(){return ko}});_s({circular:!0,createInternalComparator:function(){return ko}});_s({circular:!0,createInternalComparator:function(){return ko},strict:!0});function _s(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=Cge(e),u=Pge(l),d=n?n(u):Ege(u);return Oge({circular:r,comparator:u,createState:a,equals:d,strict:o})}function Age(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function TM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):Age(a)};requestAnimationFrame(n)}function iN(e){"@babel/helpers - typeof";return iN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iN(e)}function Mge(e){return $ge(e)||Ige(e)||Dge(e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dge(e,t){if(e){if(typeof e=="string")return AM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(e,t)}}function AM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ige(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ge(e){if(Array.isArray(e))return e}function Fge(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Mge(o),u=l[0],d=l.slice(1);if(typeof u=="number"){TM(a.bind(null,d),u);return}a(u),TM(a.bind(null,d));return}iN(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){w6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w6(e,t,r){return t=Lge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lge(e){var t=zge(e,"string");return Cd(t)==="symbol"?t:String(t)}function zge(e,t){if(Cd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},Bge=function(t){return t},Uge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vu=function(t,r){return Object.keys(r).reduce(function(n,a){return RM(RM({},n),{},w6({},a,t(a,r[a])))},{})},DM=function(t,r,n){return t.map(function(a){return"".concat(Uge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Vge(e,t){return Kge(e)||Hge(e,t)||N6(e,t)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Kge(e){if(Array.isArray(e))return e}function Gge(e){return Xge(e)||Qge(e)||N6(e)||Yge()}function Yge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N6(e,t){if(e){if(typeof e=="string")return aN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aN(e,t)}}function Qge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xge(e){if(Array.isArray(e))return aN(e)}function aN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var up=1e-4,_6=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},S6=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},IM=function(t,r){return function(n){var a=_6(t,r);return S6(a,n)}},Jge=function(t,r){return function(n){var a=_6(t,r),s=[].concat(Gge(a.map(function(o,l){return o*l}).slice(1)),[0]);return S6(s,n)}},$M=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=Vge(d,4);a=h[0],s=h[1],o=h[2],l=h[3]}}}var m=IM(a,o),p=IM(s,l),g=Jge(a,o),y=function(w){return w>1?1:w<0?0:w},v=function(w){for(var S=w>1?1:w,k=S,E=0;E<8;++E){var P=m(k)-S,_=g(k);if(Math.abs(P-S)<up||_<up)return p(k);k=y(k-P/_)}return p(k)};return v.isStepper=!1,v},Zge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,u=function(h,m,p){var g=-(h-m)*n,y=p*s,v=p+(g-y)*l/1e3,b=p*l/1e3+h;return Math.abs(b-m)<up&&Math.abs(v)<up?[m,0]:[b,v]};return u.isStepper=!0,u.dt=l,u},eye=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $M(a);case"spring":return Zge();default:if(a.split("(")[0]==="cubic-bezier")return $M(a)}return typeof a=="function"?a:null};function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function FM(e){return nye(e)||rye(e)||k6(e)||tye()}function tye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nye(e){if(Array.isArray(e))return oN(e)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){sN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sN(e,t,r){return t=iye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iye(e){var t=aye(e,"string");return Ed(t)==="symbol"?t:String(t)}function aye(e,t){if(Ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sye(e,t){return cye(e)||lye(e,t)||k6(e,t)||oye()}function oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k6(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function cye(e){if(Array.isArray(e))return e}var dp=function(t,r,n){return t+(r-t)*n},lN=function(t){var r=t.from,n=t.to;return r!==n},uye=function e(t,r,n){var a=Vu(function(s,o){if(lN(o)){var l=t(o.from,o.to,o.velocity),u=sye(l,2),d=u[0],h=u[1];return gr(gr({},o),{},{from:d,velocity:h})}return o},r);return n<1?Vu(function(s,o){return lN(o)?gr(gr({},o),{},{velocity:dp(o.velocity,a[s].velocity,n),from:dp(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const dye=(function(e,t,r,n,a){var s=qge(e,t),o=s.reduce(function(b,w){return gr(gr({},b),{},sN({},w,[e[w],t[w]]))},{}),l=s.reduce(function(b,w){return gr(gr({},b),{},sN({},w,{from:e[w],velocity:0,to:t[w]}))},{}),u=-1,d,h,m=function(){return null},p=function(){return Vu(function(w,S){return S.from},l)},g=function(){return!Object.values(l).filter(lN).length},y=function(w){d||(d=w);var S=w-d,k=S/r.dt;l=uye(r,l,k),a(gr(gr(gr({},e),t),p())),d=w,g()||(u=requestAnimationFrame(m))},v=function(w){h||(h=w);var S=(w-h)/n,k=Vu(function(P,_){return dp.apply(void 0,FM(_).concat([r(S)]))},o);if(a(gr(gr(gr({},e),t),k)),S<1)u=requestAnimationFrame(m);else{var E=Vu(function(P,_){return dp.apply(void 0,FM(_).concat([r(1)]))},o);a(gr(gr(gr({},e),t),E))}};return m=r.isStepper?y:v,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}var fye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hye(e,t){if(e==null)return{};var r=mye(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mye(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gj(e){return yye(e)||gye(e)||xye(e)||pye()}function pye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(e,t){if(e){if(typeof e=="string")return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}}function gye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yye(e){if(Array.isArray(e))return cN(e)}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){Au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Au(e,t,r){return t=P6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P6(n.key),n)}}function jye(e,t,r){return t&&bye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P6(e){var t=wye(e,"string");return Kl(t)==="symbol"?t:String(t)}function wye(e,t){if(Kl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uN(e,t)}function uN(e,t){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uN(e,t)}function _ye(e){var t=Sye();return function(){var n=fp(e),a;if(t){var s=fp(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return dN(this,a)}}function dN(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fN(e)}function fN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}var _a=(function(e){Nye(r,e);var t=_ye(r);function r(n,a){var s;vye(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,u=o.attributeName,d=o.from,h=o.to,m=o.steps,p=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(fN(s)),s.changeStyle=s.changeStyle.bind(fN(s)),!l||g<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:h}),dN(s);if(m&&m.length)s.state={style:m[0].style};else if(d){if(typeof p=="function")return s.state={style:d},dN(s);s.state={style:u?Au({},u,d):d}}else s.state={style:{}};return s}return jye(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,u=s.attributeName,d=s.shouldReAnimate,h=s.to,m=s.from,p=this.state.style;if(l){if(!o){var g={style:u?Au({},u,h):h};this.state&&p&&(u&&p[u]!==h||!u&&p!==h)&&this.setState(g);return}if(!(Tge(a.to,h)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||d?m:a.to;if(this.state&&p){var b={style:u?Au({},u,v):v};(u&&p[u]!==v||!u&&p!==v)&&this.setState(b)}this.runAnimation(di(di({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,u=a.duration,d=a.easing,h=a.begin,m=a.onAnimationEnd,p=a.onAnimationStart,g=dye(o,l,eye(d),u,this.changeStyle),y=function(){s.stopJSAnimation=g()};this.manager.start([p,h,y,u,m])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,u=a.onAnimationStart,d=o[0],h=d.style,m=d.duration,p=m===void 0?0:m,g=function(v,b,w){if(w===0)return v;var S=b.duration,k=b.easing,E=k===void 0?"ease":k,P=b.style,_=b.properties,T=b.onAnimationEnd,D=w>0?o[w-1]:b,L=_||Object.keys(P);if(typeof E=="function"||E==="spring")return[].concat(Gj(v),[s.runJSAnimation.bind(s,{from:D.style,to:P,duration:S,easing:E}),S]);var M=DM(L,S,E),F=di(di(di({},D.style),P),{},{transition:M});return[].concat(Gj(v),[F,S,T]).filter(Bge)};return this.manager.start([u].concat(Gj(o.reduce(g,[h,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Fge());var s=a.begin,o=a.duration,l=a.attributeName,u=a.to,d=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,p=a.steps,g=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var v=l?Au({},l,u):u,b=DM(Object.keys(v),o,d);y.start([h,s,di(di({},v),{},{transition:b}),o,m])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var u=hye(a,fye),d=O.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||d===0||o<=0)return s;var m=function(g){var y=g.props,v=y.style,b=v===void 0?{}:v,w=y.className,S=O.cloneElement(g,di(di({},u),{},{style:di(di({},b),h),className:w}));return S};return d===1?m(O.Children.only(s)):z.createElement("div",null,O.Children.map(s,function(p){return m(p)}))}}]),r})(O.PureComponent);_a.displayName="Animate";_a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_a.propTypes={from:ct.oneOfType([ct.object,ct.string]),to:ct.oneOfType([ct.object,ct.string]),attributeName:ct.string,duration:ct.number,begin:ct.number,easing:ct.oneOfType([ct.string,ct.func]),steps:ct.arrayOf(ct.shape({duration:ct.number.isRequired,style:ct.object.isRequired,easing:ct.oneOfType([ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ct.func]),properties:ct.arrayOf("string"),onAnimationEnd:ct.func})),children:ct.oneOfType([ct.node,ct.func]),isActive:ct.bool,canBegin:ct.bool,onAnimationEnd:ct.func,shouldReAnimate:ct.bool,onAnimationStart:ct.func,onAnimationReStart:ct.func};function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}function kye(e,t){return Oye(e)||Eye(e,t)||Cye(e,t)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cye(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Oye(e){if(Array.isArray(e))return e}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){Tye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tye(e,t,r){return t=Aye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aye(e){var t=Mye(e,"string");return Od(t)=="symbol"?t:t+""}function Mye(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VM=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,u=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,h;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=s[p]>o?o:s[p];h="M".concat(t,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+u*m[0],",").concat(r)),h+="L ".concat(t+n-u*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*m[1])),h+="L ".concat(t+n,",").concat(r+a-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-u*m[2],",").concat(r+a)),h+="L ".concat(t+u*m[3],",").concat(r+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*m[3])),h+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);h="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+u*y,",").concat(r,`
            L `).concat(t+n-u*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+n-u*y,",").concat(r+a,`
            L `).concat(t+u*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*y," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return h},Rye=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var d=Math.min(s,s+l),h=Math.max(s,s+l),m=Math.min(o,o+u),p=Math.max(o,o+u);return n>=d&&n<=h&&a>=m&&a<=p}return!1},Dye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rS=function(t){var r=UM(UM({},Dye),t),n=O.useRef(),a=O.useState(-1),s=kye(a,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var u=r.x,d=r.y,h=r.width,m=r.height,p=r.radius,g=r.className,y=r.animationEasing,v=r.animationDuration,b=r.animationBegin,w=r.isAnimationActive,S=r.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var k=Xe("recharts-rectangle",g);return S?z.createElement(_a,{canBegin:o>0,from:{width:h,height:m,x:u,y:d},to:{width:h,height:m,x:u,y:d},duration:v,animationEasing:y,isActive:S},function(E){var P=E.width,_=E.height,T=E.x,D=E.y;return z.createElement(_a,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:w,easing:y},z.createElement("path",hp({},rt(r,!0),{className:k,d:VM(T,D,P,_,p),ref:n})))}):z.createElement("path",hp({},rt(r,!0),{className:k,d:VM(u,d,h,m,p)}))};function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(this,arguments)}var C6=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Xe("recharts-dot",s);return r===+r&&n===+n&&a===+a?O.createElement("circle",hN({},rt(t,!1),Im(t),{className:o,cx:r,cy:n,r:a})):null};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}var Iye=["x","y","top","left","width","height","className"];function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){Fye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fye(e,t,r){return t=Lye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lye(e){var t=zye(e,"string");return Td(t)=="symbol"?t:t+""}function zye(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qye(e,t){if(e==null)return{};var r=Bye(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Uye=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Vye=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,u=t.left,d=u===void 0?0:u,h=t.width,m=h===void 0?0:h,p=t.height,g=p===void 0?0:p,y=t.className,v=qye(t,Iye),b=$ye({x:n,y:s,top:l,left:d,width:m,height:g},v);return!ge(n)||!ge(s)||!ge(m)||!ge(g)||!ge(l)||!ge(d)?null:z.createElement("path",mN({},rt(b,!0),{className:Xe("recharts-cross",y),d:Uye(n,s,m,g,l,d)}))},Yj,HM;function Wye(){if(HM)return Yj;HM=1;var e=VL(),t=e(Object.getPrototypeOf,Object);return Yj=t,Yj}var Qj,KM;function Hye(){if(KM)return Qj;KM=1;var e=Ea(),t=Wye(),r=Oa(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,u=o.call(Object);function d(h){if(!r(h)||e(h)!=n)return!1;var m=t(h);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==u}return Qj=d,Qj}var Kye=Hye();const Gye=ot(Kye);var Xj,GM;function Yye(){if(GM)return Xj;GM=1;var e=Ea(),t=Oa(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return Xj=n,Xj}var Qye=Yye();const Xye=ot(Qye);function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function Jye(e,t){return rve(e)||tve(e,t)||eve(e,t)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(e,t){if(e){if(typeof e=="string")return YM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YM(e,t)}}function YM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function rve(e){if(Array.isArray(e))return e}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){nve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t,r){return t=ive(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ive(e){var t=ave(e,"string");return Ad(t)=="symbol"?t:t+""}function ave(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JM=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},sve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ove=function(t){var r=XM(XM({},sve),t),n=O.useRef(),a=O.useState(-1),s=Jye(a,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var u=r.x,d=r.y,h=r.upperWidth,m=r.lowerWidth,p=r.height,g=r.className,y=r.animationEasing,v=r.animationDuration,b=r.animationBegin,w=r.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||p!==+p||h===0&&m===0||p===0)return null;var S=Xe("recharts-trapezoid",g);return w?z.createElement(_a,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:u,y:d},to:{upperWidth:h,lowerWidth:m,height:p,x:u,y:d},duration:v,animationEasing:y,isActive:w},function(k){var E=k.upperWidth,P=k.lowerWidth,_=k.height,T=k.x,D=k.y;return z.createElement(_a,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:y},z.createElement("path",mp({},rt(r,!0),{className:S,d:JM(T,D,E,P,_),ref:n})))}):z.createElement("g",null,z.createElement("path",mp({},rt(r,!0),{className:S,d:JM(u,d,h,m,p)})))},lve=["option","shapeType","propTransformer","activeClassName","isActive"];function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function cve(e,t){if(e==null)return{};var r=uve(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){dve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dve(e,t,r){return t=fve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fve(e){var t=hve(e,"string");return Md(t)=="symbol"?t:t+""}function hve(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mve(e,t){return pp(pp({},t),e)}function pve(e,t){return e==="symbols"}function eR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(rS,r);case"trapezoid":return z.createElement(ove,r);case"sector":return z.createElement(b6,r);case"symbols":if(pve(t))return z.createElement(px,r);break;default:return null}}function xve(e){return O.isValidElement(e)?e.props:e}function pN(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?mve:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,u=cve(e,lve),d;if(O.isValidElement(t))d=O.cloneElement(t,pp(pp({},u),xve(t)));else if(Ke(t))d=t(u);else if(Gye(t)&&!Xye(t)){var h=a(t,u);d=z.createElement(eR,{shapeType:r,elementProps:h})}else{var m=u;d=z.createElement(eR,{shapeType:r,elementProps:m})}return l?z.createElement(Dt,{className:o},d):d}function Ox(e,t){return t!=null&&"trapezoids"in e.props}function Tx(e,t){return t!=null&&"sectors"in e.props}function Rd(e,t){return t!=null&&"points"in e.props}function gve(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function yve(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function vve(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function bve(e,t){var r;return Ox(e,t)?r=gve:Tx(e,t)?r=yve:Rd(e,t)&&(r=vve),r}function jve(e,t){var r;return Ox(e,t)?r="trapezoids":Tx(e,t)?r="sectors":Rd(e,t)&&(r="points"),r}function wve(e,t){if(Ox(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Tx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rd(e,t)?t.payload:{}}function Nve(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=jve(r,t),s=wve(r,t),o=n.filter(function(u,d){var h=Px(s,u),m=r.props[a].filter(function(y){var v=bve(r,t);return v(y,t)}),p=r.props[a].indexOf(m[m.length-1]),g=d===p;return h&&g}),l=n.indexOf(o[o.length-1]);return l}var Jj,tR;function _ve(){if(tR)return Jj;tR=1;var e=Math.ceil,t=Math.max;function r(n,a,s,o){for(var l=-1,u=t(e((a-n)/(s||1)),0),d=Array(u);u--;)d[o?u:++l]=n,n+=s;return d}return Jj=r,Jj}var Zj,rR;function E6(){if(rR)return Zj;rR=1;var e=sz(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var s=a<0?-1:1;return s*r}return a===a?a:0}return Zj=n,Zj}var ew,nR;function Sve(){if(nR)return ew;nR=1;var e=_ve(),t=yx(),r=E6();function n(a){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,a)}}return ew=n,ew}var tw,iR;function kve(){if(iR)return tw;iR=1;var e=Sve(),t=e();return tw=t,tw}var Pve=kve();const xp=ot(Pve);function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){O6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O6(e,t,r){return t=Cve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cve(e){var t=Eve(e,"string");return Dd(t)=="symbol"?t:t+""}function Eve(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ove=["Webkit","Moz","O","ms"],Tve=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Ove.reduce(function(s,o){return sR(sR({},s),{},O6({},o+n,r))},{});return a[t]=r,a};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){wn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A6(n.key),n)}}function Mve(e,t,r){return t&&lR(e.prototype,t),r&&lR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rve(e,t,r){return t=yp(t),Dve(e,T6()?Reflect.construct(t,r||[],yp(e).constructor):t.apply(e,r))}function Dve(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ive(e)}function Ive(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!e})()}function yp(e){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(e)}function $ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xN(e,t)}function wn(e,t,r){return t=A6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A6(e){var t=Fve(e,"string");return Gl(t)=="symbol"?t:t+""}function Fve(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lve=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,d=Bu().domain(xp(0,u)).range([s,s+o-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:h}},cR=function(t){return t.changedTouches&&!!t.changedTouches.length},Yl=(function(e){function t(r){var n;return Ave(this,t),n=Rve(this,t,[r]),wn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),wn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),wn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),wn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wn(n,"handleSlideDragStart",function(a){var s=cR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return $ve(t,e),Mve(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,d=l.data,h=d.length-1,m=Math.min(a,s),p=Math.max(a,s),g=t.getIndexInRange(o,m),y=t.getIndexInRange(o,p);return{startIndex:g-g%u,endIndex:y===h?h:y-y%u}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,u=Jr(s[n],l,n);return Ke(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,u=this.props,d=u.x,h=u.width,m=u.travellerWidth,p=u.startIndex,g=u.endIndex,y=u.onChange,v=n.pageX-s;v>0?v=Math.min(v,d+h-m-l,d+h-m-o):v<0&&(v=Math.max(v,d-o,d-l));var b=this.getIndex({startX:o+v,endX:l+v});(b.startIndex!==p||b.endIndex!==g)&&y&&y(b),this.setState({startX:o+v,endX:l+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=cR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,u=a.startX,d=this.state[o],h=this.props,m=h.x,p=h.width,g=h.travellerWidth,y=h.onChange,v=h.gap,b=h.data,w={startX:this.state.startX,endX:this.state.endX},S=n.pageX-s;S>0?S=Math.min(S,m+p-g-d):S<0&&(S=Math.max(S,m-d)),w[o]=d+S;var k=this.getIndex(w),E=k.startIndex,P=k.endIndex,_=function(){var D=b.length-1;return o==="startX"&&(l>u?E%v===0:P%v===0)||l<u&&P===D||o==="endX"&&(l>u?P%v===0:E%v===0)||l>u&&P===D};this.setState(wn(wn({},o,d+S),"brushMoveStartX",n.pageX),function(){y&&_()&&y(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,u=o.startX,d=o.endX,h=this.state[a],m=l.indexOf(h);if(m!==-1){var p=m+n;if(!(p===-1||p>=l.length)){var g=l[p];a==="startX"&&g>=d||a==="endX"&&g<=u||this.setState(wn({},a,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,u=n.fill,d=n.stroke;return z.createElement("rect",{stroke:d,fill:u,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,u=n.data,d=n.children,h=n.padding,m=O.Children.only(d);return m?z.cloneElement(m,{x:a,y:s,width:o,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,u=this.props,d=u.y,h=u.travellerWidth,m=u.height,p=u.traveller,g=u.ariaLabel,y=u.data,v=u.startIndex,b=u.endIndex,w=Math.max(n,this.props.x),S=rw(rw({},rt(this.props,!1)),{},{x:w,y:d,width:h,height:m}),k=g||"Min value: ".concat((s=y[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return z.createElement(Dt,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,S))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,u=s.stroke,d=s.travellerWidth,h=Math.min(n,a)+d,m=Math.max(Math.abs(a-n)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,d=n.stroke,h=this.state,m=h.startX,p=h.endX,g=5,y={pointerEvents:"none",fill:d};return z.createElement(Dt,{className:"recharts-brush-texts"},z.createElement(Km,gp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-g,y:o+l/2},y),this.getTextOfTick(a)),z.createElement(Km,gp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+u+g,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,u=n.y,d=n.width,h=n.height,m=n.alwaysShowText,p=this.state,g=p.startX,y=p.endX,v=p.isTextActive,b=p.isSlideMoving,w=p.isTravellerMoving,S=p.isTravellerFocused;if(!a||!a.length||!ge(l)||!ge(u)||!ge(d)||!ge(h)||d<=0||h<=0)return null;var k=Xe("recharts-brush",s),E=z.Children.count(o)===1,P=Tve("userSelect","none");return z.createElement(Dt,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(v||b||w||S||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,u=n.stroke,d=Math.floor(s+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:s,width:o,height:l,fill:u,stroke:"none"}),z.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):Ke(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,u=n.travellerWidth,d=n.updateId,h=n.startIndex,m=n.endIndex;if(s!==a.prevData||d!==a.prevUpdateId)return rw({prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?Lve({data:s,width:o,x:l,travellerWidth:u,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||u!==a.prevTravellerWidth)){a.scale.range([l,l+o-u]);var p=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>a?l=u:o=u}return a>=n[l]?l:o}}])})(O.PureComponent);wn(Yl,"displayName","Brush");wn(Yl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nw,uR;function zve(){if(uR)return nw;uR=1;var e=k_();function t(r,n){var a;return e(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return nw=t,nw}var iw,dR;function qve(){if(dR)return iw;dR=1;var e=$L(),t=js(),r=zve(),n=xn(),a=yx();function s(o,l,u){var d=n(o)?e:r;return u&&a(o,l,u)&&(l=void 0),d(o,t(l,3))}return iw=s,iw}var Bve=qve();const Uve=ot(Bve);var Li=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},aw,fR;function Vve(){if(fR)return aw;fR=1;var e=tz();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return aw=t,aw}var sw,hR;function Wve(){if(hR)return sw;hR=1;var e=Vve(),t=ZL(),r=js();function n(a,s){var o={};return s=r(s,3),t(a,function(l,u,d){e(o,u,s(l,u,d))}),o}return sw=n,sw}var Hve=Wve();const Kve=ot(Hve);var ow,mR;function Gve(){if(mR)return ow;mR=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return ow=e,ow}var lw,pR;function Yve(){if(pR)return lw;pR=1;var e=k_();function t(r,n){var a=!0;return e(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return lw=t,lw}var cw,xR;function Qve(){if(xR)return cw;xR=1;var e=Gve(),t=Yve(),r=js(),n=xn(),a=yx();function s(o,l,u){var d=n(o)?e:t;return u&&a(o,l,u)&&(l=void 0),d(o,r(l,3))}return cw=s,cw}var Xve=Qve();const M6=ot(Xve);var Jve=["x","y"];function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(this,arguments)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){Zve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zve(e,t,r){return t=ebe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ebe(e){var t=tbe(e,"string");return Id(t)=="symbol"?t:t+""}function tbe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rbe(e,t){if(e==null)return{};var r=nbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ibe(e,t){var r=e.x,n=e.y,a=rbe(e,Jve),s="".concat(r),o=parseInt(s,10),l="".concat(n),u=parseInt(l,10),d="".concat(t.height||a.height),h=parseInt(d,10),m="".concat(t.width||a.width),p=parseInt(m,10);return _u(_u(_u(_u(_u({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function yR(e){return z.createElement(pN,gN({shapeType:"rectangle",propTransformer:ibe,activeClassName:"recharts-active-bar"},e))}var abe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=ge(n)||hle(n);return s?t(n,a):(s||go(),r)}},sbe=["value","background"],R6;function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function obe(e,t){if(e==null)return{};var r=lbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I6(n.key),n)}}function ube(e,t,r){return t&&bR(e.prototype,t),r&&bR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dbe(e,t,r){return t=bp(t),fbe(e,D6()?Reflect.construct(t,r||[],bp(e).constructor):t.apply(e,r))}function fbe(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hbe(e)}function hbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D6=function(){return!!e})()}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(e)}function mbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yN(e,t)}function ss(e,t,r){return t=I6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I6(e){var t=pbe(e,"string");return Ql(t)=="symbol"?t:t+""}function pbe(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zi=(function(e){function t(){var r;cbe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=dbe(this,t,[].concat(a)),ss(r,"state",{isAnimationFinished:!1}),ss(r,"id",af("recharts-bar-")),ss(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ss(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return mbe(t,e),ube(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,u=s.activeIndex,d=s.activeBar,h=rt(this.props,!1);return n&&n.map(function(m,p){var g=p===u,y=g?d:o,v=Gt(Gt(Gt({},h),m),{},{isActive:g,option:y,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(Dt,vp({className:"recharts-bar-rectangle"},ad(a.props,m,p),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(p)}),z.createElement(yR,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,p=this.state.prevData;return z.createElement(_a,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,v=s.map(function(b,w){var S=p&&p[w];if(S){var k=Ai(S.x,b.x),E=Ai(S.y,b.y),P=Ai(S.width,b.width),_=Ai(S.height,b.height);return Gt(Gt({},b),{},{x:k(y),y:E(y),width:P(y),height:_(y)})}if(o==="horizontal"){var T=Ai(0,b.height),D=T(y);return Gt(Gt({},b),{},{y:b.y+b.height-D,height:D})}var L=Ai(0,b.width),M=L(y);return Gt(Gt({},b),{},{width:M})});return z.createElement(Dt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Px(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,u=rt(this.props.background,!1);return s.map(function(d,h){d.value;var m=d.background,p=obe(d,sbe);if(!m)return null;var g=Gt(Gt(Gt(Gt(Gt({},p),{},{fill:"#eee"},m),u),ad(n.props,d,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return z.createElement(yR,vp({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,u=s.yAxis,d=s.layout,h=s.children,m=Pn(h,df);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,g=function(b,w){var S=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:S,errorVal:Jr(b,w)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(Dt,y,m.map(function(v){return z.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:u,layout:d,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,u=n.yAxis,d=n.left,h=n.top,m=n.width,p=n.height,g=n.isAnimationActive,y=n.background,v=n.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=Xe("recharts-bar",o),S=l&&l.allowDataOverflow,k=u&&u.allowDataOverflow,E=S||k,P=We(v)?this.id:v;return z.createElement(Dt,{className:w},S||k?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:S?d:d-m/2,y:k?h:h-p/2,width:S?m:m*2,height:k?p:p*2}))):null,z.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(P,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,P),(!g||b)&&fs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(O.PureComponent);R6=zi;ss(zi,"displayName","Bar");ss(zi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ss(zi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,p=e.offset,g=Oxe(n,r);if(!g)return null;var y=t.layout,v=r.type.defaultProps,b=v!==void 0?Gt(Gt({},v),r.props):r.props,w=b.dataKey,S=b.children,k=b.minPointSize,E=y==="horizontal"?o:s,P=d?E.scale.domain():null,_=$xe({numericAxis:E}),T=Pn(S,O_),D=m.map(function(L,M){var F,q,H,K,W,$;d?F=Txe(d[h+M],P):(F=Jr(L,w),Array.isArray(F)||(F=[_,F]));var Q=abe(k,R6.defaultProps.minPointSize)(F[1],M);if(y==="horizontal"){var Y,X=[o.scale(F[0]),o.scale(F[1])],R=X[0],B=X[1];q=nM({axis:s,ticks:l,bandSize:a,offset:g.offset,entry:L,index:M}),H=(Y=B??R)!==null&&Y!==void 0?Y:void 0,K=g.size;var V=R-B;if(W=Number.isNaN(V)?0:V,$={x:q,y:o.y,width:K,height:o.height},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var I=pi(W||Q)*(Math.abs(Q)-Math.abs(W));H-=I,W+=I}}else{var ae=[s.scale(F[0]),s.scale(F[1])],ye=ae[0],be=ae[1];if(q=ye,H=nM({axis:o,ticks:u,bandSize:a,offset:g.offset,entry:L,index:M}),K=be-ye,W=g.size,$={x:s.x,y:H,width:s.width,height:W},Math.abs(Q)>0&&Math.abs(K)<Math.abs(Q)){var we=pi(K||Q)*(Math.abs(Q)-Math.abs(K));K+=we}}return Gt(Gt(Gt({},L),{},{x:q,y:H,width:K,height:W,value:d?F:F[1],payload:L,background:$},T&&T[M]&&T[M].props),{},{tooltipPayload:[x6(r,L)],tooltipPosition:{x:q+K/2,y:H+W/2}})});return Gt({data:D,layout:y},p)});function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$6(n.key),n)}}function gbe(e,t,r){return t&&jR(e.prototype,t),r&&jR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ax(e,t,r){return t=$6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6(e){var t=ybe(e,"string");return $d(t)=="symbol"?t:t+""}function ybe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F6=function(t,r,n,a,s){var o=t.width,l=t.height,u=t.layout,d=t.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Nn(d,zi);return h.reduce(function(g,y){var v=r[y],b=v.orientation,w=v.domain,S=v.padding,k=S===void 0?{}:S,E=v.mirror,P=v.reversed,_="".concat(b).concat(E?"Mirror":""),T,D,L,M,F;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var q=w[1]-w[0],H=1/0,K=v.categoricalDomain.sort(gle);if(K.forEach(function(ae,ye){ye>0&&(H=Math.min((ae||0)-(K[ye-1]||0),H))}),Number.isFinite(H)){var W=H/q,$=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(T=W*$/2),v.padding==="no-gap"){var Q=xi(t.barCategoryGap,W*$),Y=W*$/2;T=Y-Q-(Y-Q)/$*Q}}}a==="xAxis"?D=[n.left+(k.left||0)+(T||0),n.left+n.width-(k.right||0)-(T||0)]:a==="yAxis"?D=u==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(T||0),n.top+n.height-(k.bottom||0)-(T||0)]:D=v.range,P&&(D=[D[1],D[0]]);var X=f6(v,s,p),R=X.scale,B=X.realScaleType;R.domain(w).range(D),h6(R);var V=m6(R,hi(hi({},v),{},{realScaleType:B}));a==="xAxis"?(F=b==="top"&&!E||b==="bottom"&&E,L=n.left,M=m[_]-F*v.height):a==="yAxis"&&(F=b==="left"&&!E||b==="right"&&E,L=m[_]-F*v.width,M=n.top);var I=hi(hi(hi({},v),V),{},{realScaleType:B,x:L,y:M,scale:R,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return I.bandSize=op(I,V),!v.hide&&a==="xAxis"?m[_]+=(F?-1:1)*I.height:v.hide||(m[_]+=(F?-1:1)*I.width),hi(hi({},g),{},Ax({},y,I))},{})},L6=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},vbe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return L6({x:r,y:n},{x:a,y:s})},z6=(function(){function e(t){xbe(this,e),this.scale=t}return gbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Ax(z6,"EPS",1e-4);var nS=function(t){var r=Object.keys(t).reduce(function(n,a){return hi(hi({},n),{},Ax({},a,z6.create(t[a])))},{});return hi(hi({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Kve(a,function(u,d){return r[d].apply(u,{bandAware:o,position:l})})},isInRange:function(a){return M6(a,function(s,o){return r[o].isInRange(s)})}})};function bbe(e){return(e%180+180)%180}var jbe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=bbe(a),o=s*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},uw,NR;function wbe(){if(NR)return uw;NR=1;var e=js(),t=sf(),r=xx();function n(a){return function(s,o,l){var u=Object(s);if(!t(s)){var d=e(o,3);s=r(s),o=function(m){return d(u[m],m,u)}}var h=a(s,o,l);return h>-1?u[d?s[h]:h]:void 0}}return uw=n,uw}var dw,_R;function Nbe(){if(_R)return dw;_R=1;var e=E6();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return dw=t,dw}var fw,SR;function _be(){if(SR)return fw;SR=1;var e=GL(),t=js(),r=Nbe(),n=Math.max;function a(s,o,l){var u=s==null?0:s.length;if(!u)return-1;var d=l==null?0:r(l);return d<0&&(d=n(u+d,0)),e(s,t(o,3),d)}return fw=a,fw}var hw,kR;function Sbe(){if(kR)return hw;kR=1;var e=wbe(),t=_be(),r=e(t);return hw=r,hw}var kbe=Sbe();const Pbe=ot(kbe);var Cbe=uL();const Ebe=ot(Cbe);var Obe=Ebe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),iS=O.createContext(void 0),aS=O.createContext(void 0),q6=O.createContext(void 0),B6=O.createContext({}),U6=O.createContext(void 0),V6=O.createContext(0),W6=O.createContext(0),PR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,u=t.width,d=t.height,h=Obe(s);return z.createElement(iS.Provider,{value:n},z.createElement(aS.Provider,{value:a},z.createElement(B6.Provider,{value:s},z.createElement(q6.Provider,{value:h},z.createElement(U6.Provider,{value:o},z.createElement(V6.Provider,{value:d},z.createElement(W6.Provider,{value:u},l)))))))},Tbe=function(){return O.useContext(U6)},H6=function(t){var r=O.useContext(iS);r==null&&go();var n=r[t];return n==null&&go(),n},Abe=function(){var t=O.useContext(iS);return is(t)},Mbe=function(){var t=O.useContext(aS),r=Pbe(t,function(n){return M6(n.domain,Number.isFinite)});return r||is(t)},K6=function(t){var r=O.useContext(aS);r==null&&go();var n=r[t];return n==null&&go(),n},Rbe=function(){var t=O.useContext(q6);return t},Dbe=function(){return O.useContext(B6)},sS=function(){return O.useContext(W6)},oS=function(){return O.useContext(V6)};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y6(n.key),n)}}function Fbe(e,t,r){return t&&$be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lbe(e,t,r){return t=jp(t),zbe(e,G6()?Reflect.construct(t,r||[],jp(e).constructor):t.apply(e,r))}function zbe(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qbe(e)}function qbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(e)}function Bbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vN(e,t)}function vN(e,t){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vN(e,t)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){lS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lS(e,t,r){return t=Y6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y6(e){var t=Ube(e,"string");return Xl(t)=="symbol"?t:t+""}function Ube(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vbe(e,t){return Gbe(e)||Kbe(e,t)||Hbe(e,t)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(e,t){if(e){if(typeof e=="string")return OR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Gbe(e){if(Array.isArray(e))return e}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}var Ybe=function(t,r){var n;return z.isValidElement(t)?n=z.cloneElement(t,r):Ke(t)?n=t(r):n=z.createElement("line",bN({},r,{className:"recharts-reference-line-line"})),n},Qbe=function(t,r,n,a,s,o,l,u,d){var h=s.x,m=s.y,p=s.width,g=s.height;if(n){var y=d.y,v=t.y.apply(y,{position:o});if(Li(d,"discard")&&!t.y.isInRange(v))return null;var b=[{x:h+p,y:v},{x:h,y:v}];return u==="left"?b.reverse():b}if(r){var w=d.x,S=t.x.apply(w,{position:o});if(Li(d,"discard")&&!t.x.isInRange(S))return null;var k=[{x:S,y:m+g},{x:S,y:m}];return l==="top"?k.reverse():k}if(a){var E=d.segment,P=E.map(function(_){return t.apply(_,{position:o})});return Li(d,"discard")&&Uve(P,function(_){return!t.isInRange(_)})?null:P}return null};function Xbe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,u=e.alwaysShow,d=Tbe(),h=H6(a),m=K6(s),p=Rbe();if(!d||!p)return null;ha(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=nS({x:h.scale,y:m.scale}),y=ir(t),v=ir(r),b=n&&n.length===2,w=Qbe(g,y,v,b,p,e.position,h.orientation,m.orientation,e);if(!w)return null;var S=Vbe(w,2),k=S[0],E=k.x,P=k.y,_=S[1],T=_.x,D=_.y,L=Li(e,"hidden")?"url(#".concat(d,")"):void 0,M=ER(ER({clipPath:L},rt(e,!0)),{},{x1:E,y1:P,x2:T,y2:D});return z.createElement(Dt,{className:Xe("recharts-reference-line",l)},Ybe(o,M),Dr.renderCallByParent(e,vbe({x1:E,y1:P,x2:T,y2:D})))}var cS=(function(e){function t(){return Ibe(this,t),Lbe(this,t,arguments)}return Bbe(t,e),Fbe(t,[{key:"render",value:function(){return z.createElement(Xbe,this.props)}}])})(z.Component);lS(cS,"displayName","ReferenceLine");lS(cS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(this,arguments)}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){Mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X6(n.key),n)}}function eje(e,t,r){return t&&Zbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tje(e,t,r){return t=wp(t),rje(e,Q6()?Reflect.construct(t,r||[],wp(e).constructor):t.apply(e,r))}function rje(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nje(e)}function nje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q6=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}function ije(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wN(e,t)}function Mx(e,t,r){return t=X6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X6(e){var t=aje(e,"string");return Jl(t)=="symbol"?t:t+""}function aje(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sje=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=nS({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Li(t,"discard")&&!o.isInRange(l)?null:l},Rx=(function(e){function t(){return Jbe(this,t),tje(this,t,arguments)}return ije(t,e),eje(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,d=ir(a),h=ir(s);if(ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=sje(this.props);if(!m)return null;var p=m.x,g=m.y,y=this.props,v=y.shape,b=y.className,w=Li(this.props,"hidden")?"url(#".concat(u,")"):void 0,S=AR(AR({clipPath:w},rt(this.props,!0)),{},{cx:p,cy:g});return z.createElement(Dt,{className:Xe("recharts-reference-dot",b)},t.renderDot(v,S),Dr.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])})(z.Component);Mx(Rx,"displayName","ReferenceDot");Mx(Rx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mx(Rx,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Ke(e)?r=e(t):r=z.createElement(C6,jN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){Dx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z6(n.key),n)}}function cje(e,t,r){return t&&lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uje(e,t,r){return t=Np(t),dje(e,J6()?Reflect.construct(t,r||[],Np(e).constructor):t.apply(e,r))}function dje(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fje(e)}function fje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J6=function(){return!!e})()}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(e)}function hje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_N(e,t)}function Dx(e,t,r){return t=Z6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z6(e){var t=mje(e,"string");return Zl(t)=="symbol"?t:t+""}function mje(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pje=function(t,r,n,a,s){var o=s.x1,l=s.x2,u=s.y1,d=s.y2,h=s.xAxis,m=s.yAxis;if(!h||!m)return null;var p=nS({x:h.scale,y:m.scale}),g={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(u,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(d,{position:"end"}):p.y.rangeMax};return Li(s,"discard")&&(!p.isInRange(g)||!p.isInRange(y))?null:L6(g,y)},Ix=(function(e){function t(){return oje(this,t),uje(this,t,arguments)}return hje(t,e),cje(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,u=n.className,d=n.alwaysShow,h=n.clipPathId;ha(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ir(a),p=ir(s),g=ir(o),y=ir(l),v=this.props.shape;if(!m&&!p&&!g&&!y&&!v)return null;var b=pje(m,p,g,y,this.props);if(!b&&!v)return null;var w=Li(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(Dt,{className:Xe("recharts-reference-area",u)},t.renderRect(v,RR(RR({clipPath:w},rt(this.props,!0)),b)),Dr.renderCallByParent(this.props,b))}}])})(z.Component);Dx(Ix,"displayName","ReferenceArea");Dx(Ix,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dx(Ix,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Ke(e)?r=e(t):r=z.createElement(rS,NN({},t,{className:"recharts-reference-area-rect"})),r});function e8(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function xje(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jbe(n,r)}function gje(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function _p(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function yje(e,t){return e8(e,t+1)}function vje(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,u=0,d=1,h=o,m=function(){var y=n?.[u];if(y===void 0)return{v:e8(n,d)};var v=u,b,w=function(){return b===void 0&&(b=r(y,v)),b},S=y.coordinate,k=u===0||_p(e,S,w,h,l);k||(u=0,h=o,d+=1),k&&(h=S+e*(w()/2+a),u+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){bje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bje(e,t,r){return t=jje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jje(e){var t=wje(e,"string");return Fd(t)=="symbol"?t:t+""}function wje(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nje(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,u=t.end,d=function(p){var g=s[p],y,v=function(){return y===void 0&&(y=r(g,p)),y};if(p===o-1){var b=e*(g.coordinate+e*v()/2-u);s[p]=g=Rr(Rr({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate})}else s[p]=g=Rr(Rr({},g),{},{tickCoord:g.coordinate});var w=_p(e,g.tickCoord,v,l,u);w&&(u=g.tickCoord-e*(v()/2+a),s[p]=Rr(Rr({},g),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return s}function _je(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end;if(s){var h=n[l-1],m=r(h,l-1),p=e*(h.coordinate+e*m/2-d);o[l-1]=h=Rr(Rr({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var g=_p(e,h.tickCoord,function(){return m},u,d);g&&(d=h.tickCoord-e*(m/2+a),o[l-1]=Rr(Rr({},h),{},{isShow:!0}))}for(var y=s?l-1:l,v=function(S){var k=o[S],E,P=function(){return E===void 0&&(E=r(k,S)),E};if(S===0){var _=e*(k.coordinate-e*P()/2-u);o[S]=k=Rr(Rr({},k),{},{tickCoord:_<0?k.coordinate-_*e:k.coordinate})}else o[S]=k=Rr(Rr({},k),{},{tickCoord:k.coordinate});var T=_p(e,k.tickCoord,P,u,d);T&&(u=k.tickCoord+e*(P()/2+a),o[S]=Rr(Rr({},k),{},{isShow:!0}))},b=0;b<y;b++)v(b);return o}function uS(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,u=e.interval,d=e.tickFormatter,h=e.unit,m=e.angle;if(!a||!a.length||!n)return[];if(ge(u)||jc.isSsr)return yje(a,typeof u=="number"&&ge(u)?u:0);var p=[],g=l==="top"||l==="bottom"?"width":"height",y=h&&g==="width"?qu(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(k,E){var P=Ke(d)?d(k.value,E):k.value;return g==="width"?xje(qu(P,{fontSize:t,letterSpacing:r}),y,m):qu(P,{fontSize:t,letterSpacing:r})[g]},b=a.length>=2?pi(a[1].coordinate-a[0].coordinate):1,w=gje(s,b,g);return u==="equidistantPreserveStart"?vje(b,w,v,a,o):(u==="preserveStart"||u==="preserveStartEnd"?p=_je(b,w,v,a,o,u==="preserveStartEnd"):p=Nje(b,w,v,a,o),p.filter(function(S){return S.isShow}))}var Sje=["viewBox"],kje=["viewBox"],Pje=["ticks"];function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){dS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mw(e,t){if(e==null)return{};var r=Cje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r8(n.key),n)}}function Oje(e,t,r){return t&&$R(e.prototype,t),r&&$R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tje(e,t,r){return t=Sp(t),Aje(e,t8()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function Aje(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mje(e)}function Mje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function Rje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SN(e,t)}function dS(e,t,r){return t=r8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=Dje(e,"string");return ec(t)=="symbol"?t:t+""}function Dje(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sc=(function(e){function t(r){var n;return Eje(this,t),n=Tje(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Rje(t,e),Oje(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=mw(n,Sje),l=this.props,u=l.viewBox,d=mw(l,kje);return!Cl(s,u)||!Cl(o,d)||!Cl(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,u=a.height,d=a.orientation,h=a.tickSize,m=a.mirror,p=a.tickMargin,g,y,v,b,w,S,k=m?-1:1,E=n.tickSize||h,P=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":g=y=n.coordinate,b=o+ +!m*u,v=b-k*E,S=v-k*p,w=P;break;case"left":v=b=n.coordinate,y=s+ +!m*l,g=y-k*E,w=g-k*p,S=P;break;case"right":v=b=n.coordinate,y=s+ +m*l,g=y+k*E,w=g+k*p,S=P;break;default:g=y=n.coordinate,b=o+ +m*u,v=b+k*E,S=v+k*p,w=P;break}return{line:{x1:g,y1:v,x2:y,y2:b},tick:{x:w,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,u=n.orientation,d=n.mirror,h=n.axisLine,m=Zt(Zt(Zt({},rt(this.props,!1)),rt(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var p=+(u==="top"&&!d||u==="bottom"&&d);m=Zt(Zt({},m),{},{x1:a,y1:s+p*l,x2:a+o,y2:s+p*l})}else{var g=+(u==="left"&&!d||u==="right"&&d);m=Zt(Zt({},m),{},{x1:a+g*o,y1:s,x2:a+g*o,y2:s+l})}return z.createElement("line",jl({},m,{className:Xe("recharts-cartesian-axis-line",Yn(h,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,u=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,p=l.unit,g=uS(Zt(Zt({},this.props),{},{ticks:n}),a,s),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=rt(this.props,!1),w=rt(h,!1),S=Zt(Zt({},b),{},{fill:"none"},rt(u,!1)),k=g.map(function(E,P){var _=o.getTickLineCoord(E),T=_.line,D=_.tick,L=Zt(Zt(Zt(Zt({textAnchor:y,verticalAnchor:v},b),{},{stroke:"none",fill:d},w),D),{},{index:P,payload:E,visibleTicksCount:g.length,tickFormatter:m});return z.createElement(Dt,jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},ad(o.props,E,P)),u&&z.createElement("line",jl({},S,T,{className:Xe("recharts-cartesian-axis-tick-line",Yn(u,"className"))})),h&&t.renderTickItem(h,L,"".concat(Ke(m)?m(E.value,P):E.value).concat(p||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,u=a.ticksGenerator,d=a.className,h=a.hide;if(h)return null;var m=this.props,p=m.ticks,g=mw(m,Pje),y=p;return Ke(u)&&(y=p&&p.length>0?u(this.props):u(g)),o<=0||l<=0||!y||!y.length?null:z.createElement(Dt,{className:Xe("recharts-cartesian-axis",d),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Xe(a.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?o=z.cloneElement(n,Zt(Zt({},a),{},{className:l})):Ke(n)?o=n(Zt(Zt({},a),{},{className:l})):o=z.createElement(Km,jl({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(O.Component);dS(Sc,"displayName","CartesianAxis");dS(Sc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ije=["x1","y1","x2","y2","key"],$je=["offset"];function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){Fje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fje(e,t,r){return t=Lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lje(e){var t=zje(e,"string");return yo(t)=="symbol"?t:t+""}function zje(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(this,arguments)}function LR(e,t){if(e==null)return{};var r=qje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Bje=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.ry;return z.createElement("rect",{x:a,y:s,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function n8(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Ke(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,u=LR(t,Ije),d=rt(u,!1);d.offset;var h=LR(d,$je);r=z.createElement("line",Zs({},h,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function Uje(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,u){var d=Ir(Ir({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(u),index:u});return n8(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Vje(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,u){var d=Ir(Ir({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(u),index:u});return n8(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Wje(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,u=e.horizontal,d=u===void 0?!0:u;if(!d||!t||!t.length)return null;var h=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==h[0]&&h.unshift(0);var m=h.map(function(p,g){var y=!h[g+1],v=y?a+o-p:h[g+1]-p;if(v<=0)return null;var b=g%t.length;return z.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:v,width:s,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Hje(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,u=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var h=d.map(function(p){return Math.round(p+s-s)}).sort(function(p,g){return p-g});s!==h[0]&&h.unshift(0);var m=h.map(function(p,g){var y=!h[g+1],v=y?s+l-p:h[g+1]-p;if(v<=0)return null;var b=g%n.length;return z.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:v,height:u,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Kje=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return d6(uS(Ir(Ir(Ir({},Sc.defaultProps),n),{},{ticks:la(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},Gje=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return d6(uS(Ir(Ir(Ir({},Sc.defaultProps),n),{},{ticks:la(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},dl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $x(e){var t,r,n,a,s,o,l=sS(),u=oS(),d=Dbe(),h=Ir(Ir({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:dl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:dl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:dl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:dl.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:dl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:dl.verticalFill,x:ge(e.x)?e.x:d.left,y:ge(e.y)?e.y:d.top,width:ge(e.width)?e.width:d.width,height:ge(e.height)?e.height:d.height}),m=h.x,p=h.y,g=h.width,y=h.height,v=h.syncWithTicks,b=h.horizontalValues,w=h.verticalValues,S=Abe(),k=Mbe();if(!ge(g)||g<=0||!ge(y)||y<=0||!ge(m)||m!==+m||!ge(p)||p!==+p)return null;var E=h.verticalCoordinatesGenerator||Kje,P=h.horizontalCoordinatesGenerator||Gje,_=h.horizontalPoints,T=h.verticalPoints;if((!_||!_.length)&&Ke(P)){var D=b&&b.length,L=P({yAxis:k?Ir(Ir({},k),{},{ticks:D?b:k.ticks}):void 0,width:l,height:u,offset:d},D?!0:v);ha(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yo(L),"]")),Array.isArray(L)&&(_=L)}if((!T||!T.length)&&Ke(E)){var M=w&&w.length,F=E({xAxis:S?Ir(Ir({},S),{},{ticks:M?w:S.ticks}):void 0,width:l,height:u,offset:d},M?!0:v);ha(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yo(F),"]")),Array.isArray(F)&&(T=F)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Bje,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),z.createElement(Uje,Zs({},h,{offset:d,horizontalPoints:_,xAxis:S,yAxis:k})),z.createElement(Vje,Zs({},h,{offset:d,verticalPoints:T,xAxis:S,yAxis:k})),z.createElement(Wje,Zs({},h,{horizontalPoints:_})),z.createElement(Hje,Zs({},h,{verticalPoints:T})))}$x.displayName="CartesianGrid";function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function Yje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s8(n.key),n)}}function Xje(e,t,r){return t&&Qje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jje(e,t,r){return t=kp(t),Zje(e,i8()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function Zje(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ewe(e)}function ewe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function twe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kN(e,t)}function a8(e,t,r){return t=s8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=rwe(e,"string");return tc(t)=="symbol"?t:t+""}function rwe(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fx=(function(e){function t(){return Yje(this,t),Jje(this,t,arguments)}return twe(t,e),Xje(t,[{key:"render",value:function(){return null}}])})(O.Component);a8(Fx,"displayName","ZAxis");a8(Fx,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var nwe=["option","isActive"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function iwe(e,t){if(e==null)return{};var r=awe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function awe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function swe(e){var t=e.option,r=e.isActive,n=iwe(e,nwe);return typeof t=="string"?O.createElement(pN,Wu({option:O.createElement(px,Wu({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(pN,Wu({option:t,isActive:r,shapeType:"symbols"},n))}function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(this,arguments)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function owe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l8(n.key),n)}}function lwe(e,t,r){return t&&qR(e.prototype,t),r&&qR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cwe(e,t,r){return t=Pp(t),uwe(e,o8()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function uwe(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dwe(e)}function dwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o8=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function fwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PN(e,t)}function os(e,t,r){return t=l8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=hwe(e,"string");return rc(t)=="symbol"?t:t+""}function hwe(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ff=(function(e){function t(){var r;owe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=cwe(this,t,[].concat(a)),os(r,"state",{isAnimationFinished:!1}),os(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),os(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),os(r,"id",af("recharts-scatter-")),r}return fwe(t,e),lwe(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.activeShape,u=s.activeIndex,d=rt(this.props,!1);return n.map(function(h,m){var p=u===m,g=p?l:o,y=Bn(Bn({},d),h);return z.createElement(Dt,Hu({className:"recharts-scatter-symbol",key:"symbol-".concat(h?.cx,"-").concat(h?.cy,"-").concat(h?.size,"-").concat(m)},ad(a.props,h,m),{role:"img"}),z.createElement(swe,Hu({option:g,isActive:p,key:"symbol-".concat(m)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,s=a.points,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,m=this.state.prevPoints;return z.createElement(_a,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=s.map(function(v,b){var w=m&&m[b];if(w){var S=Ai(w.cx,v.cx),k=Ai(w.cy,v.cy),E=Ai(w.size,v.size);return Bn(Bn({},v),{},{cx:S(g),cy:k(g),size:E(g)})}var P=Ai(0,v.size);return Bn(Bn({},v),{},{size:P(g)})});return z.createElement(Dt,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,s=n.isAnimationActive,o=this.state.prevPoints;return s&&a&&a.length&&(!o||!Px(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.children,d=Pn(u,df);return d?d.map(function(h,m){var p=h.props,g=p.direction,y=p.dataKey;return z.cloneElement(h,{key:"".concat(g,"-").concat(y,"-").concat(s[m]),data:s,xAxis:o,yAxis:l,layout:g==="x"?"vertical":"horizontal",dataPointFormatter:function(b,w){return{x:b.cx,y:b.cy,value:g==="x"?+b.node.x:+b.node.y,errorVal:Jr(b,w)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,s=n.line,o=n.lineType,l=n.lineJointType,u=rt(this.props,!1),d=rt(s,!1),h,m;if(o==="joint")h=a.map(function(k){return{x:k.cx,y:k.cy}});else if(o==="fitting"){var p=xle(a),g=p.xmin,y=p.xmax,v=p.a,b=p.b,w=function(E){return v*E+b};h=[{x:g,y:w(g)},{x:y,y:w(y)}]}var S=Bn(Bn(Bn({},u),{},{fill:"none",stroke:u&&u.fill},d),{},{points:h});return z.isValidElement(s)?m=z.cloneElement(s,S):Ke(s)?m=s(S):m=z.createElement(nN,Hu({},S,{type:l})),z.createElement(Dt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.points,o=n.line,l=n.className,u=n.xAxis,d=n.yAxis,h=n.left,m=n.top,p=n.width,g=n.height,y=n.id,v=n.isAnimationActive;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=Xe("recharts-scatter",l),S=u&&u.allowDataOverflow,k=d&&d.allowDataOverflow,E=S||k,P=We(y)?this.id:y;return z.createElement(Dt,{className:w,clipPath:E?"url(#clipPath-".concat(P,")"):null},S||k?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:S?h:h-p/2,y:k?m:m-g/2,width:S?p:p*2,height:k?g:g*2}))):null,o&&this.renderLine(),this.renderErrorBar(),z.createElement(Dt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||b)&&fs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])})(O.PureComponent);os(ff,"displayName","Scatter");os(ff,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!jc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});os(ff,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,s=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,u=e.offset,d=a.props.tooltipType,h=Pn(a.props.children,O_),m=We(t.dataKey)?a.props.dataKey:t.dataKey,p=We(r.dataKey)?a.props.dataKey:r.dataKey,g=n&&n.dataKey,y=n?n.range:Fx.defaultProps.range,v=y&&y[0],b=t.scale.bandwidth?t.scale.bandwidth():0,w=r.scale.bandwidth?r.scale.bandwidth():0,S=s.map(function(k,E){var P=Jr(k,m),_=Jr(k,p),T=!We(g)&&Jr(k,g)||"-",D=[{name:We(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:P,payload:k,dataKey:m,type:d},{name:We(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:k,dataKey:p,type:d}];T!=="-"&&D.push({name:n.name||n.dataKey,unit:n.unit||"",value:T,payload:k,dataKey:g,type:d});var L=rM({axis:t,ticks:o,bandSize:b,entry:k,index:E,dataKey:m}),M=rM({axis:r,ticks:l,bandSize:w,entry:k,index:E,dataKey:p}),F=T!=="-"?n.scale(T):v,q=Math.sqrt(Math.max(F,0)/Math.PI);return Bn(Bn({},k),{},{cx:L,cy:M,x:L-q,y:M-q,xAxis:t,yAxis:r,zAxis:n,width:2*q,height:2*q,size:F,node:{x:P,y:_,z:T},tooltipPayload:D,tooltipPosition:{x:L,y:M},payload:k},h&&h[E]&&h[E].props)});return Bn({points:S},u)});function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function mwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d8(n.key),n)}}function xwe(e,t,r){return t&&pwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gwe(e,t,r){return t=Cp(t),ywe(e,c8()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function ywe(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vwe(e)}function vwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function bwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}function CN(e,t){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CN(e,t)}function u8(e,t,r){return t=d8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=jwe(e,"string");return nc(t)=="symbol"?t:t+""}function jwe(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(this,arguments)}function wwe(e){var t=e.xAxisId,r=sS(),n=oS(),a=H6(t);return a==null?null:O.createElement(Sc,EN({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return la(o,!0)}}))}var Po=(function(e){function t(){return mwe(this,t),gwe(this,t,arguments)}return bwe(t,e),xwe(t,[{key:"render",value:function(){return O.createElement(wwe,this.props)}}])})(O.Component);u8(Po,"displayName","XAxis");u8(Po,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Nwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m8(n.key),n)}}function Swe(e,t,r){return t&&_we(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kwe(e,t,r){return t=Ep(t),Pwe(e,f8()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function Pwe(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cwe(e)}function Cwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f8=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function Ewe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ON(e,t)}function h8(e,t,r){return t=m8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=Owe(e,"string");return ic(t)=="symbol"?t:t+""}function Owe(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(this,arguments)}var Twe=function(t){var r=t.yAxisId,n=sS(),a=oS(),s=K6(r);return s==null?null:O.createElement(Sc,TN({},s,{className:Xe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return la(l,!0)}}))},Co=(function(e){function t(){return Nwe(this,t),kwe(this,t,arguments)}return Ewe(t,e),Swe(t,[{key:"render",value:function(){return O.createElement(Twe,this.props)}}])})(O.Component);h8(Co,"displayName","YAxis");h8(Co,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BR(e){return Dwe(e)||Rwe(e)||Mwe(e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mwe(e,t){if(e){if(typeof e=="string")return AN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(e,t)}}function Rwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dwe(e){if(Array.isArray(e))return AN(e)}function AN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MN=function(t,r,n,a,s){var o=Pn(t,cS),l=Pn(t,Rx),u=[].concat(BR(o),BR(l)),d=Pn(t,Ix),h="".concat(a,"Id"),m=a[0],p=r;if(u.length&&(p=u.reduce(function(v,b){if(b.props[h]===n&&Li(b.props,"extendDomain")&&ge(b.props[m])){var w=b.props[m];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},p)),d.length){var g="".concat(m,"1"),y="".concat(m,"2");p=d.reduce(function(v,b){if(b.props[h]===n&&Li(b.props,"extendDomain")&&ge(b.props[g])&&ge(b.props[y])){var w=b.props[g],S=b.props[y];return[Math.min(v[0],w,S),Math.max(v[1],w,S)]}return v},p)}return s&&s.length&&(p=s.reduce(function(v,b){return ge(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},p)),p},pw={exports:{}},UR;function Iwe(){return UR||(UR=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new a(h,m||u,p),y=r?r+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],g]:u._events[y].push(g):(u._events[y]=g,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,y=new Array(g);p<g;p++)y[p]=m[p].fn;return y},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,p,g,y){var v=r?r+d:d;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,S,k;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,p),!0;case 5:return b.fn.call(b.context,h,m,p,g),!0;case 6:return b.fn.call(b.context,h,m,p,g,y),!0}for(k=1,S=new Array(w-1);k<w;k++)S[k-1]=arguments[k];b.fn.apply(b.context,S)}else{var E=b.length,P;for(k=0;k<E;k++)switch(b[k].once&&this.removeListener(d,b[k].fn,void 0,!0),w){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,h);break;case 3:b[k].fn.call(b[k].context,h,m);break;case 4:b[k].fn.call(b[k].context,h,m,p);break;default:if(!S)for(P=1,S=new Array(w-1);P<w;P++)S[P-1]=arguments[P];b[k].fn.apply(b[k].context,S)}}return!0},l.prototype.on=function(d,h,m){return s(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return s(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,p){var g=r?r+d:d;if(!this._events[g])return this;if(!h)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===h&&(!p||y.once)&&(!m||y.context===m)&&o(this,g);else{for(var v=0,b=[],w=y.length;v<w;v++)(y[v].fn!==h||p&&!y[v].once||m&&y[v].context!==m)&&b.push(y[v]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(pw)),pw.exports}var $we=Iwe();const Fwe=ot($we);var xw=new Fwe,gw="recharts.syncMouseEvents";function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function Lwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p8(n.key),n)}}function qwe(e,t,r){return t&&zwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yw(e,t,r){return t=p8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p8(e){var t=Bwe(e,"string");return Ld(t)=="symbol"?t:t+""}function Bwe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uwe=(function(){function e(){Lwe(this,e),yw(this,"activeIndex",0),yw(this,"coordinateList",[]),yw(this,"layout","horizontal")}return qwe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,u=r.layout,d=u===void 0?null:u,h=r.offset,m=h===void 0?null:h,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,u=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+u+d,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function Vwe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&ge(n)&&ge(a))return!0}return!1}function Wwe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function x8(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=jr(t,r,n,a),l=jr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Hwe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,u=t.cy,d=t.innerRadius,h=t.outerRadius,m=t.angle,p=jr(l,u,d,m),g=jr(l,u,h,m);n=p.x,a=p.y,s=g.x,o=g.y}else return x8(t);return[{x:n,y:a},{x:s,y:o}]}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){Kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kwe(e,t,r){return t=Gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gwe(e){var t=Ywe(e,"string");return zd(t)=="symbol"?t:t+""}function Ywe(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qwe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,p=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!s||!o||p!=="ScatterChart"&&a!=="axis")return null;var y,v=nN;if(p==="ScatterChart")y=o,v=Vye;else if(p==="BarChart")y=Wwe(m,o,u,h),v=rS;else if(m==="radial"){var b=x8(o),w=b.cx,S=b.cy,k=b.radius,E=b.startAngle,P=b.endAngle;y={cx:w,cy:S,startAngle:E,endAngle:P,innerRadius:k,outerRadius:k},v=b6}else y={points:Hwe(m,o,u)},v=nN;var _=tm(tm(tm(tm({stroke:"#ccc",pointerEvents:"none"},u),y),rt(g,!1)),{},{payload:l,payloadIndex:d,className:Xe("recharts-tooltip-cursor",g.className)});return O.isValidElement(g)?O.cloneElement(g,_):O.createElement(v,_)}var Xwe=["item"],Jwe=["children","className","width","height","style","compact","title","desc"];function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function WR(e,t){return t1e(e)||e1e(e,t)||y8(e,t)||Zwe()}function Zwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function t1e(e){if(Array.isArray(e))return e}function HR(e,t){if(e==null)return{};var r=r1e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v8(n.key),n)}}function a1e(e,t,r){return t&&i1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s1e(e,t,r){return t=Op(t),o1e(e,g8()?Reflect.construct(t,r||[],Op(e).constructor):t.apply(e,r))}function o1e(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l1e(e)}function l1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g8=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function c1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RN(e,t)}function sc(e){return f1e(e)||d1e(e)||y8(e)||u1e()}function u1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8(e,t){if(e){if(typeof e=="string")return DN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DN(e,t)}}function d1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f1e(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=v8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=h1e(e,"string");return ac(t)=="symbol"?t:t+""}function h1e(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m1e={xAxis:["bottom","top"],yAxis:["left","right"]},p1e={width:"100%",height:"100%"},b8={x:0,y:0};function rm(e){return e}var x1e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},g1e=function(t,r,n,a){var s=r.find(function(h){return h&&h.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return ie(ie(ie({},a),jr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var u=s.coordinate,d=a.angle;return ie(ie(ie({},a),jr(a.cx,a.cy,u,d)),{},{angle:d,radius:u})}return b8},Lx=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var d=u.props.data;return d&&d.length?[].concat(sc(l),sc(d)):l},[]);return o.length>0?o:t&&t.length&&ge(a)&&ge(s)?t.slice(a,s+1):[]};function j8(e){return e==="number"?[0,"auto"]:void 0}var IN=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Lx(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(u,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=m===void 0?l:m;p=Dm(g,o.dataKey,a)}else p=m&&m[n]||l[n];return p?[].concat(sc(u),[x6(d,p)]):u},[])},GR=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=x1e(s,n),l=t.orderedTooltipTicks,u=t.tooltipAxis,d=t.tooltipTicks,h=_xe(o,l,d,u);if(h>=0&&d){var m=d[h]&&d[h].value,p=IN(t,r,h,m),g=g1e(n,l,h,s);return{activeTooltipIndex:h,activeLabel:m,activePayload:p,activeCoordinate:g}}return null},y1e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,h=t.layout,m=t.children,p=t.stackOffset,g=u6(h,s);return n.reduce(function(y,v){var b,w=v.type.defaultProps!==void 0?ie(ie({},v.type.defaultProps),v.props):v.props,S=w.type,k=w.dataKey,E=w.allowDataOverflow,P=w.allowDuplicatedCategory,_=w.scale,T=w.ticks,D=w.includeHidden,L=w[o];if(y[L])return y;var M=Lx(t.data,{graphicalItems:a.filter(function(V){var I,ae=o in V.props?V.props[o]:(I=V.type.defaultProps)===null||I===void 0?void 0:I[o];return ae===L}),dataStartIndex:u,dataEndIndex:d}),F=M.length,q,H,K;Vwe(w.domain,E,S)&&(q=J1(w.domain,null,E),g&&(S==="number"||_!=="auto")&&(K=Uu(M,k,"category")));var W=j8(S);if(!q||q.length===0){var $,Q=($=w.domain)!==null&&$!==void 0?$:W;if(k){if(q=Uu(M,k,S),S==="category"&&g){var Y=ple(q);P&&Y?(H=q,q=xp(0,F)):P||(q=sM(Q,q,v).reduce(function(V,I){return V.indexOf(I)>=0?V:[].concat(sc(V),[I])},[]))}else if(S==="category")P?q=q.filter(function(V){return V!==""&&!We(V)}):q=sM(Q,q,v).reduce(function(V,I){return V.indexOf(I)>=0||I===""||We(I)?V:[].concat(sc(V),[I])},[]);else if(S==="number"){var X=Exe(M,a.filter(function(V){var I,ae,ye=o in V.props?V.props[o]:(I=V.type.defaultProps)===null||I===void 0?void 0:I[o],be="hide"in V.props?V.props.hide:(ae=V.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ye===L&&(D||!be)}),k,s,h);X&&(q=X)}g&&(S==="number"||_!=="auto")&&(K=Uu(M,k,"category"))}else g?q=xp(0,F):l&&l[L]&&l[L].hasStack&&S==="number"?q=p==="expand"?[0,1]:p6(l[L].stackGroups,u,d):q=c6(M,a.filter(function(V){var I=o in V.props?V.props[o]:V.type.defaultProps[o],ae="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return I===L&&(D||!ae)}),S,h,!0);if(S==="number")q=MN(m,q,L,s,T),Q&&(q=J1(Q,q,E));else if(S==="category"&&Q){var R=Q,B=q.every(function(V){return R.indexOf(V)>=0});B&&(q=R)}}return ie(ie({},y),{},$e({},L,ie(ie({},w),{},{axisType:s,domain:q,categoricalDomain:K,duplicateDomain:H,originalDomain:(b=w.domain)!==null&&b!==void 0?b:W,isCategorical:g,layout:h})))},{})},v1e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,h=t.layout,m=t.children,p=Lx(t.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:d}),g=p.length,y=u6(h,s),v=-1;return n.reduce(function(b,w){var S=w.type.defaultProps!==void 0?ie(ie({},w.type.defaultProps),w.props):w.props,k=S[o],E=j8("number");if(!b[k]){v++;var P;return y?P=xp(0,g):l&&l[k]&&l[k].hasStack?(P=p6(l[k].stackGroups,u,d),P=MN(m,P,k,s)):(P=J1(E,c6(p,n.filter(function(_){var T,D,L=o in _.props?_.props[o]:(T=_.type.defaultProps)===null||T===void 0?void 0:T[o],M="hide"in _.props?_.props.hide:(D=_.type.defaultProps)===null||D===void 0?void 0:D.hide;return L===k&&!M}),"number",h),a.defaultProps.allowDataOverflow),P=MN(m,P,k,s)),ie(ie({},b),{},$e({},k,ie(ie({axisType:s},a.defaultProps),{},{hide:!0,orientation:Yn(m1e,"".concat(s,".").concat(v%2),null),domain:P,originalDomain:E,isCategorical:y,layout:h})))}return b},{})},b1e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,d=r.dataEndIndex,h=t.children,m="".concat(a,"Id"),p=Pn(h,s),g={};return p&&p.length?g=y1e(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d}):o&&o.length&&(g=v1e(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d})),g},j1e=function(t){var r=is(t),n=la(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:P_(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:op(r,n)}},YR=function(t){var r=t.children,n=t.defaultShowTooltip,a=Nn(r,Yl),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},w1e=function(t){return!t||!t.length?!1:t.some(function(r){var n=fa(r&&r.type);return n&&n.indexOf("Bar")>=0})},QR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},N1e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,u=l===void 0?{}:l,d=n.width,h=n.height,m=n.children,p=n.margin||{},g=Nn(m,Yl),y=Nn(m,ao),v=Object.keys(u).reduce(function(P,_){var T=u[_],D=T.orientation;return!T.mirror&&!T.hide?ie(ie({},P),{},$e({},D,P[D]+T.width)):P},{left:p.left||0,right:p.right||0}),b=Object.keys(o).reduce(function(P,_){var T=o[_],D=T.orientation;return!T.mirror&&!T.hide?ie(ie({},P),{},$e({},D,Yn(P,"".concat(D))+T.height)):P},{top:p.top||0,bottom:p.bottom||0}),w=ie(ie({},b),v),S=w.bottom;g&&(w.bottom+=g.props.height||Yl.defaultProps.height),y&&r&&(w=Pxe(w,a,n,r));var k=d-w.left-w.right,E=h-w.top-w.bottom;return ie(ie({brushBottom:S},w),{},{width:Math.max(k,0),height:Math.max(E,0)})},_1e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},w8=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=t.axisComponents,d=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,p=function(w,S){var k=S.graphicalItems,E=S.stackGroups,P=S.offset,_=S.updateId,T=S.dataStartIndex,D=S.dataEndIndex,L=w.barSize,M=w.layout,F=w.barGap,q=w.barCategoryGap,H=w.maxBarSize,K=QR(M),W=K.numericAxisName,$=K.cateAxisName,Q=w1e(k),Y=[];return k.forEach(function(X,R){var B=Lx(w.data,{graphicalItems:[X],dataStartIndex:T,dataEndIndex:D}),V=X.type.defaultProps!==void 0?ie(ie({},X.type.defaultProps),X.props):X.props,I=V.dataKey,ae=V.maxBarSize,ye=V["".concat(W,"Id")],be=V["".concat($,"Id")],we={},ke=u.reduce(function($t,Sr){var kr=S["".concat(Sr.axisType,"Map")],Hi=V["".concat(Sr.axisType,"Id")];kr&&kr[Hi]||Sr.axisType==="zAxis"||go();var Ki=kr[Hi];return ie(ie({},$t),{},$e($e({},Sr.axisType,Ki),"".concat(Sr.axisType,"Ticks"),la(Ki)))},we),se=ke[$],ve=ke["".concat($,"Ticks")],Oe=E&&E[ye]&&E[ye].hasStack&&Fxe(X,E[ye].stackGroups),oe=fa(X.type).indexOf("Bar")>=0,Ze=op(se,ve),Be=[],xt=Q&&Sxe({barSize:L,stackGroups:E,totalSize:_1e(ke,$)});if(oe){var ht,Tt,hr=We(ae)?H:ae,Br=(ht=(Tt=op(se,ve,!0))!==null&&Tt!==void 0?Tt:hr)!==null&&ht!==void 0?ht:0;Be=kxe({barGap:F,barCategoryGap:q,bandSize:Br!==Ze?Br:Ze,sizeList:xt[be],maxBarSize:hr}),Br!==Ze&&(Be=Be.map(function($t){return ie(ie({},$t),{},{position:ie(ie({},$t.position),{},{offset:$t.position.offset-Br/2})})}))}var _r=X&&X.type&&X.type.getComposedData;_r&&Y.push({props:ie(ie({},_r(ie(ie({},ke),{},{displayedData:B,props:w,dataKey:I,item:X,bandSize:Ze,barPosition:Be,offset:P,stackedData:Oe,layout:M,dataStartIndex:T,dataEndIndex:D}))),{},$e($e($e({key:X.key||"item-".concat(R)},W,ke[W]),$,ke[$]),"animationId",_)),childIndex:Cle(X,w.children),item:X})}),Y},g=function(w,S){var k=w.props,E=w.dataStartIndex,P=w.dataEndIndex,_=w.updateId;if(!bT({props:k}))return null;var T=k.children,D=k.layout,L=k.stackOffset,M=k.data,F=k.reverseStackOrder,q=QR(D),H=q.numericAxisName,K=q.cateAxisName,W=Pn(T,n),$=Ixe(M,W,"".concat(H,"Id"),"".concat(K,"Id"),L,F),Q=u.reduce(function(V,I){var ae="".concat(I.axisType,"Map");return ie(ie({},V),{},$e({},ae,b1e(k,ie(ie({},I),{},{graphicalItems:W,stackGroups:I.axisType===H&&$,dataStartIndex:E,dataEndIndex:P}))))},{}),Y=N1e(ie(ie({},Q),{},{props:k,graphicalItems:W}),S?.legendBBox);Object.keys(Q).forEach(function(V){Q[V]=h(k,Q[V],Y,V.replace("Map",""),r)});var X=Q["".concat(K,"Map")],R=j1e(X),B=p(k,ie(ie({},Q),{},{dataStartIndex:E,dataEndIndex:P,updateId:_,graphicalItems:W,stackGroups:$,offset:Y}));return ie(ie({formattedGraphicalItems:B,graphicalItems:W,offset:Y,stackGroups:$},R),Q)},y=(function(b){function w(S){var k,E,P;return n1e(this,w),P=s1e(this,w,[S]),$e(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(P,"accessibilityManager",new Uwe),$e(P,"handleLegendBBoxUpdate",function(_){if(_){var T=P.state,D=T.dataStartIndex,L=T.dataEndIndex,M=T.updateId;P.setState(ie({legendBBox:_},g({props:P.props,dataStartIndex:D,dataEndIndex:L,updateId:M},ie(ie({},P.state),{},{legendBBox:_}))))}}),$e(P,"handleReceiveSyncEvent",function(_,T,D){if(P.props.syncId===_){if(D===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(T)}}),$e(P,"handleBrushChange",function(_){var T=_.startIndex,D=_.endIndex;if(T!==P.state.dataStartIndex||D!==P.state.dataEndIndex){var L=P.state.updateId;P.setState(function(){return ie({dataStartIndex:T,dataEndIndex:D},g({props:P.props,dataStartIndex:T,dataEndIndex:D,updateId:L},P.state))}),P.triggerSyncEvent({dataStartIndex:T,dataEndIndex:D})}}),$e(P,"handleMouseEnter",function(_){var T=P.getMouseInfo(_);if(T){var D=ie(ie({},T),{},{isTooltipActive:!0});P.setState(D),P.triggerSyncEvent(D);var L=P.props.onMouseEnter;Ke(L)&&L(D,_)}}),$e(P,"triggeredAfterMouseMove",function(_){var T=P.getMouseInfo(_),D=T?ie(ie({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(D),P.triggerSyncEvent(D);var L=P.props.onMouseMove;Ke(L)&&L(D,_)}),$e(P,"handleItemMouseEnter",function(_){P.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),$e(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),$e(P,"handleMouseMove",function(_){_.persist(),P.throttleTriggeredAfterMouseMove(_)}),$e(P,"handleMouseLeave",function(_){P.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var D=P.props.onMouseLeave;Ke(D)&&D(T,_)}),$e(P,"handleOuterEvent",function(_){var T=Ple(_),D=Yn(P.props,"".concat(T));if(T&&Ke(D)){var L,M;/.*touch.*/i.test(T)?M=P.getMouseInfo(_.changedTouches[0]):M=P.getMouseInfo(_),D((L=M)!==null&&L!==void 0?L:{},_)}}),$e(P,"handleClick",function(_){var T=P.getMouseInfo(_);if(T){var D=ie(ie({},T),{},{isTooltipActive:!0});P.setState(D),P.triggerSyncEvent(D);var L=P.props.onClick;Ke(L)&&L(D,_)}}),$e(P,"handleMouseDown",function(_){var T=P.props.onMouseDown;if(Ke(T)){var D=P.getMouseInfo(_);T(D,_)}}),$e(P,"handleMouseUp",function(_){var T=P.props.onMouseUp;if(Ke(T)){var D=P.getMouseInfo(_);T(D,_)}}),$e(P,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),$e(P,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&P.handleMouseDown(_.changedTouches[0])}),$e(P,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&P.handleMouseUp(_.changedTouches[0])}),$e(P,"handleDoubleClick",function(_){var T=P.props.onDoubleClick;if(Ke(T)){var D=P.getMouseInfo(_);T(D,_)}}),$e(P,"handleContextMenu",function(_){var T=P.props.onContextMenu;if(Ke(T)){var D=P.getMouseInfo(_);T(D,_)}}),$e(P,"triggerSyncEvent",function(_){P.props.syncId!==void 0&&xw.emit(gw,P.props.syncId,_,P.eventEmitterSymbol)}),$e(P,"applySyncEvent",function(_){var T=P.props,D=T.layout,L=T.syncMethod,M=P.state.updateId,F=_.dataStartIndex,q=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)P.setState(ie({dataStartIndex:F,dataEndIndex:q},g({props:P.props,dataStartIndex:F,dataEndIndex:q,updateId:M},P.state)));else if(_.activeTooltipIndex!==void 0){var H=_.chartX,K=_.chartY,W=_.activeTooltipIndex,$=P.state,Q=$.offset,Y=$.tooltipTicks;if(!Q)return;if(typeof L=="function")W=L(Y,_);else if(L==="value"){W=-1;for(var X=0;X<Y.length;X++)if(Y[X].value===_.activeLabel){W=X;break}}var R=ie(ie({},Q),{},{x:Q.left,y:Q.top}),B=Math.min(H,R.x+R.width),V=Math.min(K,R.y+R.height),I=Y[W]&&Y[W].value,ae=IN(P.state,P.props.data,W),ye=Y[W]?{x:D==="horizontal"?Y[W].coordinate:B,y:D==="horizontal"?V:Y[W].coordinate}:b8;P.setState(ie(ie({},_),{},{activeLabel:I,activeCoordinate:ye,activePayload:ae,activeTooltipIndex:W}))}else P.setState(_)}),$e(P,"renderCursor",function(_){var T,D=P.state,L=D.isTooltipActive,M=D.activeCoordinate,F=D.activePayload,q=D.offset,H=D.activeTooltipIndex,K=D.tooltipAxisBandSize,W=P.getTooltipEventType(),$=(T=_.props.active)!==null&&T!==void 0?T:L,Q=P.props.layout,Y=_.key||"_recharts-cursor";return z.createElement(Qwe,{key:Y,activeCoordinate:M,activePayload:F,activeTooltipIndex:H,chartName:r,element:_,isActive:$,layout:Q,offset:q,tooltipAxisBandSize:K,tooltipEventType:W})}),$e(P,"renderPolarAxis",function(_,T,D){var L=Yn(_,"type.axisType"),M=Yn(P.state,"".concat(L,"Map")),F=_.type.defaultProps,q=F!==void 0?ie(ie({},F),_.props):_.props,H=M&&M[q["".concat(L,"Id")]];return O.cloneElement(_,ie(ie({},H),{},{className:Xe(L,H.className),key:_.key||"".concat(T,"-").concat(D),ticks:la(H,!0)}))}),$e(P,"renderPolarGrid",function(_){var T=_.props,D=T.radialLines,L=T.polarAngles,M=T.polarRadius,F=P.state,q=F.radiusAxisMap,H=F.angleAxisMap,K=is(q),W=is(H),$=W.cx,Q=W.cy,Y=W.innerRadius,X=W.outerRadius;return O.cloneElement(_,{polarAngles:Array.isArray(L)?L:la(W,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(M)?M:la(K,!0).map(function(R){return R.coordinate}),cx:$,cy:Q,innerRadius:Y,outerRadius:X,key:_.key||"polar-grid",radialLines:D})}),$e(P,"renderLegend",function(){var _=P.state.formattedGraphicalItems,T=P.props,D=T.children,L=T.width,M=T.height,F=P.props.margin||{},q=L-(F.left||0)-(F.right||0),H=o6({children:D,formattedGraphicalItems:_,legendWidth:q,legendContent:d});if(!H)return null;var K=H.item,W=HR(H,Xwe);return O.cloneElement(K,ie(ie({},W),{},{chartWidth:L,chartHeight:M,margin:F,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),$e(P,"renderTooltip",function(){var _,T=P.props,D=T.children,L=T.accessibilityLayer,M=Nn(D,Vn);if(!M)return null;var F=P.state,q=F.isTooltipActive,H=F.activeCoordinate,K=F.activePayload,W=F.activeLabel,$=F.offset,Q=(_=M.props.active)!==null&&_!==void 0?_:q;return O.cloneElement(M,{viewBox:ie(ie({},$),{},{x:$.left,y:$.top}),active:Q,label:W,payload:Q?K:[],coordinate:H,accessibilityLayer:L})}),$e(P,"renderBrush",function(_){var T=P.props,D=T.margin,L=T.data,M=P.state,F=M.offset,q=M.dataStartIndex,H=M.dataEndIndex,K=M.updateId;return O.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Xh(P.handleBrushChange,_.props.onChange),data:L,x:ge(_.props.x)?_.props.x:F.left,y:ge(_.props.y)?_.props.y:F.top+F.height+F.brushBottom-(D.bottom||0),width:ge(_.props.width)?_.props.width:F.width,startIndex:q,endIndex:H,updateId:"brush-".concat(K)})}),$e(P,"renderReferenceElement",function(_,T,D){if(!_)return null;var L=P,M=L.clipPathId,F=P.state,q=F.xAxisMap,H=F.yAxisMap,K=F.offset,W=_.type.defaultProps||{},$=_.props,Q=$.xAxisId,Y=Q===void 0?W.xAxisId:Q,X=$.yAxisId,R=X===void 0?W.yAxisId:X;return O.cloneElement(_,{key:_.key||"".concat(T,"-").concat(D),xAxis:q[Y],yAxis:H[R],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:M})}),$e(P,"renderActivePoints",function(_){var T=_.item,D=_.activePoint,L=_.basePoint,M=_.childIndex,F=_.isRange,q=[],H=T.props.key,K=T.item.type.defaultProps!==void 0?ie(ie({},T.item.type.defaultProps),T.item.props):T.item.props,W=K.activeDot,$=K.dataKey,Q=ie(ie({index:M,dataKey:$,cx:D.x,cy:D.y,r:4,fill:tS(T.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},rt(W,!1)),Im(W));return q.push(w.renderActiveDot(W,Q,"".concat(H,"-activePoint-").concat(M))),L?q.push(w.renderActiveDot(W,ie(ie({},Q),{},{cx:L.x,cy:L.y}),"".concat(H,"-basePoint-").concat(M))):F&&q.push(null),q}),$e(P,"renderGraphicChild",function(_,T,D){var L=P.filterFormatItem(_,T,D);if(!L)return null;var M=P.getTooltipEventType(),F=P.state,q=F.isTooltipActive,H=F.tooltipAxis,K=F.activeTooltipIndex,W=F.activeLabel,$=P.props.children,Q=Nn($,Vn),Y=L.props,X=Y.points,R=Y.isRange,B=Y.baseLine,V=L.item.type.defaultProps!==void 0?ie(ie({},L.item.type.defaultProps),L.item.props):L.item.props,I=V.activeDot,ae=V.hide,ye=V.activeBar,be=V.activeShape,we=!!(!ae&&q&&Q&&(I||ye||be)),ke={};M!=="axis"&&Q&&Q.props.trigger==="click"?ke={onClick:Xh(P.handleItemMouseEnter,_.props.onClick)}:M!=="axis"&&(ke={onMouseLeave:Xh(P.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Xh(P.handleItemMouseEnter,_.props.onMouseEnter)});var se=O.cloneElement(_,ie(ie({},L.props),ke));function ve(Sr){return typeof H.dataKey=="function"?H.dataKey(Sr.payload):null}if(we)if(K>=0){var Oe,oe;if(H.dataKey&&!H.allowDuplicatedCategory){var Ze=typeof H.dataKey=="function"?ve:"payload.".concat(H.dataKey.toString());Oe=Dm(X,Ze,W),oe=R&&B&&Dm(B,Ze,W)}else Oe=X?.[K],oe=R&&B&&B[K];if(be||ye){var Be=_.props.activeIndex!==void 0?_.props.activeIndex:K;return[O.cloneElement(_,ie(ie(ie({},L.props),ke),{},{activeIndex:Be})),null,null]}if(!We(Oe))return[se].concat(sc(P.renderActivePoints({item:L,activePoint:Oe,basePoint:oe,childIndex:K,isRange:R})))}else{var xt,ht=(xt=P.getItemByXY(P.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:se},Tt=ht.graphicalItem,hr=Tt.item,Br=hr===void 0?_:hr,_r=Tt.childIndex,$t=ie(ie(ie({},L.props),ke),{},{activeIndex:_r});return[O.cloneElement(Br,$t),null,null]}return R?[se,null,null]:[se,null]}),$e(P,"renderCustomized",function(_,T,D){return O.cloneElement(_,ie(ie({key:"recharts-customized-".concat(D)},P.props),P.state))}),$e(P,"renderMap",{CartesianGrid:{handler:rm,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:rm},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:rm},YAxis:{handler:rm},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((k=S.id)!==null&&k!==void 0?k:af("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=oz(P.triggeredAfterMouseMove,(E=S.throttleDelay)!==null&&E!==void 0?E:1e3/60),P.state={},P}return c1e(w,b),a1e(w,[{key:"componentDidMount",value:function(){var k,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,E=k.children,P=k.data,_=k.height,T=k.layout,D=Nn(E,Vn);if(D){var L=D.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,F=IN(this.state,P,L,M),q=this.state.tooltipTicks[L].coordinate,H=(this.state.offset.top+_)/2,K=T==="horizontal",W=K?{x:q,y:H}:{y:q,x:H},$=this.state.formattedGraphicalItems.find(function(Y){var X=Y.item;return X.type.name==="Scatter"});$&&(W=ie(ie({},W),$.props.points[L].tooltipPosition),F=$.props.points[L].tooltipPayload);var Q={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:M,activePayload:F,activeCoordinate:W};this.setState(Q),this.renderCursor(D),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var P,_;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(k){b1([Nn(k.children,Vn)],[Nn(this.props.children,Vn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Nn(this.props.children,Vn);if(k&&typeof k.props.shared=="boolean"){var E=k.props.shared?"axis":"item";return l.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var E=this.container,P=E.getBoundingClientRect(),_=mfe(P),T={chartX:Math.round(k.pageX-_.left),chartY:Math.round(k.pageY-_.top)},D=P.width/E.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,D);if(!L)return null;var M=this.state,F=M.xAxisMap,q=M.yAxisMap,H=this.getTooltipEventType(),K=GR(this.state,this.props.data,this.props.layout,L);if(H!=="axis"&&F&&q){var W=is(F).scale,$=is(q).scale,Q=W&&W.invert?W.invert(T.chartX):null,Y=$&&$.invert?$.invert(T.chartY):null;return ie(ie({},T),{},{xValue:Q,yValue:Y},K)}return K?ie(ie({},T),K):null}},{key:"inRange",value:function(k,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,T=k/P,D=E/P;if(_==="horizontal"||_==="vertical"){var L=this.state.offset,M=T>=L.left&&T<=L.left+L.width&&D>=L.top&&D<=L.top+L.height;return M?{x:T,y:D}:null}var F=this.state,q=F.angleAxisMap,H=F.radiusAxisMap;if(q&&H){var K=is(q);return cM({x:T,y:D},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,E=this.getTooltipEventType(),P=Nn(k,Vn),_={};P&&E==="axis"&&(P.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Im(this.props,this.handleOuterEvent);return ie(ie({},T),_)}},{key:"addListener",value:function(){xw.on(gw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xw.removeListener(gw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,E,P){for(var _=this.state.formattedGraphicalItems,T=0,D=_.length;T<D;T++){var L=_[T];if(L.item===k||L.props.key===k.key||E===fa(L.item.type)&&P===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,E=this.state.offset,P=E.left,_=E.top,T=E.height,D=E.width;return z.createElement("defs",null,z.createElement("clipPath",{id:k},z.createElement("rect",{x:P,y:_,height:T,width:D})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(E,P){var _=WR(P,2),T=_[0],D=_[1];return ie(ie({},E),{},$e({},T,D.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(E,P){var _=WR(P,2),T=_[0],D=_[1];return ie(ie({},E),{},$e({},T,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[k])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(k){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[k])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(k){var E=this.state,P=E.formattedGraphicalItems,_=E.activeItem;if(P&&P.length)for(var T=0,D=P.length;T<D;T++){var L=P[T],M=L.props,F=L.item,q=F.type.defaultProps!==void 0?ie(ie({},F.type.defaultProps),F.props):F.props,H=fa(F.type);if(H==="Bar"){var K=(M.data||[]).find(function(Y){return Rye(k,Y)});if(K)return{graphicalItem:L,payload:K}}else if(H==="RadialBar"){var W=(M.data||[]).find(function(Y){return cM(k,Y)});if(W)return{graphicalItem:L,payload:W}}else if(Ox(L,_)||Tx(L,_)||Rd(L,_)){var $=Nve({graphicalItem:L,activeTooltipItem:_,itemData:q.data}),Q=q.activeIndex===void 0?$:q.activeIndex;return{graphicalItem:ie(ie({},L),{},{childIndex:Q}),payload:Rd(L,_)?q.data[$]:L.props.data[$]}}}return null}},{key:"render",value:function(){var k=this;if(!bT(this))return null;var E=this.props,P=E.children,_=E.className,T=E.width,D=E.height,L=E.style,M=E.compact,F=E.title,q=E.desc,H=HR(E,Jwe),K=rt(H,!1);if(M)return z.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(w1,wl({},K,{width:T,height:D,title:F,desc:q}),this.renderClipPath(),wT(P,this.renderMap)));if(this.props.accessibilityLayer){var W,$;K.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,K.role=($=this.props.role)!==null&&$!==void 0?$:"application",K.onKeyDown=function(Y){k.accessibilityManager.keyboardEvent(Y)},K.onFocus=function(){k.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return z.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",wl({className:Xe("recharts-wrapper",_),style:ie({position:"relative",cursor:"default",width:T,height:D},L)},Q,{ref:function(X){k.container=X}}),z.createElement(w1,wl({},K,{width:T,height:D,title:F,desc:q,style:p1e}),this.renderClipPath(),wT(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(O.Component);$e(y,"displayName",r),$e(y,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),$e(y,"getDerivedStateFromProps",function(b,w){var S=b.dataKey,k=b.data,E=b.children,P=b.width,_=b.height,T=b.layout,D=b.stackOffset,L=b.margin,M=w.dataStartIndex,F=w.dataEndIndex;if(w.updateId===void 0){var q=YR(b);return ie(ie(ie({},q),{},{updateId:0},g(ie(ie({props:b},q),{},{updateId:0}),w)),{},{prevDataKey:S,prevData:k,prevWidth:P,prevHeight:_,prevLayout:T,prevStackOffset:D,prevMargin:L,prevChildren:E})}if(S!==w.prevDataKey||k!==w.prevData||P!==w.prevWidth||_!==w.prevHeight||T!==w.prevLayout||D!==w.prevStackOffset||!Cl(L,w.prevMargin)){var H=YR(b),K={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},W=ie(ie({},GR(w,k,T)),{},{updateId:w.updateId+1}),$=ie(ie(ie({},H),K),W);return ie(ie(ie({},$),g(ie({props:b},$),w)),{},{prevDataKey:S,prevData:k,prevWidth:P,prevHeight:_,prevLayout:T,prevStackOffset:D,prevMargin:L,prevChildren:E})}if(!b1(E,w.prevChildren)){var Q,Y,X,R,B=Nn(E,Yl),V=B&&(Q=(Y=B.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&Q!==void 0?Q:M,I=B&&(X=(R=B.props)===null||R===void 0?void 0:R.endIndex)!==null&&X!==void 0?X:F,ae=V!==M||I!==F,ye=!We(k),be=ye&&!ae?w.updateId:w.updateId+1;return ie(ie({updateId:be},g(ie(ie({props:b},w),{},{updateId:be,dataStartIndex:V,dataEndIndex:I}),w)),{},{prevChildren:E,dataStartIndex:V,dataEndIndex:I})}return null}),$e(y,"renderActiveDot",function(b,w,S){var k;return O.isValidElement(b)?k=O.cloneElement(b,w):Ke(b)?k=b(w):k=z.createElement(C6,w),z.createElement(Dt,{className:"recharts-active-dot",key:S},k)});var v=O.forwardRef(function(w,S){return z.createElement(y,wl({},w,{ref:S}))});return v.displayName=y.displayName,v},N8=w8({chartName:"BarChart",GraphicalChild:zi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Po},{axisType:"yAxis",AxisComp:Co}],formatAxisMap:F6}),S1e=w8({chartName:"ScatterChart",GraphicalChild:ff,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Po},{axisType:"yAxis",AxisComp:Co},{axisType:"zAxis",AxisComp:Fx}],formatAxisMap:F6});const hf="http://127.0.0.1:8000/optimization",k1e=async()=>{const e=await fetch(`${hf}/status`);if(!e.ok)throw new Error("Failed");return e.json()},P1e=async()=>{const e=await fetch(`${hf}/schedule/demo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_jobs:10,num_machines:3})});if(!e.ok)throw new Error("Failed");return e.json()},C1e=async()=>{const e=await fetch(`${hf}/parameters/demo`,{method:"POST"});if(!e.ok)throw new Error("Failed");return e.json()},E1e=async()=>{const e=await fetch(`${hf}/pareto/demo`,{method:"POST"});if(!e.ok)throw new Error("Failed");return e.json()},O1e=async()=>{const e=await fetch(`${hf}/golden-runs`);if(!e.ok)throw new Error("Failed");return e.json()},nm=({label:e,value:t,icon:r,color:n,subtext:a})=>i.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${n}`,children:r}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:t}),i.jsx("p",{className:"text-sm text-zinc-400",children:e}),a&&i.jsx("p",{className:"text-xs text-zinc-500",children:a})]})]})}),T1e=({schedule:e})=>{const t=[...new Set(e.scheduled_jobs.map(a=>a.machine_id))],r=new Date(e.scheduled_jobs[0]?.start_time||new Date),n=t.map(a=>{const s=e.scheduled_jobs.filter(o=>o.machine_id===a);return{machine:a,jobs:s.map(o=>({job_id:o.job_id,start:(new Date(o.start_time).getTime()-r.getTime())/6e4,duration:(new Date(o.end_time).getTime()-new Date(o.start_time).getTime())/6e4,tardiness:o.tardiness_minutes}))}});return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"Makespan"}),i.jsxs("p",{className:"text-lg font-bold text-white",children:[e.total_makespan_minutes.toFixed(0)," min"]})]}),i.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"Tardiness Total"}),i.jsxs("p",{className:`text-lg font-bold ${e.total_tardiness>0?"text-red-400":"text-emerald-400"}`,children:[e.total_tardiness.toFixed(0)," min"]})]}),i.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"Solver"}),i.jsx("p",{className:"text-lg font-bold text-blue-400",children:e.solver_used.toUpperCase()})]}),i.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"Solve Time"}),i.jsxs("p",{className:"text-lg font-bold text-white",children:[e.solve_time_seconds.toFixed(2),"s"]})]})]}),i.jsxs("div",{className:"bg-zinc-900/50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Gantt Chart"}),n.map(({machine:a,jobs:s})=>i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"w-16 text-xs text-zinc-500 truncate",children:a}),i.jsx("div",{className:"flex-1 h-6 bg-zinc-800 rounded relative overflow-hidden",children:s.map((o,l)=>{const u=o.duration/e.total_makespan_minutes*100,d=o.start/e.total_makespan_minutes*100;return i.jsx("div",{className:`absolute h-full rounded ${o.tardiness>0?"bg-red-500/70":"bg-blue-500/70"}`,style:{left:`${d}%`,width:`${Math.max(u,2)}%`},title:`${o.job_id}: ${o.duration.toFixed(0)}min`},l)})})]},a))]}),i.jsxs("div",{className:"bg-zinc-900/50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Machine Utilization"}),i.jsx("div",{className:"h-32",children:i.jsx(E_,{width:"100%",height:"100%",children:i.jsxs(N8,{data:Object.entries(e.machine_utilization).map(([a,s])=>({machine:a,utilization:s*100})),children:[i.jsx($x,{strokeDasharray:"3 3",stroke:"#333"}),i.jsx(Po,{dataKey:"machine",tick:{fill:"#888",fontSize:10}}),i.jsx(Co,{domain:[0,100],tick:{fill:"#888",fontSize:10}}),i.jsx(Vn,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333"}}),i.jsx(zi,{dataKey:"utilization",fill:"#3b82f6",name:"Utilizao %"})]})})})]})]})},A1e=({solutions:e})=>{const t=e.map(r=>({time:r.objectives.time,defect:r.objectives.defect_rate*100,id:r.solution_id}));return i.jsx("div",{className:"h-64",children:i.jsx(E_,{width:"100%",height:"100%",children:i.jsxs(S1e,{margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx($x,{strokeDasharray:"3 3",stroke:"#333"}),i.jsx(Po,{dataKey:"time",name:"Time",tick:{fill:"#888",fontSize:10},label:{value:"Time (min)",position:"bottom",fill:"#888",fontSize:10}}),i.jsx(Co,{dataKey:"defect",name:"Defect %",tick:{fill:"#888",fontSize:10},label:{value:"Defect %",angle:-90,position:"left",fill:"#888",fontSize:10}}),i.jsx(Vn,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333"},formatter:(r,n)=>[r.toFixed(3),n]}),i.jsx(ff,{data:t,fill:"#8b5cf6"})]})})})},M1e=()=>{const[e,t]=O.useState("scheduling"),r=Nt(),{data:n}=xe({queryKey:["opt-status"],queryFn:k1e}),{data:a}=xe({queryKey:["golden-runs"],queryFn:O1e}),s=qe({mutationFn:P1e,onSuccess:()=>r.invalidateQueries({queryKey:["opt-status"]})}),o=qe({mutationFn:C1e}),l=qe({mutationFn:E1e}),u=[{id:"scheduling",label:"Scheduling",icon:i.jsx(_l,{className:"w-4 h-4"})},{id:"parameters",label:"Parameters",icon:i.jsx(Xr,{className:"w-4 h-4"})},{id:"pareto",label:"Pareto",icon:i.jsx(br,{className:"w-4 h-4"})},{id:"golden",label:"Golden Runs",icon:i.jsx(Hs,{className:"w-4 h-4"})}];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-zinc-900 to-zinc-950 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-violet-500/20 to-purple-500/20 rounded-xl",children:i.jsx(Ui,{className:"w-8 h-8 text-violet-500"})}),"Otimizao Matemtica"]}),i.jsx("p",{className:"text-zinc-400",children:"Scheduling avanado, otimizao de parmetros e anlise Pareto"})]})}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[i.jsx(nm,{label:"Time Predictor",value:n?.engines.time_prediction==="ml_pytorch"?"ML":"Base",icon:i.jsx(gi,{className:"w-5 h-5"}),color:"bg-blue-500/20 text-blue-400",subtext:n?.engines.time_prediction}),i.jsx(nm,{label:"Golden Runs",value:n?.engines.golden_runs||0,icon:i.jsx(Hs,{className:"w-5 h-5"}),color:"bg-amber-500/20 text-amber-400"}),i.jsx(nm,{label:"Scheduler",value:"CP-SAT",icon:i.jsx($i,{className:"w-5 h-5"}),color:"bg-emerald-500/20 text-emerald-400",subtext:"OR-Tools"}),i.jsx(nm,{label:"Multi-Objective",value:"NSGA-II",icon:i.jsx(br,{className:"w-5 h-5"}),color:"bg-purple-500/20 text-purple-400",subtext:"Pareto Frontier"})]}),i.jsx("div",{className:"flex gap-2 mb-6",children:u.map(d=>i.jsxs("button",{onClick:()=>t(d.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e===d.id?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"bg-zinc-800/50 text-zinc-400 hover:bg-zinc-700/50"}`,children:[d.icon,d.label]},d.id))}),i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl border border-zinc-800 p-6",children:[e==="scheduling"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(_l,{className:"w-5 h-5 text-blue-500"}),"Advanced Scheduling (CP-SAT)"]}),i.jsxs("button",{onClick:()=>s.mutate(),disabled:s.isPending,className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg",children:[s.isPending?i.jsx(us,{className:"w-4 h-4 animate-spin"}):i.jsx(vi,{className:"w-4 h-4"}),"Run Demo Schedule"]})]}),s.data?i.jsxs(i.Fragment,{children:[s.data.comparison&&i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Method Comparison"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(s.data.comparison).map(([d,h])=>i.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-lg",children:[i.jsx("p",{className:"font-medium text-white",children:d.toUpperCase()}),h.error?i.jsx("p",{className:"text-xs text-red-400",children:h.error}):i.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:[i.jsxs("p",{children:["Tardiness: ",h.tardiness.toFixed(0)," min"]}),i.jsxs("p",{children:["Makespan: ",h.makespan.toFixed(0)," min"]})]})]},d))})]}),i.jsx(T1e,{schedule:s.data.schedule})]}):i.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[i.jsx(_l,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Execute o demo para ver o scheduling otimizado"})]})]}),e==="parameters"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(Xr,{className:"w-5 h-5 text-emerald-500"}),"Parameter Optimization (Bayesian/GA)"]}),i.jsxs("button",{onClick:()=>o.mutate(),disabled:o.isPending,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 rounded-lg",children:[o.isPending?i.jsx(us,{className:"w-4 h-4 animate-spin"}):i.jsx(zr,{className:"w-4 h-4"}),"Optimize Parameters"]})]}),o.data?i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Optimal Parameters"}),i.jsx("div",{className:"space-y-3",children:Object.entries(o.data.result.optimal_parameters).map(([d,h])=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-zinc-300",children:d}),i.jsx("span",{className:"font-mono text-emerald-400",children:h.toFixed(3)})]},d))})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Results"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-zinc-400",children:"Improvement"}),i.jsxs("span",{className:`font-bold ${o.data.result.improvement_percent>0?"text-emerald-400":"text-zinc-400"}`,children:[o.data.result.improvement_percent.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-zinc-400",children:"Iterations"}),i.jsx("span",{className:"text-white",children:o.data.result.iterations_used})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-zinc-400",children:"Predicted Time"}),i.jsx("span",{className:"text-white",children:o.data.result.predicted_time.toFixed(2)})]})]})]})]}):i.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[i.jsx(Xr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Execute a otimizao para encontrar parmetros timos"})]})]}),e==="pareto"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(br,{className:"w-5 h-5 text-purple-500"}),"Multi-Objective Pareto (NSGA-II)"]}),i.jsxs("button",{onClick:()=>l.mutate(),disabled:l.isPending,className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg",children:[l.isPending?i.jsx(us,{className:"w-4 h-4 animate-spin"}):i.jsx(Vp,{className:"w-4 h-4"}),"Generate Pareto Frontier"]})]}),l.data?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[i.jsxs("h4",{className:"text-sm font-medium text-zinc-400 mb-3",children:["Pareto Frontier (",l.data.solutions.length," solutions)"]}),i.jsx(A1e,{solutions:l.data.solutions}),i.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Trade-off: Time vs Defect Rate  Cada ponto  uma soluo no-dominada"})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Sample Solutions"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-zinc-500 border-b border-zinc-700",children:[i.jsx("th",{className:"text-left py-2",children:"Solution"}),i.jsx("th",{className:"text-right py-2",children:"Time"}),i.jsx("th",{className:"text-right py-2",children:"Defect %"}),i.jsx("th",{className:"text-right py-2",children:"Speed"}),i.jsx("th",{className:"text-right py-2",children:"Temp"})]})}),i.jsx("tbody",{children:l.data.solutions.slice(0,8).map(d=>i.jsxs("tr",{className:"border-b border-zinc-800",children:[i.jsx("td",{className:"py-2 font-mono text-xs text-zinc-500",children:d.solution_id}),i.jsx("td",{className:"py-2 text-right text-white",children:d.objectives.time.toFixed(1)}),i.jsxs("td",{className:"py-2 text-right text-white",children:[(d.objectives.defect_rate*100).toFixed(2),"%"]}),i.jsx("td",{className:"py-2 text-right text-zinc-400",children:d.parameters.speed?.toFixed(2)||"-"}),i.jsx("td",{className:"py-2 text-right text-zinc-400",children:d.parameters.temperature?.toFixed(0)||"-"})]},d.solution_id))})]})})]})]}):i.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[i.jsx(br,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Gere a fronteira Pareto para anlise multi-objetivo"})]})]}),e==="golden"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(Hs,{className:"w-5 h-5 text-amber-500"}),"Golden Runs (Best Performance Records)"]})}),a&&a.golden_runs.length>0?i.jsx("div",{className:"space-y-3",children:a.golden_runs.map(d=>i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-amber-500/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hs,{className:"w-5 h-5 text-amber-500"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-white",children:[d.product_id,"  ",d.operation_id]}),i.jsx("p",{className:"text-xs text-zinc-500",children:d.machine_id})]})]}),i.jsx("span",{className:"text-xs text-zinc-500",children:new Date(d.recorded_at).toLocaleDateString("pt-PT")})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"Cycle Time"}),i.jsxs("p",{className:"font-bold text-emerald-400",children:[d.cycle_time_minutes.toFixed(1)," min"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"Defect Rate"}),i.jsxs("p",{className:"font-bold text-emerald-400",children:[(d.defect_rate*100).toFixed(2),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"OEE"}),i.jsxs("p",{className:"font-bold text-emerald-400",children:[(d.oee*100).toFixed(1),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-zinc-500",children:"Parameters"}),i.jsx("p",{className:"text-xs text-zinc-400",children:Object.entries(d.parameters).map(([h,m])=>`${h}=${m}`).join(", ")})]})]})]},d.run_id))}):i.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[i.jsx(Hs,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhum golden run registado"}),i.jsx("p",{className:"text-sm mt-1",children:"Golden runs so registados automaticamente quando h um novo recorde de performance"})]})]})]}),i.jsxs("div",{className:"mt-8 text-center text-xs text-zinc-600",children:[i.jsx("p",{children:"Otimizao matemtica com CP-SAT, Bayesian Optimization, GA e NSGA-II"}),i.jsx("p",{className:"mt-1",children:"R&D / SIFIDE: WP4 - Learning Scheduler & Advanced Optimization"})]})]})})};async function R1e(){const e=await fetch(`${Ce}/rd/status`);return e.ok?e.json():{available:!1,version:"0.0.0",work_packages:[],experiments_summary:{total_experiments:0,by_work_package:{}}}}async function D1e(e){const t=`${Ce}/rd/experiments`,r=await fetch(t);return r.ok?r.json():[]}async function I1e(e){const t=await fetch(`${Ce}/rd/wp1/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Erro ao executar WP1");return t.json()}async function $1e(){const e=await fetch(`${Ce}/rd/wp2/suggestions?time_window_days=30`);return e.ok?e.json():[]}async function F1e(e){const t=await fetch(`${Ce}/rd/wp2/evaluate-batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Erro ao executar WP2");return t.json()}async function L1e(e){const t=await fetch(`${Ce}/rd/wp3/compare`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Erro ao executar WP3");return t.json()}async function z1e(e){const t=await fetch(`${Ce}/rd/wp4/run-episode`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Erro ao executar WP4");return t.json()}async function q1e(e,t){const r=await fetch(`${Ce}/rd/report/summary?start=${e}&end=${t}`);if(!r.ok)throw new Error("Erro ao obter resumo R&D");return r.json()}async function B1e(){const e=await fetch(`${Ce}/rd/report/years`);return e.ok?e.json():{years:[new Date().getFullYear()]}}async function U1e(e,t,r){const n=await fetch(`${Ce}/rd/report/export?start=${e}&end=${t}&format=${r}`);if(!n.ok)throw new Error("Erro ao exportar relatrio");const a=await n.blob(),s=`rd_report_${e}_${t}.${r}`,o=window.URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=s,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(o),document.body.removeChild(l)}const fl=({active:e,onClick:t,children:r})=>i.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e?"bg-nikufra text-background":"bg-background border border-border text-text-muted hover:border-nikufra/50"}`,children:r}),Hn=({title:e,subtitle:t,children:r,color:n})=>i.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-2xl border bg-surface p-6 ${n?`border-${n}/40`:"border-border"}`,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-bold text-text-primary",children:e}),t&&i.jsx("p",{className:"text-xs text-text-muted",children:t})]}),r]}),Qe=({label:e,value:t,color:r="default"})=>{const n={default:"border-border bg-background",success:"border-green-500/40 bg-green-500/10",warning:"border-amber-500/40 bg-amber-500/10",danger:"border-red-500/40 bg-red-500/10"};return i.jsxs("div",{className:`rounded-xl border p-4 ${n[r]}`,children:[i.jsx("p",{className:"text-xs text-text-muted",children:e}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:t})]})},V1e=({experiment:e})=>{const t={finished:"bg-green-500/20 text-green-400",running:"bg-amber-500/20 text-amber-400",failed:"bg-red-500/20 text-red-400",created:"bg-blue-500/20 text-blue-400"};return i.jsxs("div",{className:"rounded-lg border border-border/50 bg-background p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-text-primary text-sm",children:e.name}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${t[e.status]||"bg-gray-500/20 text-gray-400"}`,children:e.status})]}),i.jsx("p",{className:"text-xs text-text-muted",children:e.wp}),e.conclusion&&i.jsxs("p",{className:"text-xs text-text-muted mt-2 italic",children:['"',e.conclusion,'"']})]})},W1e=()=>{const[e,t]=O.useState(["FIFO","SPT","EDD"]),[r,n]=O.useState("FIFO"),[a,s]=O.useState(null),o=Nt(),l=qe({mutationFn:()=>I1e({name:`WP1_Routing_${Date.now()}`,policies:e,baseline_policy:r}),onSuccess:d=>{s(d),o.invalidateQueries({queryKey:["rd-experiments-all"]}),qt.success("WP1 Experiment completed!")},onError:()=>qt.error("Error running WP1 experiment")}),u=["FIFO","SPT","EDD","CR","WSPT","MILP","CPSAT"];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Hn,{title:"WP1 - Routing Intelligence",subtitle:"Compare dispatching rules and optimization engines",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-text-muted mb-2",children:"Select policies to compare:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>i.jsxs("label",{className:`cursor-pointer px-3 py-1.5 rounded-lg text-sm transition ${e.includes(d)?"bg-nikufra text-background":"bg-background border border-border text-text-muted hover:border-nikufra/50"}`,children:[i.jsx("input",{type:"checkbox",checked:e.includes(d),onChange:h=>{h.target.checked?t([...e,d]):t(e.filter(m=>m!==d))},className:"hidden"}),d]},d))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-text-muted",children:"Baseline Policy"}),i.jsx("select",{value:r,onChange:d=>n(d.target.value),className:"w-full mt-1 rounded-lg border border-border bg-background p-2 text-sm text-text-primary",children:e.map(d=>i.jsx("option",{value:d,children:d},d))})]}),i.jsx("button",{onClick:()=>l.mutate(),disabled:l.isPending||e.length<2,className:"w-full rounded-xl bg-nikufra px-4 py-3 font-semibold text-background transition hover:bg-nikufra-hover disabled:opacity-50",children:l.isPending?" Running...":" Run WP1 Experiment"})]}),a&&i.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[i.jsx("p",{className:"text-sm font-semibold text-text-primary mb-3",children:"Results:"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsx(Qe,{label:"Best Policy",value:a.best_policy||"-",color:"success"}),i.jsx(Qe,{label:"Improvement",value:`${a.improvement_vs_baseline_pct?.toFixed(1)||0}%`,color:"success"}),i.jsx(Qe,{label:"Time (sec)",value:a.total_time_sec.toFixed(1)})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-xs",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-text-muted",children:[i.jsx("th",{className:"text-left py-2",children:"Policy"}),i.jsx("th",{className:"text-right py-2",children:"Makespan (h)"}),i.jsx("th",{className:"text-right py-2",children:"Tardiness (h)"}),i.jsx("th",{className:"text-right py-2",children:"OTD"}),i.jsx("th",{className:"text-right py-2",children:"vs Baseline"})]})}),i.jsx("tbody",{children:a.results.map(d=>i.jsxs("tr",{className:`border-b border-border/50 ${d.policy===a.best_policy?"bg-green-500/10":""}`,children:[i.jsx("td",{className:"py-2 font-medium text-text-primary",children:d.policy}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:d.makespan_hours.toFixed(1)}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:d.tardiness_hours.toFixed(1)}),i.jsxs("td",{className:"text-right py-2 text-text-muted",children:[(d.otd_rate*100).toFixed(1),"%"]}),i.jsx("td",{className:`text-right py-2 ${(d.vs_baseline_makespan_pct||0)<0?"text-green-400":"text-red-400"}`,children:d.vs_baseline_makespan_pct!=null?`${d.vs_baseline_makespan_pct.toFixed(1)}%`:"-"})]},d.policy))})]})}),a.conclusion&&i.jsxs("p",{className:"text-sm text-text-muted italic mt-4",children:['"',a.conclusion,'"']})]})]}),i.jsxs("div",{className:"p-4 rounded-xl border border-nikufra/30 bg-nikufra/5",children:[i.jsx("p",{className:"text-xs text-nikufra font-semibold",children:" Research Hypothesis H1.1"}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Dynamic routing with intelligent heuristics can reduce makespan by 8% compared to FIFO baseline."})]})]})},H1e=()=>{const[e,t]=O.useState(30),[r,n]=O.useState(null),a=Nt(),{data:s}=xe({queryKey:["wp2-suggestions"],queryFn:$1e,staleTime:3e4}),o=qe({mutationFn:()=>F1e({name:`WP2_Batch_${Date.now()}`,time_window_days:e}),onSuccess:u=>{n(u),a.invalidateQueries({queryKey:["wp2-suggestions"]}),a.invalidateQueries({queryKey:["rd-experiments-all"]}),qt.success("WP2 Evaluation completed!")},onError:()=>qt.error("Error running WP2 evaluation")}),l={BENEFICIAL:"bg-green-500/20 text-green-400",NEUTRAL:"bg-gray-500/20 text-gray-400",HARMFUL:"bg-red-500/20 text-red-400",UNKNOWN:"bg-blue-500/20 text-blue-400"};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Hn,{title:"WP2 - Suggestion Evaluation",subtitle:"Evaluate quality and impact of AI-generated suggestions",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-text-muted",children:"Time Window (days)"}),i.jsxs("select",{value:e,onChange:u=>t(Number(u.target.value)),className:"w-full mt-1 rounded-lg border border-border bg-background p-2 text-sm text-text-primary",children:[i.jsx("option",{value:7,children:"Last 7 days"}),i.jsx("option",{value:30,children:"Last 30 days"}),i.jsx("option",{value:90,children:"Last 90 days"})]})]}),i.jsx("button",{onClick:()=>o.mutate(),disabled:o.isPending,className:"w-full rounded-xl bg-purple-500 px-4 py-3 font-semibold text-background transition hover:bg-purple-600 disabled:opacity-50",children:o.isPending?" Evaluating...":" Evaluate All Suggestions"})]}),r&&i.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[i.jsx(Qe,{label:"Total",value:r.total_suggestions}),i.jsx(Qe,{label:"Beneficial",value:r.beneficial_count,color:"success"}),i.jsx(Qe,{label:"Neutral",value:r.neutral_count}),i.jsx(Qe,{label:"Harmful",value:r.harmful_count,color:"danger"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx(Qe,{label:"Precision",value:`${(r.overall_precision*100).toFixed(1)}%`}),i.jsx(Qe,{label:"Recall",value:`${(r.overall_recall*100).toFixed(1)}%`}),i.jsx(Qe,{label:"F1 Score",value:r.f1_score.toFixed(2),color:"success"})]}),r.conclusion&&i.jsxs("p",{className:"text-sm text-text-muted italic mt-4",children:['"',r.conclusion,'"']})]})]}),i.jsx(Hn,{title:"Suggestion Log",subtitle:"Recent AI-generated suggestions",children:s&&s.length>0?i.jsx("div",{className:"overflow-x-auto max-h-64 overflow-y-auto",children:i.jsxs("table",{className:"w-full text-xs",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-text-muted sticky top-0 bg-surface",children:[i.jsx("th",{className:"text-left py-2",children:"ID"}),i.jsx("th",{className:"text-left py-2",children:"Type"}),i.jsx("th",{className:"text-left py-2",children:"Title"}),i.jsx("th",{className:"text-center py-2",children:"Label"}),i.jsx("th",{className:"text-right py-2",children:" OTD"})]})}),i.jsx("tbody",{children:s.map(u=>i.jsxs("tr",{className:"border-b border-border/50",children:[i.jsxs("td",{className:"py-2 text-text-muted",children:["#",u.suggestion_id]}),i.jsx("td",{className:"py-2 text-text-muted",children:u.suggestion_type}),i.jsx("td",{className:"py-2 font-medium text-text-primary truncate max-w-[200px]",children:u.title}),i.jsx("td",{className:"py-2 text-center",children:i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${l[u.label]}`,children:u.label})}),i.jsx("td",{className:`text-right py-2 ${(u.delta_otd_pct||0)>0?"text-green-400":(u.delta_otd_pct||0)<0?"text-red-400":"text-text-muted"}`,children:u.delta_otd_pct!=null?`${u.delta_otd_pct.toFixed(1)}%`:"-"})]},u.suggestion_id))})]})}):i.jsx("p",{className:"text-sm text-text-muted",children:"No suggestions found. Run batch evaluation to generate demo data."})}),i.jsxs("div",{className:"p-4 rounded-xl border border-purple-500/30 bg-purple-500/5",children:[i.jsx("p",{className:"text-xs text-purple-400 font-semibold",children:" Research Hypothesis H2.1"}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"AI-generated suggestions achieve 70% precision and provide actionable insights for production optimization."})]})]})},K1e=()=>{const[e,t]=O.useState(null),r=Nt(),n=[{name:"Conservative",rop_multiplier:1.3,safety_stock_multiplier:1.5,target_service_level:.98},{name:"Baseline",rop_multiplier:1,safety_stock_multiplier:1,target_service_level:.95},{name:"Lean",rop_multiplier:.8,safety_stock_multiplier:.7,target_service_level:.9}],a=new Date,s=new Date(a);s.setDate(s.getDate()+30);const o=qe({mutationFn:()=>L1e({name:`WP3_Comparison_${Date.now()}`,policies:n,baseline_name:"Baseline",horizon:{start:a.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}}),onSuccess:l=>{t(l),r.invalidateQueries({queryKey:["rd-experiments-all"]}),qt.success("WP3 Experiment completed!")},onError:()=>qt.error("Error running WP3 experiment")});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Hn,{title:"WP3 - Inventory & Capacity",subtitle:"Compare inventory policies and optimize stock levels",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-3 gap-3",children:n.map(l=>i.jsxs("div",{className:"p-3 rounded-lg border border-border bg-background",children:[i.jsx("p",{className:"font-semibold text-text-primary text-sm",children:l.name}),i.jsxs("p",{className:"text-xs text-text-muted",children:["ROP: ",l.rop_multiplier,"x"]}),i.jsxs("p",{className:"text-xs text-text-muted",children:["SS: ",l.safety_stock_multiplier,"x"]}),i.jsxs("p",{className:"text-xs text-text-muted",children:["SL: ",(l.target_service_level*100).toFixed(0),"%"]})]},l.name))}),i.jsx("button",{onClick:()=>o.mutate(),disabled:o.isPending,className:"w-full rounded-xl bg-amber-500 px-4 py-3 font-semibold text-background transition hover:bg-amber-600 disabled:opacity-50",children:o.isPending?" Running...":" Run WP3 Comparison"})]}),e&&i.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[i.jsx("p",{className:"text-sm font-semibold text-text-primary mb-3",children:"Results:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsx(Qe,{label:"Best Policy",value:e.best_policy||"-",color:"success"}),i.jsx(Qe,{label:"Time (sec)",value:e.total_time_sec.toFixed(1)})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-xs",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-text-muted",children:[i.jsx("th",{className:"text-left py-2",children:"Policy"}),i.jsx("th",{className:"text-right py-2",children:"Service Level"}),i.jsx("th",{className:"text-right py-2",children:"Stockouts"}),i.jsx("th",{className:"text-right py-2",children:"Cost ()"}),i.jsx("th",{className:"text-right py-2",children:"OTD"}),i.jsx("th",{className:"text-right py-2",children:"vs Baseline"})]})}),i.jsx("tbody",{children:e.results.map(l=>i.jsxs("tr",{className:`border-b border-border/50 ${l.policy_name===e.best_policy?"bg-green-500/10":""}`,children:[i.jsx("td",{className:"py-2 font-medium text-text-primary",children:l.policy_name}),i.jsxs("td",{className:"text-right py-2 text-text-muted",children:[l.inventory_kpis.service_level_pct.toFixed(1),"%"]}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:l.inventory_kpis.stockout_days}),i.jsxs("td",{className:"text-right py-2 text-text-muted",children:["",l.total_cost_eur.toLocaleString()]}),i.jsxs("td",{className:"text-right py-2 text-text-muted",children:[(l.scheduling_kpis.avg_otd_rate*100).toFixed(1),"%"]}),i.jsx("td",{className:`text-right py-2 ${(l.vs_baseline_cost_pct||0)<0?"text-green-400":"text-red-400"}`,children:l.vs_baseline_cost_pct!=null?`${l.vs_baseline_cost_pct.toFixed(1)}%`:"-"})]},l.policy_name))})]})}),e.recommendation&&i.jsxs("p",{className:"text-sm text-text-muted italic mt-4",children:['"',e.recommendation,'"']})]})]}),i.jsxs("div",{className:"p-4 rounded-xl border border-amber-500/30 bg-amber-500/5",children:[i.jsx("p",{className:"text-xs text-amber-400 font-semibold",children:" Research Hypothesis H3.1"}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Dynamic ROP with capacity-aware optimization reduces stockouts by 20% while maintaining service levels."})]})]})},G1e=()=>{const[e,t]=O.useState(["FIFO","SPT","EDD"]),[r,n]=O.useState("FIFO"),[a,s]=O.useState("epsilon_greedy"),[o,l]=O.useState(10),[u,d]=O.useState(.1),[h,m]=O.useState(null),p=Nt(),g=qe({mutationFn:()=>z1e({name:`WP4_Bandit_${Date.now()}`,policies:e,baseline_policy:r,num_episodes:o,bandit_type:a,epsilon:u,reward_type:"combined"}),onSuccess:v=>{m(v),p.invalidateQueries({queryKey:["rd-experiments-all"]}),qt.success("WP4 Experiment completed!")},onError:()=>qt.error("Error running WP4 experiment")}),y=["FIFO","SPT","EDD","CR","WSPT"];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Hn,{title:"WP4 - Learning Scheduler",subtitle:"Multi-Armed Bandit for dynamic policy selection",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-text-muted mb-2",children:"Select policies for bandit:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(v=>i.jsxs("label",{className:`cursor-pointer px-3 py-1.5 rounded-lg text-sm transition ${e.includes(v)?"bg-green-500 text-background":"bg-background border border-border text-text-muted hover:border-green-500/50"}`,children:[i.jsx("input",{type:"checkbox",checked:e.includes(v),onChange:b=>{b.target.checked?t([...e,v]):t(e.filter(w=>w!==v))},className:"hidden"}),v]},v))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-text-muted",children:"Bandit Type"}),i.jsxs("select",{value:a,onChange:v=>s(v.target.value),className:"w-full mt-1 rounded-lg border border-border bg-background p-2 text-sm text-text-primary",children:[i.jsx("option",{value:"epsilon_greedy",children:"Epsilon-Greedy"}),i.jsx("option",{value:"ucb1",children:"UCB1"}),i.jsx("option",{value:"thompson_sampling",children:"Thompson Sampling"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-text-muted",children:"Episodes"}),i.jsxs("select",{value:o,onChange:v=>l(Number(v.target.value)),className:"w-full mt-1 rounded-lg border border-border bg-background p-2 text-sm text-text-primary",children:[i.jsx("option",{value:5,children:"5 (quick)"}),i.jsx("option",{value:10,children:"10 (demo)"}),i.jsx("option",{value:20,children:"20 (standard)"}),i.jsx("option",{value:50,children:"50 (extensive)"})]})]})]}),a==="epsilon_greedy"&&i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm text-text-muted",children:["Epsilon (exploration rate): ",u]}),i.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:u,onChange:v=>d(Number(v.target.value)),className:"w-full mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-text-muted",children:"Baseline Policy"}),i.jsx("select",{value:r,onChange:v=>n(v.target.value),className:"w-full mt-1 rounded-lg border border-border bg-background p-2 text-sm text-text-primary",children:e.map(v=>i.jsx("option",{value:v,children:v},v))})]}),i.jsx("button",{onClick:()=>g.mutate(),disabled:g.isPending||e.length<2,className:"w-full rounded-xl bg-green-500 px-4 py-3 font-semibold text-background transition hover:bg-green-600 disabled:opacity-50",children:g.isPending?" Training...":" Run WP4 Experiment"})]}),h&&i.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[i.jsx("p",{className:"text-sm font-semibold text-text-primary mb-3",children:"Results:"}),i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[i.jsx(Qe,{label:"Best Policy",value:h.best_policy,color:"success"}),i.jsx(Qe,{label:"Avg Reward",value:h.avg_reward.toFixed(4)}),i.jsx(Qe,{label:"Avg Regret",value:h.avg_regret.toFixed(4)}),i.jsx(Qe,{label:"Cumulative Regret",value:h.cumulative_regret.toFixed(2),color:"warning"})]}),i.jsx("p",{className:"text-xs font-semibold text-text-muted mb-2",children:"Policy Statistics:"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-xs",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-text-muted",children:[i.jsx("th",{className:"text-left py-2",children:"Policy"}),i.jsx("th",{className:"text-right py-2",children:"Pulls"}),i.jsx("th",{className:"text-right py-2",children:"Avg Reward"}),i.jsx("th",{className:"text-right py-2",children:"Std"}),i.jsx("th",{className:"text-right py-2",children:"UCB"})]})}),i.jsx("tbody",{children:h.policy_stats.map(v=>i.jsxs("tr",{className:`border-b border-border/50 ${v.policy===h.best_policy?"bg-green-500/10":""}`,children:[i.jsx("td",{className:"py-2 font-medium text-text-primary",children:v.policy}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:v.num_pulls}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:v.avg_reward.toFixed(4)}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:v.std_reward.toFixed(4)}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:v.ucb_value<1e3?v.ucb_value.toFixed(4):""})]},v.policy))})]})}),i.jsx("p",{className:"text-xs font-semibold text-text-muted mt-4 mb-2",children:"Episode Rewards:"}),i.jsx("div",{className:"flex items-end gap-1 h-20",children:h.episodes.map(v=>i.jsx("div",{className:`flex-1 rounded-t ${v.reward>0?"bg-green-500/60":"bg-red-500/60"}`,style:{height:`${Math.max(10,Math.min(100,(v.reward+1)*50))}%`},title:`Episode ${v.episode_num}: ${v.policy_selected} (r=${v.reward.toFixed(3)})`},v.episode_num))}),h.conclusion&&i.jsxs("p",{className:"text-sm text-text-muted italic mt-4",children:['"',h.conclusion,'"']})]})]}),i.jsxs("div",{className:"p-4 rounded-xl border border-green-500/30 bg-green-500/5",children:[i.jsx("p",{className:"text-xs text-green-400 font-semibold",children:" Research Hypothesis H4.1"}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Multi-Armed Bandit policies can adaptively learn the best dispatching rule and minimize regret over time."})]})]})},Y1e=()=>{const e=new Date().getFullYear(),[t,r]=O.useState(e),[n,a]=O.useState(null),[s,o]=O.useState(!1),{data:l}=xe({queryKey:["rd-report-years"],queryFn:B1e,staleTime:6e4}),u=async()=>{o(!0);try{const p=`${t}-01-01`,g=`${t}-12-31`,y=await q1e(p,g);a(y),qt.success("Relatrio carregado!")}catch{qt.error("Erro ao carregar relatrio")}finally{o(!1)}},d=async p=>{try{const g=`${t}-01-01`,y=`${t}-12-31`;await U1e(g,y,p),qt.success(`Relatrio ${p.toUpperCase()} exportado!`)}catch{qt.error("Erro ao exportar relatrio")}},h=l?.years||[e,e-1],m={SUPPORTED:"bg-green-500/20 text-green-400 border-green-500/40",PARTIAL:"bg-amber-500/20 text-amber-400 border-amber-500/40",INSUFFICIENT_DATA:"bg-gray-500/20 text-gray-400 border-gray-500/40"};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(Hn,{title:"Relatrio SIFIDE",subtitle:"Exportar documentao de I&D para dossi fiscal",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-end gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-sm text-text-muted",children:"Ano Fiscal"}),i.jsx("select",{value:t,onChange:p=>r(Number(p.target.value)),className:"w-full mt-1 rounded-lg border border-border bg-background p-2 text-sm text-text-primary",children:h.map(p=>i.jsx("option",{value:p,children:p},p))})]}),i.jsx("button",{onClick:u,disabled:s,className:"rounded-xl bg-nikufra px-6 py-2.5 font-semibold text-background transition hover:bg-nikufra-hover disabled:opacity-50",children:s?" A carregar...":" Carregar Resumo"})]}),n&&i.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[i.jsx("button",{onClick:()=>d("json"),className:"flex-1 rounded-xl border border-blue-500/50 bg-blue-500/10 px-4 py-3 text-sm font-semibold text-blue-400 transition hover:bg-blue-500/20",children:" Exportar JSON"}),i.jsx("button",{onClick:()=>d("pdf"),className:"flex-1 rounded-xl border border-red-500/50 bg-red-500/10 px-4 py-3 text-sm font-semibold text-red-400 transition hover:bg-red-500/20",children:" Exportar PDF"})]})]})}),n&&i.jsxs(i.Fragment,{children:[n.is_demo&&i.jsx("div",{className:"rounded-xl border border-amber-500/40 bg-amber-500/10 p-4",children:i.jsxs("p",{className:"text-sm text-amber-400",children:[" ",i.jsx("strong",{children:"Dados de demonstrao."})," Execute experincias nas tabs WP1-WP4 para gerar dados reais."]})}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsx(Qe,{label:"Total Experincias",value:n.total_experiments,color:"success"}),i.jsx(Qe,{label:"Perodo",value:`${t}`}),i.jsx(Qe,{label:"Gerado em",value:n.generated_at.slice(0,10)}),i.jsx(Qe,{label:"Work Packages",value:"4"})]}),i.jsx(Hn,{title:"Resumo das Hipteses",subtitle:"Estado das hipteses de investigao",children:i.jsx("div",{className:"space-y-3",children:n.hypotheses_summary.map(p=>i.jsxs("div",{className:"rounded-lg border border-border/50 bg-background p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"font-semibold text-text-primary text-sm",children:[p.wp,": ",p.hypothesis]}),i.jsx("span",{className:`px-2 py-0.5 rounded text-xs border ${m[p.result]||m.PARTIAL}`,children:p.result})]}),i.jsx("p",{className:"text-xs text-text-muted",children:p.evidence})]},p.wp))})}),i.jsxs(Hn,{title:"WP1 - Routing Dinmico",subtitle:`${n.wp1.num_experiments} experincias`,color:"nikufra",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsx(Qe,{label:"Melhoria Makespan",value:`${n.wp1.avg_makespan_improvement_pct.toFixed(1)}%`,color:"success"}),i.jsx(Qe,{label:"Melhor Poltica",value:n.wp1.best_policy}),i.jsx(Qe,{label:"Mx. Melhoria",value:`${n.wp1.best_makespan_improvement_pct.toFixed(1)}%`})]}),i.jsxs("p",{className:"text-xs text-text-muted",children:["Polticas testadas: ",n.wp1.policies_tested.join(", ")]})]}),i.jsxs(Hn,{title:"WP2 - Avaliao de Sugestes",subtitle:`${n.wp2.num_suggestions_evaluated} sugestes avaliadas`,color:"purple-500",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[i.jsx(Qe,{label:"Benficas",value:`${n.wp2.pct_beneficial.toFixed(0)}%`,color:"success"}),i.jsx(Qe,{label:"Neutras",value:`${n.wp2.pct_neutral.toFixed(0)}%`}),i.jsx(Qe,{label:"Prejudiciais",value:`${n.wp2.pct_harmful.toFixed(0)}%`,color:"danger"}),i.jsx(Qe,{label:" OTD Mdio",value:`${n.wp2.avg_otd_delta.toFixed(1)}%`})]}),i.jsxs("div",{className:"flex h-8 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-green-500 flex items-center justify-center text-xs text-white font-semibold",style:{width:`${n.wp2.pct_beneficial}%`},children:n.wp2.pct_beneficial>10&&`${n.wp2.pct_beneficial.toFixed(0)}%`}),i.jsx("div",{className:"bg-gray-500 flex items-center justify-center text-xs text-white font-semibold",style:{width:`${n.wp2.pct_neutral}%`},children:n.wp2.pct_neutral>10&&`${n.wp2.pct_neutral.toFixed(0)}%`}),i.jsx("div",{className:"bg-red-500 flex items-center justify-center text-xs text-white font-semibold",style:{width:`${n.wp2.pct_harmful}%`},children:n.wp2.pct_harmful>10&&`${n.wp2.pct_harmful.toFixed(0)}%`})]})]}),i.jsxs(Hn,{title:"WP3 - Inventrio + Capacidade",subtitle:`${n.wp3.num_experiments} cenrios simulados`,color:"amber-500",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsx(Qe,{label:"Melhor Poltica",value:n.wp3.best_policy,color:"success"}),i.jsx(Qe,{label:"Custo Mdio",value:`${n.wp3.avg_total_cost.toLocaleString()}`}),i.jsx(Qe,{label:"OTD Mdio",value:`${n.wp3.avg_otd.toFixed(1)}%`})]}),n.wp3.policy_comparison.length>0&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-xs",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-text-muted",children:[i.jsx("th",{className:"text-left py-2",children:"Poltica"}),i.jsx("th",{className:"text-right py-2",children:"Custo Mdio"}),i.jsx("th",{className:"text-right py-2",children:"Stockouts"}),i.jsx("th",{className:"text-right py-2",children:"OTD"}),i.jsx("th",{className:"text-right py-2",children:"Runs"})]})}),i.jsx("tbody",{children:n.wp3.policy_comparison.map(p=>i.jsxs("tr",{className:`border-b border-border/50 ${p.policy===n.wp3.best_policy?"bg-green-500/10":""}`,children:[i.jsx("td",{className:"py-2 font-medium text-text-primary",children:p.policy}),i.jsxs("td",{className:"text-right py-2 text-text-muted",children:["",p.avg_cost.toLocaleString()]}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:p.avg_stockouts.toFixed(1)}),i.jsxs("td",{className:"text-right py-2 text-text-muted",children:[p.avg_otd_pct.toFixed(1),"%"]}),i.jsx("td",{className:"text-right py-2 text-text-muted",children:p.num_runs})]},p.policy))})]})})]}),i.jsxs(Hn,{title:"WP4 - Learning Scheduler",subtitle:`${n.wp4.num_episodes} episdios`,color:"green-500",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[i.jsx(Qe,{label:"Reward Mdio",value:n.wp4.avg_reward.toFixed(3)}),i.jsx(Qe,{label:"Regret Mdio",value:n.wp4.avg_regret.toFixed(3)}),i.jsx(Qe,{label:"Melhor Poltica",value:n.wp4.best_observed_policy,color:"success"}),i.jsx(Qe,{label:"Convergncia",value:n.wp4.convergence_episode?`Ep. ${n.wp4.convergence_episode}`:"N/A"})]}),i.jsxs("p",{className:"text-xs text-text-muted",children:["Polticas no bandit: ",n.wp4.policies_in_bandit.join(", ")]})]}),i.jsxs("div",{className:"p-4 rounded-xl border border-nikufra/30 bg-nikufra/5",children:[i.jsx("p",{className:"text-xs text-nikufra font-semibold",children:" Documentao SIFIDE"}),i.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Este relatrio pode ser anexado ao dossi de candidatura SIFIDE como evidncia de: atividades experimentais sistemticas, incerteza tcnica nas solues implementadas, e evoluo incremental das funcionalidades de otimizao."})]})]})]})},Q1e=({status:e})=>{const{data:t}=xe({queryKey:["rd-experiments-all"],queryFn:()=>D1e(),staleTime:3e4});return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:`rounded-xl border p-4 ${e?.available?"border-green-500/40 bg-green-500/10":"border-red-500/40 bg-red-500/10"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold text-text-primary",children:e?.available?" R&D Module Active":" R&D Module Unavailable"}),i.jsxs("span",{className:"text-xs text-text-muted",children:["v",e?.version]})]})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-xl border border-nikufra/40 bg-nikufra/10 p-4",children:[i.jsx("p",{className:"text-xs font-semibold text-nikufra",children:"WP1 - Routing"}),i.jsx("p",{className:"text-sm text-text-primary mt-1",children:"Dynamic routing + ML surpassing fixed APS?"})]}),i.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-purple-500/10 p-4",children:[i.jsx("p",{className:"text-xs font-semibold text-purple-400",children:"WP2 - Suggestions"}),i.jsx("p",{className:"text-sm text-text-primary mt-1",children:"AI suggestions credible and useful?"})]}),i.jsxs("div",{className:"rounded-xl border border-amber-500/40 bg-amber-500/10 p-4",children:[i.jsx("p",{className:"text-xs font-semibold text-amber-400",children:"WP3 - Inventory"}),i.jsx("p",{className:"text-sm text-text-primary mt-1",children:"Joint inventory + capacity optimization?"})]}),i.jsxs("div",{className:"rounded-xl border border-green-500/40 bg-green-500/10 p-4",children:[i.jsx("p",{className:"text-xs font-semibold text-green-400",children:"WP4 - Learning"}),i.jsx("p",{className:"text-sm text-text-primary mt-1",children:"Bandit scheduler competitive with heuristics?"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsx(Qe,{label:"Total Experiments",value:e?.experiments_summary?.total_experiments||0}),i.jsx(Qe,{label:"WP1",value:e?.experiments_summary?.by_work_package?.WP1_ROUTING?.total||0}),i.jsx(Qe,{label:"WP2",value:e?.experiments_summary?.by_work_package?.WP2_SUGGESTIONS?.total||0}),i.jsx(Qe,{label:"WP3+WP4",value:(e?.experiments_summary?.by_work_package?.WP3_INVENTORY_CAPACITY?.total||0)+(e?.experiments_summary?.by_work_package?.WP4_LEARNING_SCHEDULER?.total||0)})]}),i.jsx(Hn,{title:"Recent Experiments",subtitle:"Latest R&D experiment results",children:t&&t.length>0?i.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:t.slice(0,10).map(r=>i.jsx(V1e,{experiment:r},r.id))}):i.jsx("p",{className:"text-sm text-text-muted",children:"No experiments yet. Run experiments in WP1-WP4 tabs."})})]})},X1e=()=>{const[e,t]=O.useState("overview"),{data:r}=xe({queryKey:["rd-status"],queryFn:R1e,staleTime:6e4});return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"R&D Laboratory"}),i.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"ProdPlan 4.0  Research & Development"}),i.jsx("p",{className:"max-w-3xl text-sm text-text-muted",children:"Experimental module for testing research hypotheses under the SIFIDE programme. Run experiments, compare strategies, and analyze results across work packages."})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(fl,{active:e==="overview",onClick:()=>t("overview"),children:" Overview"}),i.jsx(fl,{active:e==="wp1",onClick:()=>t("wp1"),children:" WP1 Routing"}),i.jsx(fl,{active:e==="wp2",onClick:()=>t("wp2"),children:" WP2 Suggestions"}),i.jsx(fl,{active:e==="wp3",onClick:()=>t("wp3"),children:" WP3 Inventory"}),i.jsx(fl,{active:e==="wp4",onClick:()=>t("wp4"),children:" WP4 Learning"}),i.jsx(fl,{active:e==="reports",onClick:()=>t("reports"),children:" Relatrios"})]}),i.jsxs(de.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2},children:[e==="overview"&&i.jsx(Q1e,{status:r}),e==="wp1"&&i.jsx(W1e,{}),e==="wp2"&&i.jsx(H1e,{}),e==="wp3"&&i.jsx(K1e,{}),e==="wp4"&&i.jsx(G1e,{}),e==="reports"&&i.jsx(Y1e,{})]},e)]})},XR=[{label:" Estado do plano",query:"Qual o estado do plano de produo?"},{label:" Alertas de stock",query:"H SKUs em risco de rutura?"},{label:" Sade mquinas",query:"Qual a sade das mquinas?"},{label:" DPPs",query:"Estado dos passaportes digitais?"}],J1e=8,Z1e=({content:e})=>{const[t,r]=O.useState("");return O.useEffect(()=>{r("");let n=0;const a=window.setInterval(()=>{n+=1,r(e.slice(0,n)),n>=e.length&&window.clearInterval(a)},J1e);return()=>window.clearInterval(a)},[e]),i.jsx(Qp,{remarkPlugins:[Xp],className:"prose prose-invert prose-sm max-w-none [&>p]:mb-2 [&>p]:leading-relaxed [&>ul>li]:mb-1",children:t||" ..."})},eNe=({kpi:e})=>{const t={green:"from-emerald-500/20 to-emerald-600/10 border-emerald-500/30",red:"from-red-500/20 to-red-600/10 border-red-500/30",yellow:"from-amber-500/20 to-amber-600/10 border-amber-500/30",blue:"from-cyan-500/20 to-cyan-600/10 border-cyan-500/30",default:"from-slate-500/20 to-slate-600/10 border-slate-500/30"},r=e.trend==="up"?ar:e.trend==="down"?Xn:Qw,n=e.trend==="up"?"text-emerald-400":e.trend==="down"?"text-red-400":"text-slate-400";return i.jsxs("div",{className:`rounded-lg bg-gradient-to-br ${t[e.color||"default"]} border p-3`,children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider",children:e.label}),i.jsxs("div",{className:"flex items-end gap-1 mt-1",children:[i.jsx("span",{className:"text-xl font-bold text-white",children:e.value}),e.unit&&i.jsx("span",{className:"text-sm text-slate-300",children:e.unit}),e.trend&&i.jsx(r,{className:`w-4 h-4 ml-1 ${n}`})]})]})},tNe=({text:e,onClick:t})=>i.jsxs("button",{onClick:t,className:"px-3 py-1.5 rounded-full text-xs bg-slate-800 hover:bg-slate-700 border border-slate-600 text-slate-300 hover:text-white transition flex items-center gap-1",children:[i.jsx(Vp,{className:"w-3 h-3"}),e]}),rNe=({action:e,onNavigate:t})=>i.jsxs("button",{onClick:()=>{e.action_type==="navigate"&&t(e.action_data)},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-cyan-600/20 hover:bg-cyan-600/30 border border-cyan-500/30 text-cyan-400 text-sm transition",children:[e.label,i.jsx(Zr,{className:"w-4 h-4"})]}),nNe=()=>i.jsxs("div",{className:"flex max-w-[85%] items-center gap-3 rounded-2xl border border-border/60 bg-surface/70 px-4 py-3 text-sm text-text-muted shadow-glow",children:[i.jsx(De,{className:"w-4 h-4 animate-spin text-cyan-400"}),i.jsx("span",{className:"animate-pulse",children:"Analisando dados"})]}),_8=()=>{const[e,t]=O.useState(""),[r,n]=O.useState([]),a=O.useRef(null),s=O.useCallback(()=>{requestAnimationFrame(()=>{a.current&&a.current.scrollTo({top:a.current.scrollHeight,behavior:"smooth"})})},[]),o=qe({mutationFn:async p=>{const y=(await Kn.post("/chat",{message:p})).data;if(y?.detail)throw new Error(y.detail);return y},onSuccess:p=>{const g={role:"assistant",content:p.message||p.answer||"",kpis:p.kpis||[],suggestions:p.suggestions||[],actions:p.actions||[],intent:p.intent,confidence:p.confidence};n(y=>[...y,g]),s()},onError:()=>{s()}}),l=O.useMemo(()=>r.length===0&&!o.isPending,[r,o.isPending]),u=p=>{if(p.preventDefault(),!e.trim()||o.isPending)return;const g={role:"user",content:e.trim()};n(y=>[...y,g]),t(""),o.mutate(e.trim()),s()},d=p=>{if(o.isPending)return;const g={role:"user",content:p};n(y=>[...y,g]),t(""),o.mutate(p),s()},h=p=>{t(p)},m=p=>{window.location.href=p};return O.useEffect(()=>{s()},[r,s]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500/20 to-emerald-500/20 rounded-xl border border-cyan-500/30",children:i.jsx(Yw,{className:"w-6 h-6 text-cyan-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"Industrial Copilot"}),i.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Chat Inteligente"})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:XR.map(p=>i.jsx("button",{onClick:()=>d(p.query),disabled:o.isPending,className:"rounded-xl border border-border bg-surface/70 px-3 py-2 text-xs text-text-muted transition hover:border-nikufra hover:text-text-primary disabled:opacity-50",children:p.label},p.label))})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr,1fr]",children:[i.jsxs("div",{className:"flex h-[650px] flex-col rounded-2xl border border-border bg-gradient-to-br from-[#0c1110] via-[#10181a] to-[#0c1413] shadow-glow",children:[i.jsxs("div",{ref:a,className:"flex-1 space-y-4 overflow-y-auto p-6 pr-4",children:[l&&i.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-center text-text-muted",children:[i.jsx("span",{className:"mb-4 text-5xl",children:""}),i.jsx("p",{className:"text-lg font-medium text-text-primary mb-2",children:"Industrial Copilot"}),i.jsx("p",{className:"max-w-lg text-sm",children:"Ol! Sou o assistente industrial do ProdPlan 4.0. Posso ajudar com planeamento, inventrio, digital twin, DPPs e muito mais."}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-6 justify-center",children:XR.map(p=>i.jsx("button",{onClick:()=>d(p.query),className:"px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-sm text-slate-300 transition",children:p.label},p.label))})]}),i.jsx(pt,{initial:!1,children:r.map((p,g)=>i.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:p.role==="user"?"ml-auto max-w-[80%]":"max-w-[90%]",children:p.role==="user"?i.jsx("div",{className:"rounded-2xl border border-nikufra/30 bg-nikufra/10 px-5 py-4 text-sm text-text-primary shadow-[0_0_25px_rgba(69,255,193,0.12)]",children:i.jsx("p",{className:"leading-relaxed",children:p.content})}):i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"rounded-2xl border border-border/60 bg-black/40 px-5 py-4 text-sm text-text-body shadow-glow",children:i.jsx(Z1e,{content:p.content})}),p.kpis&&p.kpis.length>0&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 pl-2",children:p.kpis.map((y,v)=>i.jsx(eNe,{kpi:y},v))}),p.suggestions&&p.suggestions.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 pl-2",children:p.suggestions.map((y,v)=>i.jsx(tNe,{text:y,onClick:()=>h(y)},v))}),p.actions&&p.actions.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 pl-2",children:p.actions.map((y,v)=>i.jsx(rNe,{action:y,onNavigate:m},v))}),p.intent&&i.jsxs("div",{className:"flex items-center gap-2 pl-2 text-xs text-slate-500",children:[i.jsxs("span",{children:["Intent: ",p.intent]}),p.confidence&&i.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-slate-800",children:[Math.round(p.confidence*100),"% conf"]})]})]})},`${p.role}-${g}-${p.content.slice(0,20)}`))}),o.isPending&&i.jsx(nNe,{}),o.isError&&!o.isPending&&i.jsx("div",{className:"max-w-[85%] rounded-2xl border border-danger/40 bg-danger/10 px-4 py-3 text-sm text-danger",children:o.error.message})]}),i.jsx("div",{className:"border-t border-border bg-black/40 p-4",children:i.jsxs("form",{onSubmit:u,className:"flex items-end gap-3",children:[i.jsx("textarea",{value:e,onChange:p=>t(p.target.value),onKeyDown:p=>{if(p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),e.trim()&&!o.isPending)){const g={role:"user",content:e.trim()};n(y=>[...y,g]),o.mutate(e.trim()),t(""),s()}},placeholder:"Pergunta sobre planeamento, inventrio, mquinas, DPPs...",className:"flex-1 resize-none rounded-xl border border-border bg-black/40 px-4 py-3 text-sm text-text-primary outline-none transition focus:border-nikufra h-12 min-h-[48px] max-h-32",rows:1}),i.jsx("button",{type:"submit",disabled:!e.trim()||o.isPending,className:"flex h-12 w-12 items-center justify-center rounded-xl bg-nikufra text-background shadow-[0_0_30px_rgba(69,255,193,0.25)] transition hover:bg-nikufra-hover hover:shadow-[0_0_35px_rgba(69,255,193,0.4)] disabled:cursor-not-allowed disabled:bg-border",children:i.jsx(d$,{className:"w-5 h-5"})})]})})]}),i.jsxs("aside",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-surface/60 p-5 shadow-glow",children:[i.jsxs("h3",{className:"text-sm font-semibold text-text-primary flex items-center gap-2",children:[i.jsx(Vp,{className:"w-4 h-4 text-cyan-400"}),"Industrial Copilot"]}),i.jsx("p",{className:"mt-2 text-sm text-text-muted",children:"Assistente inteligente que responde a questes sobre todos os mdulos do ProdPlan 4.0."}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-500",children:"reas Cobertas"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-400",children:[i.jsx("div",{className:"flex items-center gap-1",children:" Planeamento"}),i.jsx("div",{className:"flex items-center gap-1",children:" Inventrio"}),i.jsx("div",{className:"flex items-center gap-1",children:" Duplios"}),i.jsx("div",{className:"flex items-center gap-1",children:" Digital Twin"}),i.jsx("div",{className:"flex items-center gap-1",children:" R&D"}),i.jsx("div",{className:"flex items-center gap-1",children:" Causal"})]})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-surface/60 p-5 shadow-glow",children:[i.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:" Exemplos de Perguntas"}),i.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-text-muted",children:[i.jsx("li",{className:"cursor-pointer hover:text-cyan-400 transition",onClick:()=>d("Qual o estado do plano atual?"),children:' "Qual o estado do plano atual?"'}),i.jsx("li",{className:"cursor-pointer hover:text-cyan-400 transition",onClick:()=>d("H mquinas em alerta?"),children:' "H mquinas em alerta?"'}),i.jsx("li",{className:"cursor-pointer hover:text-cyan-400 transition",onClick:()=>d("Quantos DPPs esto conformes?"),children:' "Quantos DPPs esto conformes?"'}),i.jsx("li",{className:"cursor-pointer hover:text-cyan-400 transition",onClick:()=>d("Resultados de R&D?"),children:' "Resultados de R&D?"'})]})]})]})]})]})},ps="http://127.0.0.1:8000";async function iNe(){const e=await fetch(`${ps}/shopfloor/machines`);return e.ok?e.json():[]}async function aNe(e){const t=e?`${ps}/shopfloor/orders?machine_id=${e}`:`${ps}/shopfloor/orders`,r=await fetch(t);return r.ok?r.json():[]}async function sNe(e,t){const r=await fetch(`${ps}/work-instructions/${e}/${t}`);return r.ok?r.json():null}async function oNe(e,t){const r=await fetch(`${ps}/shopfloor/orders/${e}/start?machine_id=${t}`,{method:"POST"});if(!r.ok)throw new Error("Failed to start order");return r.json()}async function lNe(e,t){const r=`${ps}/shopfloor/orders/${e}/pause`,n=await fetch(r,{method:"POST"});if(!n.ok)throw new Error("Failed to pause order");return n.json()}async function cNe(e,t){const r=await fetch(`${ps}/shopfloor/orders/${e}/complete?machine_id=${t}`,{method:"POST"});if(!r.ok)throw new Error("Failed to complete order");return r.json()}async function uNe(e,t,r){const n=new URLSearchParams({machine_id:t,good_qty:r.good_qty.toString(),scrap_qty:r.scrap_qty.toString()});r.downtime_reason&&n.set("downtime_reason",r.downtime_reason),r.downtime_minutes&&n.set("downtime_minutes",r.downtime_minutes.toString()),r.notes&&n.set("notes",r.notes);const a=await fetch(`${ps}/shopfloor/orders/${e}/report?${n}`,{method:"POST"});if(!a.ok)throw new Error("Failed to report execution");return a.json()}const S8=({status:e})=>{const t={pending:{bg:"bg-slate-500/20",text:"text-slate-400",icon:gi},in_progress:{bg:"bg-cyan-500/20",text:"text-cyan-400",icon:vi},paused:{bg:"bg-amber-500/20",text:"text-amber-400",icon:A2},completed:{bg:"bg-emerald-500/20",text:"text-emerald-400",icon:ut},cancelled:{bg:"bg-red-500/20",text:"text-red-400",icon:va}},r=t[e]||t.pending,n=r.icon,a={pending:"Pendente",in_progress:"Em Execuo",paused:"Pausado",completed:"Concludo",cancelled:"Cancelado"};return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r.bg} ${r.text}`,children:[i.jsx(n,{className:"w-3 h-3"}),a[e]||e]})},dNe=({machine:e,isSelected:t,onClick:r})=>{const n={running:"bg-emerald-500",idle:"bg-amber-500",maintenance:"bg-red-500"};return i.jsx(de.div,{whileHover:{scale:1.02},onClick:r,className:`cursor-pointer p-4 rounded-xl border transition-all ${t?"border-cyan-500 bg-cyan-500/10":"border-slate-700/50 bg-slate-800/30 hover:border-cyan-500/50"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($i,{className:`w-5 h-5 ${t?"text-cyan-400":"text-slate-400"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:e.name}),i.jsx("p",{className:"text-xs text-slate-400",children:e.type})]})]}),i.jsx("div",{className:`w-3 h-3 rounded-full ${n[e.status]||"bg-slate-500"}`})]})})},fNe=({order:e,isSelected:t,onClick:r})=>{const n=e.planned_qty>0?(e.good_qty+e.scrap_qty)/e.planned_qty*100:0;return i.jsxs(de.div,{whileHover:{scale:1.01},onClick:r,className:`cursor-pointer p-4 rounded-xl border transition-all ${t?"border-cyan-500 bg-cyan-500/10":"border-slate-700/50 bg-slate-800/30 hover:border-cyan-500/50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:e.id}),i.jsx("p",{className:"text-sm text-slate-400",children:e.article_name})]}),i.jsx(S8,{status:e.status})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs mb-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Operao"}),i.jsx("p",{className:"text-white font-medium",children:e.operation_code})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Qtd. Plan."}),i.jsx("p",{className:"text-white font-medium",children:e.planned_qty})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"OK / Sucata"}),i.jsxs("p",{className:"text-white font-medium",children:[i.jsx("span",{className:"text-emerald-400",children:e.good_qty})," / ",i.jsx("span",{className:"text-red-400",children:e.scrap_qty})]})]})]}),i.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-emerald-500 transition-all",style:{width:`${Math.min(100,n)}%`}})}),i.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-slate-500",children:[i.jsxs("span",{children:[n.toFixed(0),"% completo"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[e.has_work_instructions&&i.jsx(bo,{className:"w-3 h-3"}),"Prioridade: ",e.priority]})]})]})},hNe=({instruction:e})=>{const[t,r]=O.useState(null);return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:e.title}),i.jsxs("p",{className:"text-xs text-slate-400",children:["v",e.version,"  ",e.total_estimated_time," min estimado"]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50 border border-slate-700/50",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" Ferramentas"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.tools_required.map((n,a)=>i.jsx("span",{className:"px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-300",children:n},a))})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50 border border-slate-700/50",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" EPI"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.safety_equipment.map((n,a)=>i.jsx("span",{className:"px-2 py-0.5 bg-amber-500/20 rounded text-xs text-amber-400",children:n},a))})]})]}),i.jsx("div",{className:"space-y-2",children:e.steps.map(n=>i.jsxs("div",{className:"rounded-lg border border-slate-700/50 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-slate-800/50 transition",onClick:()=>r(t===n.step_number?null:n.step_number),children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center text-cyan-400 font-bold",children:n.step_number}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-white",children:n.title}),n.duration_minutes&&i.jsxs("p",{className:"text-xs text-slate-500",children:[n.duration_minutes," min"]})]}),i.jsx(Zr,{className:`w-4 h-4 text-slate-400 transition-transform ${t===n.step_number?"rotate-90":""}`})]}),i.jsx(pt,{children:t===n.step_number&&i.jsx(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700/50",children:i.jsxs("div",{className:"p-4 space-y-3 bg-slate-900/50",children:[i.jsx("p",{className:"text-sm text-slate-300",children:n.description}),n.safety_warning&&i.jsxs("div",{className:"flex items-start gap-2 p-2 rounded bg-amber-500/10 border border-amber-500/30",children:[i.jsx(Te,{className:"w-4 h-4 text-amber-400 mt-0.5"}),i.jsx("p",{className:"text-sm text-amber-400",children:n.safety_warning})]}),n.checkpoints.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Verificaes"}),n.checkpoints.map(a=>i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded bg-slate-800/50",children:[a.type==="checkbox"?i.jsx(QK,{className:"w-5 h-5 text-cyan-400"}):i.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-cyan-400 text-xs",children:a.type==="numeric"?"#":"T"}),i.jsx("span",{className:"text-sm text-white",children:a.label}),a.unit&&i.jsxs("span",{className:"text-xs text-slate-500",children:["(",a.unit,")"]}),a.required&&i.jsx("span",{className:"text-xs text-red-400",children:"*"})]},a.id))]})]})})})]},n.step_number))})]})},mNe=({order:e,machineId:t,onSubmit:r,isPending:n})=>{const[a,s]=O.useState(0),[o,l]=O.useState(0),[u,d]=O.useState(""),[h,m]=O.useState(0),[p,g]=O.useState(""),y=[{value:"",label:"Sem paragem"},{value:"machine_failure",label:"Avaria mquina"},{value:"material_shortage",label:"Falta de material"},{value:"tool_change",label:"Troca ferramenta"},{value:"quality_issue",label:"Problema qualidade"},{value:"maintenance",label:"Manuteno"},{value:"setup",label:"Setup"},{value:"other",label:"Outro"}],v=w=>{w.preventDefault(),r({good_qty:a,scrap_qty:o,downtime_reason:u||void 0,downtime_minutes:h||void 0,notes:p||void 0})},b=e.planned_qty-e.good_qty-e.scrap_qty;return i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-white",children:"Reportar Produo"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Peas OK"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>s(Math.max(0,a-1)),className:"p-2 rounded bg-slate-700 hover:bg-slate-600 text-white",children:i.jsx(Qw,{className:"w-4 h-4"})}),i.jsx("input",{type:"number",value:a,onChange:w=>s(Number(w.target.value)),className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded text-center text-white"}),i.jsx("button",{type:"button",onClick:()=>s(Math.min(b,a+1)),className:"p-2 rounded bg-emerald-600 hover:bg-emerald-500 text-white",children:i.jsx(Dl,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Sucata"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>l(Math.max(0,o-1)),className:"p-2 rounded bg-slate-700 hover:bg-slate-600 text-white",children:i.jsx(Qw,{className:"w-4 h-4"})}),i.jsx("input",{type:"number",value:o,onChange:w=>l(Number(w.target.value)),className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded text-center text-white"}),i.jsx("button",{type:"button",onClick:()=>l(o+1),className:"p-2 rounded bg-red-600 hover:bg-red-500 text-white",children:i.jsx(Dl,{className:"w-4 h-4"})})]})]})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Restam: ",b," peas"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Razo Paragem"}),i.jsx("select",{value:u,onChange:w=>d(w.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-white text-sm",children:y.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Tempo Paragem (min)"}),i.jsx("input",{type:"number",value:h,onChange:w=>m(Number(w.target.value)),disabled:!u,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-white text-sm disabled:opacity-50"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Observaes"}),i.jsx("textarea",{value:p,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded text-white text-sm h-20 resize-none",placeholder:"Notas adicionais..."})]}),i.jsx("button",{type:"submit",disabled:n||a===0&&o===0,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-semibold rounded-lg transition disabled:opacity-50",children:n?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx(De,{className:"w-4 h-4 animate-spin"}),"A submeter..."]}):"Submeter Registo"})]})},pNe=()=>{const e=Nt(),[t,r]=O.useState(null),[n,a]=O.useState(null),[s,o]=O.useState(!1),{data:l,isLoading:u}=xe({queryKey:["shopfloor-machines"],queryFn:iNe}),{data:d,isLoading:h}=xe({queryKey:["shopfloor-orders",t],queryFn:()=>aNe(t),enabled:!0}),{data:m}=xe({queryKey:["work-instructions",n?.id],queryFn:()=>sNe(1,1),enabled:!!n&&s}),p=qe({mutationFn:()=>oNe(n.id,t),onSuccess:()=>{e.invalidateQueries({queryKey:["shopfloor-orders"]})}}),g=qe({mutationFn:()=>lNe(n.id),onSuccess:()=>{e.invalidateQueries({queryKey:["shopfloor-orders"]})}}),y=qe({mutationFn:()=>cNe(n.id,t),onSuccess:()=>{e.invalidateQueries({queryKey:["shopfloor-orders"]}),a(null)}}),v=qe({mutationFn:b=>uNe(n.id,t,b),onSuccess:()=>{e.invalidateQueries({queryKey:["shopfloor-orders"]})}});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-xl border border-orange-500/30",children:i.jsx($i,{className:"w-6 h-6 text-orange-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500",children:"Prodplan"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Shopfloor"})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-cyan-500/10 border border-cyan-500/30 rounded-lg",children:[i.jsx($i,{className:"w-4 h-4 text-cyan-400"}),i.jsx("span",{className:"text-sm text-cyan-400",children:t})]})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[i.jsxs("div",{className:"col-span-3 space-y-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx($i,{className:"w-4 h-4 text-orange-400"}),"Mquinas"]}),u?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(De,{className:"w-6 h-6 text-orange-400 animate-spin"})}):i.jsx("div",{className:"space-y-2",children:l?.map(b=>i.jsx(dNe,{machine:b,isSelected:t===b.id,onClick:()=>{r(b.id),a(null)}},b.id))})]}),i.jsxs("div",{className:"col-span-4 space-y-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(wr,{className:"w-4 h-4 text-cyan-400"}),"Ordens"]}),h?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(De,{className:"w-6 h-6 text-cyan-400 animate-spin"})}):d?.length===0?i.jsx("p",{className:"text-sm text-slate-400 text-center py-8",children:t?"Nenhuma ordem para esta mquina":"Selecione uma mquina"}):i.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:d?.map(b=>i.jsx(fNe,{order:b,isSelected:n?.id===b.id,onClick:()=>a(b)},b.id))})]}),i.jsx("div",{className:"col-span-5 space-y-4",children:n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"rounded-xl border border-slate-700/50 bg-slate-800/30 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:n.id}),i.jsxs("p",{className:"text-sm text-slate-400",children:[n.article_name,"  ",n.operation_code]})]}),i.jsx(S8,{status:n.status})]}),i.jsxs("div",{className:"flex gap-2",children:[n.status==="pending"&&i.jsxs("button",{onClick:()=>p.mutate(),disabled:!t||p.isPending,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-emerald-600 hover:bg-emerald-500 text-white font-medium rounded-lg transition disabled:opacity-50",children:[i.jsx(vi,{className:"w-4 h-4"}),"Iniciar"]}),n.status==="in_progress"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>g.mutate(),disabled:g.isPending,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-amber-600 hover:bg-amber-500 text-white font-medium rounded-lg transition disabled:opacity-50",children:[i.jsx(A2,{className:"w-4 h-4"}),"Pausar"]}),i.jsxs("button",{onClick:()=>y.mutate(),disabled:y.isPending,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-cyan-600 hover:bg-cyan-500 text-white font-medium rounded-lg transition disabled:opacity-50",children:[i.jsx(ut,{className:"w-4 h-4"}),"Terminar"]})]}),n.status==="paused"&&i.jsxs("button",{onClick:()=>p.mutate(),disabled:!t||p.isPending,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-emerald-600 hover:bg-emerald-500 text-white font-medium rounded-lg transition disabled:opacity-50",children:[i.jsx(vi,{className:"w-4 h-4"}),"Retomar"]})]})]}),i.jsxs("div",{className:"flex gap-1 p-1 bg-slate-800/50 rounded-lg w-fit",children:[i.jsx("button",{onClick:()=>o(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s?"text-slate-400 hover:text-white":"bg-slate-700 text-white"}`,children:" Registo"}),i.jsx("button",{onClick:()=>o(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s?"bg-slate-700 text-white":"text-slate-400 hover:text-white"}`,children:" Instrues"})]}),i.jsx("div",{className:"rounded-xl border border-slate-700/50 bg-slate-800/30 p-4 max-h-[400px] overflow-y-auto",children:s?m?i.jsx(hNe,{instruction:m}):i.jsx("p",{className:"text-sm text-slate-400 text-center py-8",children:"Sem instrues de trabalho disponveis"}):i.jsx(mNe,{order:n,machineId:t||"",onSubmit:b=>v.mutate(b),isPending:v.isPending})})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[600px] text-center",children:[i.jsx(bo,{className:"w-12 h-12 text-slate-600 mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Selecione uma ordem para ver detalhes"})]})})]})]})},Bi="http://127.0.0.1:8000/pdm",xNe=async()=>{const e=await fetch(`${Bi}/status`);if(!e.ok)throw new Error("Failed to fetch status");return e.json()},gNe=async e=>{const t=e?`${Bi}/items?search=${encodeURIComponent(e)}`:`${Bi}/items`,r=await fetch(t);if(!r.ok)throw new Error("Failed to fetch items");return r.json()},yNe=async e=>{const t=await fetch(`${Bi}/items/${e}/revisions`);if(!t.ok)throw new Error("Failed to fetch revisions");return t.json()},vNe=async e=>{const t=await fetch(`${Bi}/revisions/${e}/bom`);if(!t.ok)throw new Error("Failed to fetch BOM");return t.json()},bNe=async e=>{const t=await fetch(`${Bi}/revisions/${e}/routing`);if(!t.ok)throw new Error("Failed to fetch routing");return t.json()},jNe=async e=>{const t=await fetch(`${Bi}/revisions/${e}/validate`);if(!t.ok)throw new Error("Failed to validate");return t.json()},wNe=async(e,t=!1)=>{const r=await fetch(`${Bi}/revisions/${e}/release`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({released_by:"user",force:t})});if(!r.ok)throw new Error("Failed to release");return r.json()},NNe=async()=>{const e=await fetch(`${Bi}/ecr`);if(!e.ok)throw new Error("Failed to fetch ECRs");return e.json()},_Ne=async()=>{const e=await fetch(`${Bi}/demo/seed`,{method:"POST"});if(!e.ok)throw new Error("Failed to seed");return e.json()},k8=({status:e})=>{const t={DRAFT:"bg-amber-500/20 text-amber-400 border-amber-500/30",RELEASED:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",OBSOLETE:"bg-zinc-500/20 text-zinc-400 border-zinc-500/30",OPEN:"bg-blue-500/20 text-blue-400 border-blue-500/30",CLOSED:"bg-zinc-500/20 text-zinc-400 border-zinc-500/30"},r={DRAFT:i.jsx(M2,{className:"w-3 h-3"}),RELEASED:i.jsx(ga,{className:"w-3 h-3"}),OBSOLETE:i.jsx(DK,{className:"w-3 h-3"})};return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded border ${t[e]||t.DRAFT}`,children:[r[e],e]})},SNe=({type:e})=>{const t={FINISHED:"bg-purple-500/20 text-purple-400",SEMI_FINISHED:"bg-blue-500/20 text-blue-400",RAW_MATERIAL:"bg-orange-500/20 text-orange-400",TOOLING:"bg-cyan-500/20 text-cyan-400",PACKAGING:"bg-green-500/20 text-green-400"},r={FINISHED:"Produto",SEMI_FINISHED:"Semi-Acabado",RAW_MATERIAL:"Matria-Prima",TOOLING:"Ferramenta",PACKAGING:"Embalagem"};return i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${t[e]||"bg-zinc-500/20 text-zinc-400"}`,children:r[e]||e})},Su=({label:e,value:t,icon:r,color:n})=>i.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${n}`,children:r}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:t}),i.jsx("p",{className:"text-sm text-zinc-400",children:e})]})]})}),kNe=({items:e,selectedId:t,onSelect:r})=>i.jsx("div",{className:"space-y-1 max-h-[500px] overflow-y-auto",children:e.map(n=>i.jsxs(de.div,{whileHover:{scale:1.01},onClick:()=>r(n),className:`cursor-pointer p-3 rounded-lg border transition-all ${t===n.id?"bg-purple-500/10 border-purple-500/30":"bg-zinc-800/50 border-zinc-700/50 hover:border-zinc-600"}`,children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"w-4 h-4 text-zinc-500"}),i.jsx("span",{className:"font-mono text-sm text-purple-400",children:n.sku})]}),i.jsx(SNe,{type:n.type})]}),i.jsx("p",{className:"text-sm text-white mt-1 truncate",children:n.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-zinc-500",children:[i.jsx("span",{children:n.unit}),n.current_revision&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{className:"text-emerald-400",children:["Rev ",n.current_revision]})]})]})]},n.id))}),PNe=({item:e,revisions:t,selectedRevision:r,onSelectRevision:n,onRelease:a})=>i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(ya,{className:"w-5 h-5 text-purple-500"}),"Revises de ",e.sku]}),i.jsx("div",{className:"space-y-2",children:t.map(s=>i.jsxs("div",{onClick:()=>n(s),className:`cursor-pointer p-3 rounded-lg border transition-all ${r?.id===s.id?"bg-purple-500/10 border-purple-500/30":"bg-zinc-900/50 border-zinc-700/50 hover:border-zinc-600"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-mono text-lg text-white",children:["Rev ",s.code]}),i.jsx(k8,{status:s.status})]}),i.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:s.effective_from?`Efetivo desde ${new Date(s.effective_from).toLocaleDateString()}`:"No liberado"}),s.status==="DRAFT"&&i.jsx("button",{onClick:o=>{o.stopPropagation(),a(s.id)},className:"mt-2 text-xs px-2 py-1 bg-emerald-500/20 text-emerald-400 rounded hover:bg-emerald-500/30",children:"Liberar Reviso"})]},s.id))})]}),CNe=({bom:e,loading:t})=>i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(fn,{className:"w-5 h-5 text-blue-500"}),"Lista de Materiais (BOM)"]}),t?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(De,{className:"w-5 h-5 text-zinc-500 animate-spin"})}):e.length===0?i.jsx("p",{className:"text-sm text-zinc-500 text-center py-4",children:"Nenhum componente na BOM"}):i.jsx("div",{className:"space-y-2",children:e.map(r=>i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-900/50 rounded-lg",children:[i.jsx(uo,{className:"w-4 h-4 text-blue-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-sm text-white",children:r.component_sku}),i.jsxs("span",{className:"text-xs text-zinc-500",children:["Rev ",r.component_revision_code]})]}),i.jsx("p",{className:"text-xs text-zinc-400",children:r.component_name})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:[r.qty_per_unit," ",r.unit]}),r.scrap_rate>0&&i.jsxs("p",{className:"text-xs text-amber-400",children:["+",(r.scrap_rate*100).toFixed(0),"% scrap"]})]})]},r.id))})]}),ENe=({routing:e,loading:t})=>i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx($K,{className:"w-5 h-5 text-cyan-500"}),"Roteiro de Fabricao"]}),t?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(De,{className:"w-5 h-5 text-zinc-500 animate-spin"})}):e.length===0?i.jsx("p",{className:"text-sm text-zinc-500 text-center py-4",children:"Nenhuma operao no roteiro"}):i.jsx("div",{className:"space-y-2",children:e.map((r,n)=>i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-900/50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center text-cyan-400 font-mono text-sm",children:r.sequence}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-white",children:r.op_code}),r.is_critical&&i.jsx("span",{className:"px-1 py-0.5 text-xs bg-red-500/20 text-red-400 rounded",children:"Crtica"}),r.requires_inspection&&i.jsx("span",{className:"px-1 py-0.5 text-xs bg-blue-500/20 text-blue-400 rounded",children:"Inspeo"})]}),i.jsx("p",{className:"text-xs text-zinc-400",children:r.name||r.machine_group})]}),i.jsxs("div",{className:"text-right text-xs text-zinc-500",children:[i.jsxs("p",{children:["Setup: ",r.setup_time,"min"]}),i.jsxs("p",{children:["Ciclo: ",r.cycle_time,"min"]})]})]},r.id))})]}),ONe=({validation:e,loading:t})=>t?i.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50 flex justify-center",children:i.jsx(De,{className:"w-5 h-5 text-zinc-500 animate-spin"})}):e?i.jsxs("div",{className:`rounded-xl p-4 border ${e.valid?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[i.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.valid?i.jsxs(i.Fragment,{children:[i.jsx(ga,{className:"w-5 h-5 text-emerald-400"}),i.jsx("span",{className:"font-medium text-emerald-400",children:"Pronto para Liberao"})]}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-5 h-5 text-red-400"}),i.jsxs("span",{className:"font-medium text-red-400",children:[e.errors_count," erro(s), ",e.warnings_count," aviso(s)"]})]})}),e.issues.length>0&&i.jsx("div",{className:"space-y-1",children:e.issues.map((r,n)=>i.jsxs("div",{className:`text-sm p-2 rounded ${r.severity==="error"?"bg-red-500/10 text-red-300":"bg-amber-500/10 text-amber-300"}`,children:[i.jsxs("span",{className:"font-mono text-xs opacity-70",children:["[",r.code,"]"]})," ",r.message]},n))})]}):null,TNe=({ecrs:e})=>i.jsx("div",{className:"space-y-2",children:e.map(t=>i.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"font-mono text-xs text-zinc-500",children:["ECR-",t.id]}),i.jsx("h4",{className:"font-medium text-white",children:t.title})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${t.priority==="HIGH"||t.priority==="CRITICAL"?"bg-red-500/20 text-red-400":t.priority==="MEDIUM"?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:t.priority}),i.jsx(k8,{status:t.status})]})]}),i.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:t.description})]},t.id))}),ANe=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(null),[a,s]=O.useState(null),[o,l]=O.useState("bom"),u=Nt(),{data:d}=xe({queryKey:["pdm-status"],queryFn:xNe}),{data:h=[],isLoading:m}=xe({queryKey:["pdm-items",e],queryFn:()=>gNe(e||void 0)}),{data:p=[]}=xe({queryKey:["pdm-revisions",r?.id],queryFn:()=>r?yNe(r.id):Promise.resolve([]),enabled:!!r}),{data:g=[],isLoading:y}=xe({queryKey:["pdm-bom",a?.id],queryFn:()=>a?vNe(a.id):Promise.resolve([]),enabled:!!a}),{data:v=[],isLoading:b}=xe({queryKey:["pdm-routing",a?.id],queryFn:()=>a?bNe(a.id):Promise.resolve([]),enabled:!!a}),{data:w,isLoading:S}=xe({queryKey:["pdm-validation",a?.id],queryFn:()=>a?jNe(a.id):Promise.resolve(null),enabled:!!a&&a.status==="DRAFT"}),{data:k=[]}=xe({queryKey:["pdm-ecrs"],queryFn:NNe,enabled:o==="ecr"}),E=qe({mutationFn:T=>wNe(T),onSuccess:()=>{u.invalidateQueries({queryKey:["pdm-revisions"]}),u.invalidateQueries({queryKey:["pdm-items"]}),u.invalidateQueries({queryKey:["pdm-status"]})}}),P=qe({mutationFn:_Ne,onSuccess:()=>{u.invalidateQueries({queryKey:["pdm-items"]}),u.invalidateQueries({queryKey:["pdm-status"]})}}),_=d?.statistics;return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-zinc-900 to-zinc-950 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-xl",children:i.jsx(BK,{className:"w-8 h-8 text-purple-500"})}),"PDM: Product Data Management"]}),i.jsx("p",{className:"text-zinc-400",children:"Gesto de Items, Revises, BOM e Roteiros"})]}),i.jsxs("button",{onClick:()=>P.mutate(),disabled:P.isPending,className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg border border-purple-500/30",children:[P.isPending?i.jsx(De,{className:"w-4 h-4 animate-spin"}):i.jsx(Dl,{className:"w-4 h-4"}),"Seed Demo Data"]})]}),_&&i.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[i.jsx(Su,{label:"Items",value:_.total_items,icon:i.jsx(wr,{className:"w-5 h-5"}),color:"bg-purple-500/20 text-purple-400"}),i.jsx(Su,{label:"Revises",value:_.total_revisions,icon:i.jsx(ya,{className:"w-5 h-5"}),color:"bg-blue-500/20 text-blue-400"}),i.jsx(Su,{label:"Liberadas",value:_.released_revisions,icon:i.jsx(ga,{className:"w-5 h-5"}),color:"bg-emerald-500/20 text-emerald-400"}),i.jsx(Su,{label:"Rascunhos",value:_.draft_revisions,icon:i.jsx(M2,{className:"w-5 h-5"}),color:"bg-amber-500/20 text-amber-400"}),i.jsx(Su,{label:"ECRs Abertas",value:_.open_ecrs,icon:i.jsx(Nl,{className:"w-5 h-5"}),color:"bg-red-500/20 text-red-400"})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[i.jsx("div",{className:"col-span-3",children:i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl p-4 border border-zinc-800",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Up,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-zinc-500"}),i.jsx("input",{type:"text",value:e,onChange:T=>t(T.target.value),placeholder:"Pesquisar items...",className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500"})]}),m?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(De,{className:"w-6 h-6 text-purple-500 animate-spin"})}):i.jsx(kNe,{items:h,selectedId:r?.id,onSelect:T=>{n(T),s(null)}})]})}),i.jsx("div",{className:"col-span-3",children:r?i.jsx(PNe,{item:r,revisions:p,selectedRevision:a||void 0,onSelectRevision:s,onRelease:T=>E.mutate(T)}):i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl p-8 border border-zinc-800 flex flex-col items-center justify-center text-zinc-500",children:[i.jsx(Zr,{className:"w-8 h-8 opacity-30 mb-2"}),i.jsx("p",{children:"Selecione um item"})]})}),i.jsx("div",{className:"col-span-6",children:i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl border border-zinc-800",children:[i.jsx("div",{className:"flex border-b border-zinc-800",children:["bom","routing","ecr"].map(T=>i.jsxs("button",{onClick:()=>l(T),className:`flex-1 py-3 text-sm font-medium transition-colors ${o===T?"text-purple-400 border-b-2 border-purple-500":"text-zinc-500 hover:text-zinc-300"}`,children:[T==="bom"&&"BOM",T==="routing"&&"Roteiro",T==="ecr"&&"ECRs"]},T))}),i.jsxs("div",{className:"p-4 space-y-4",children:[o==="bom"&&a&&i.jsxs(i.Fragment,{children:[a.status==="DRAFT"&&i.jsx(ONe,{validation:w||null,loading:S}),i.jsx(CNe,{bom:g,loading:y})]}),o==="routing"&&a&&i.jsx(ENe,{routing:v,loading:b}),o==="ecr"&&i.jsx(TNe,{ecrs:k}),!a&&o!=="ecr"&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-zinc-500",children:[i.jsx(fn,{className:"w-8 h-8 opacity-30 mb-2"}),i.jsx("p",{children:"Selecione uma reviso para ver detalhes"})]})]})]})})]}),i.jsxs("div",{className:"mt-8 text-center text-xs text-zinc-600",children:[i.jsx("p",{children:"PDM gerencia dados mestres de produto com controle de revises, validao de BOM e workflow de liberao."}),i.jsx("p",{className:"mt-1",children:"R&D / SIFIDE: WP1 - PLM/PDM Core"})]})]})})},zx="http://127.0.0.1:8000/mrp",MNe=async()=>{const e=await fetch(`${zx}/status`);if(!e.ok)throw new Error("Failed to fetch status");return e.json()},RNe=async()=>{const e=await fetch(`${zx}/demo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_products:3,num_orders:8,horizon_days:60})});if(!e.ok)throw new Error("Failed to run MRP");return e.json()},DNe=async()=>{const e=await fetch(`${zx}/runs`);if(!e.ok)throw new Error("Failed to list runs");return e.json()},INe=async e=>{const t=await fetch(`${zx}/runs/${e}`);if(!t.ok)throw new Error("Failed to get run");return t.json()},hl=({label:e,value:t,icon:r,color:n})=>i.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${n}`,children:r}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:t}),i.jsx("p",{className:"text-sm text-zinc-400",children:e})]})]})}),$Ne=({type:e})=>{const t=e==="purchase";return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded ${t?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:[t?i.jsx(Jw,{className:"w-3 h-3"}):i.jsx($i,{className:"w-3 h-3"}),t?"Compra":"Produo"]})},JR=({orders:e,title:t,icon:r})=>i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[r,t," (",e.length,")"]}),e.length===0?i.jsx("p",{className:"text-sm text-zinc-500 text-center py-4",children:"Nenhuma ordem planeada"}):i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-zinc-500 border-b border-zinc-700",children:[i.jsx("th",{className:"text-left py-2 px-2",children:"Ordem"}),i.jsx("th",{className:"text-left py-2 px-2",children:"SKU"}),i.jsx("th",{className:"text-right py-2 px-2",children:"Qtd"}),i.jsx("th",{className:"text-left py-2 px-2",children:"Incio"}),i.jsx("th",{className:"text-left py-2 px-2",children:"Entrega"}),i.jsx("th",{className:"text-right py-2 px-2",children:"Lead Time"})]})}),i.jsx("tbody",{children:e.slice(0,10).map(n=>i.jsxs("tr",{className:"border-b border-zinc-800 hover:bg-zinc-800/50",children:[i.jsx("td",{className:"py-2 px-2 font-mono text-xs text-zinc-400",children:n.order_id}),i.jsx("td",{className:"py-2 px-2",children:i.jsx("span",{className:"font-medium text-white",children:n.sku})}),i.jsx("td",{className:"py-2 px-2 text-right font-medium text-white",children:n.quantity.toLocaleString()}),i.jsx("td",{className:"py-2 px-2 text-zinc-400",children:n.start_date.slice(0,10)}),i.jsx("td",{className:"py-2 px-2 text-zinc-400",children:n.due_date.slice(0,10)}),i.jsxs("td",{className:"py-2 px-2 text-right text-zinc-500",children:[n.lead_time_days,"d"]})]},n.order_id))})]}),e.length>10&&i.jsxs("p",{className:"text-xs text-zinc-500 text-center py-2",children:["+ ",e.length-10," mais ordens"]})]})]}),FNe=({plan:e,expanded:t,onToggle:r})=>{const n=e.periods.map(a=>({period:new Date(a.period_start).toLocaleDateString("pt-PT",{month:"short",day:"numeric"}),gross:a.gross_requirements,poh:a.projected_on_hand,planned:a.planned_receipts}));return i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl border border-zinc-700/50 overflow-hidden",children:[i.jsxs("div",{onClick:r,className:"cursor-pointer p-4 flex items-center justify-between hover:bg-zinc-800/80",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:i.jsx(wr,{className:"w-5 h-5 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-white",children:e.sku}),i.jsx("p",{className:"text-sm text-zinc-400",children:e.name})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-zinc-500",children:"Necessidade"}),i.jsx("p",{className:"font-medium text-white",children:e.total_gross_requirement.toLocaleString()})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-zinc-500",children:"Planeado"}),i.jsx("p",{className:"font-medium text-emerald-400",children:e.total_planned_quantity.toLocaleString()})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-zinc-500",children:"Cobertura"}),i.jsxs("p",{className:`font-medium ${e.coverage_days<14?"text-amber-400":"text-white"}`,children:[e.coverage_days.toFixed(0),"d"]})]}),e.stockout_risk&&i.jsx(Te,{className:"w-5 h-5 text-red-400"}),t?i.jsx(hc,{className:"w-5 h-5 text-zinc-500"}):i.jsx(Zr,{className:"w-5 h-5 text-zinc-500"})]})]}),t&&i.jsxs("div",{className:"p-4 border-t border-zinc-700",children:[i.jsx("div",{className:"h-48",children:i.jsx(E_,{width:"100%",height:"100%",children:i.jsxs(N8,{data:n,children:[i.jsx($x,{strokeDasharray:"3 3",stroke:"#333"}),i.jsx(Po,{dataKey:"period",tick:{fill:"#888",fontSize:10}}),i.jsx(Co,{tick:{fill:"#888",fontSize:10}}),i.jsx(Vn,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333"},labelStyle:{color:"#fff"}}),i.jsx(ao,{}),i.jsx(zi,{dataKey:"gross",name:"Necessidade",fill:"#ef4444"}),i.jsx(zi,{dataKey:"planned",name:"Planeado",fill:"#22c55e"}),i.jsx(zi,{dataKey:"poh",name:"Stock Proj.",fill:"#8b5cf6"})]})})}),e.planned_orders.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h5",{className:"text-sm font-medium text-zinc-400 mb-2",children:"Ordens Planeadas"}),i.jsx("div",{className:"space-y-1",children:e.planned_orders.map(a=>i.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-zinc-900/50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($Ne,{type:a.order_type}),i.jsx("span",{className:"font-mono text-xs text-zinc-500",children:a.order_id})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"font-medium text-white",children:[a.quantity.toLocaleString()," un"]}),i.jsx("span",{className:"text-zinc-400",children:a.due_date.slice(0,10)})]})]},a.order_id))})]})]})]})},LNe=()=>{const[e,t]=O.useState(null),[r,n]=O.useState(new Set),a=Nt(),{data:s}=xe({queryKey:["mrp-status"],queryFn:MNe}),{data:o}=xe({queryKey:["mrp-runs"],queryFn:DNe}),{data:l,isLoading:u}=xe({queryKey:["mrp-run",e],queryFn:()=>e?INe(e):Promise.resolve(null),enabled:!!e}),d=qe({mutationFn:RNe,onSuccess:p=>{a.invalidateQueries({queryKey:["mrp-runs"]}),t(p.run_id)}}),h=p=>{n(g=>{const y=new Set(g);return y.has(p)?y.delete(p):y.add(p),y})},m=o?.runs||[];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-zinc-900 to-zinc-950 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-cyan-500/20 rounded-xl",children:i.jsx(fn,{className:"w-8 h-8 text-emerald-500"})}),"MRP: Material Requirements Planning"]}),i.jsx("p",{className:"text-zinc-400",children:"Planeamento de necessidades com exploso de BOM e lot sizing"})]}),i.jsxs("button",{onClick:()=>d.mutate(),disabled:d.isPending,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 rounded-lg border border-emerald-500/30",children:[d.isPending?i.jsx(De,{className:"w-4 h-4 animate-spin"}):i.jsx(vi,{className:"w-4 h-4"}),"Executar MRP Demo"]})]}),l&&i.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-6",children:[i.jsx(hl,{label:"Items",value:l.items_processed,icon:i.jsx(wr,{className:"w-5 h-5"}),color:"bg-purple-500/20 text-purple-400"}),i.jsx(hl,{label:"Demandas",value:l.demands_processed,icon:i.jsx(bo,{className:"w-5 h-5"}),color:"bg-blue-500/20 text-blue-400"}),i.jsx(hl,{label:"Nveis BOM",value:l.bom_levels_exploded,icon:i.jsx(fn,{className:"w-5 h-5"}),color:"bg-cyan-500/20 text-cyan-400"}),i.jsx(hl,{label:"Ordens Compra",value:l.summary.total_purchase_orders,icon:i.jsx(Jw,{className:"w-5 h-5"}),color:"bg-emerald-500/20 text-emerald-400"}),i.jsx(hl,{label:"Ordens Produo",value:l.summary.total_manufacture_orders,icon:i.jsx($i,{className:"w-5 h-5"}),color:"bg-amber-500/20 text-amber-400"}),i.jsx(hl,{label:"Alertas",value:l.summary.total_shortage_alerts+l.summary.total_capacity_alerts,icon:i.jsx(Te,{className:"w-5 h-5"}),color:l.summary.total_shortage_alerts>0?"bg-red-500/20 text-red-400":"bg-zinc-500/20 text-zinc-400"})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[i.jsx("div",{className:"col-span-3",children:i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl p-4 border border-zinc-800",children:[i.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(gi,{className:"w-5 h-5 text-emerald-500"}),"Execues MRP (",m.length,")"]}),m.length===0?i.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[i.jsx(dr,{className:"w-8 h-8 mx-auto mb-2 opacity-30"}),i.jsx("p",{children:"Nenhuma execuo"}),i.jsx("p",{className:"text-sm",children:"Execute MRP Demo"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:m.map(p=>i.jsxs("div",{onClick:()=>t(p.run_id),className:`cursor-pointer p-3 rounded-lg border transition-all ${e===p.run_id?"bg-emerald-500/10 border-emerald-500/30":"bg-zinc-800/50 border-zinc-700/50 hover:border-zinc-600"}`,children:[i.jsx("span",{className:"font-mono text-xs text-zinc-400",children:p.run_id}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("span",{className:"text-sm text-zinc-300",children:new Date(p.run_timestamp).toLocaleString("pt-PT",{dateStyle:"short",timeStyle:"short"})}),i.jsxs("span",{className:"text-sm text-emerald-400",children:[p.items_processed," items"]})]})]},p.run_id))})]})}),i.jsx("div",{className:"col-span-9 space-y-6",children:u?i.jsx("div",{className:"bg-zinc-900/50 rounded-xl p-8 border border-zinc-800 flex justify-center",children:i.jsx(De,{className:"w-8 h-8 text-emerald-500 animate-spin"})}):l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsx(JR,{orders:l.purchase_orders,title:"Ordens de Compra",icon:i.jsx(Jw,{className:"w-5 h-5 text-blue-500"})}),i.jsx(JR,{orders:l.manufacture_orders,title:"Ordens de Produo",icon:i.jsx($i,{className:"w-5 h-5 text-purple-500"})})]}),i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl p-4 border border-zinc-800",children:[i.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(wr,{className:"w-5 h-5 text-purple-500"}),"Planos por Item"]}),i.jsx("div",{className:"space-y-3",children:Object.values(l.item_plans).map(p=>i.jsx(FNe,{plan:p,expanded:r.has(p.sku),onToggle:()=>h(p.sku)},p.sku))})]}),(l.shortage_alerts.length>0||l.capacity_alerts.length>0)&&i.jsxs("div",{className:"bg-red-500/10 rounded-xl p-4 border border-red-500/30",children:[i.jsxs("h3",{className:"font-semibold text-red-400 mb-4 flex items-center gap-2",children:[i.jsx(Te,{className:"w-5 h-5"}),"Alertas"]}),i.jsxs("div",{className:"space-y-2",children:[l.shortage_alerts.map((p,g)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-300",children:[i.jsx("span",{className:"font-medium",children:p.sku}),i.jsxs("span",{className:"text-red-400/70",children:["- Risco de stockout em ",p.stockout_periods.length," perodos"]})]},g)),l.capacity_alerts.map((p,g)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-300",children:[i.jsx("span",{className:"font-medium",children:p.work_center}),i.jsxs("span",{className:"text-amber-400/70",children:["- Sobrecarga de ",p.overload_hours,"h"]})]},g))]})]})]}):i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl p-12 border border-zinc-800 text-center text-zinc-500",children:[i.jsx(Zr,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),i.jsx("p",{children:"Selecione uma execuo ou execute um novo MRP"})]})})]}),i.jsxs("div",{className:"mt-8 text-center text-xs text-zinc-600",children:[i.jsx("p",{children:"MRP explode BOM multi-nvel, calcula necessidades lquidas e gera ordens planeadas com MOQ, mltiplos e scrap."}),i.jsx("p",{className:"mt-1",children:"R&D / SIFIDE: WP3 - Inventory & Capacity Optimization"})]})]})})},kc="http://127.0.0.1:8000/work-instructions",zNe=async()=>{const e=await fetch(`${kc}/status`);if(!e.ok)throw new Error("Failed to fetch status");return e.json()},qNe=async()=>{const e=await fetch(`${kc}/demo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_name:"Motor Assembly",num_steps:8})});if(!e.ok)throw new Error("Failed to create demo");return e.json()},BNe=async e=>{const t=await fetch(`${kc}/${e}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:`OP-${Date.now()}`,operator_id:"OP001",operator_name:"Operador Demo"})});if(!t.ok)throw new Error("Failed to start execution");return t.json()},UNe=async(e,t,r)=>{const n=await fetch(`${kc}/executions/${e}/steps/${t}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_value:r})});if(!n.ok){const a=await n.json();throw new Error(a.detail||"Failed to complete step")}return n.json()},VNe=async(e,t,r)=>{const n=await fetch(`${kc}/executions/${e}/quality-checks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({check_id:t,result:r})});if(!n.ok)throw new Error("Failed to record check");return n.json()},WNe=async e=>{const t=await fetch(`${kc}/executions/${e}`);if(!t.ok)throw new Error("Failed to get execution");return t.json()},HNe=({current:e,total:t,executions:r})=>i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:t}).map((n,a)=>{const o=r[a]?.status||"pending";return i.jsx("div",{className:`flex-1 h-2 rounded-full transition-all ${o==="completed"?"bg-emerald-500":o==="current"?"bg-blue-500 animate-pulse":o==="skipped"?"bg-zinc-600":"bg-zinc-700"}`},a)})}),KNe=({tolerance:e,value:t})=>{const r=t!==void 0&&t>=e.min_value&&t<=e.max_value,n=t!==void 0?(t-e.min_value)/(e.max_value-e.min_value)*100:50;return i.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm text-zinc-400 mb-2",children:[i.jsxs("span",{children:[e.min_value," ",e.unit]}),i.jsxs("span",{className:"font-medium text-zinc-300",children:[e.nominal," ",e.unit]}),i.jsxs("span",{children:[e.max_value," ",e.unit]})]}),i.jsxs("div",{className:"relative h-3 bg-zinc-700 rounded-full overflow-hidden",children:[i.jsx("div",{className:"absolute inset-y-0 left-[25%] right-[25%] bg-emerald-500/30"}),t!==void 0&&i.jsx(de.div,{initial:{left:"50%"},animate:{left:`${Math.min(100,Math.max(0,n))}%`},className:`absolute top-0 bottom-0 w-1 -translate-x-1/2 ${r?"bg-emerald-500":"bg-red-500"}`})]}),t!==void 0&&i.jsxs("div",{className:`text-center mt-2 text-sm font-medium ${r?"text-emerald-400":"text-red-400"}`,children:[t," ",e.unit," - ",r?" Dentro da tolerncia":" Fora da tolerncia"]})]})},GNe=({step:e,execution:t,isActive:r,onComplete:n,isCompleting:a,error:s})=>{const[o,l]=O.useState(""),[u,d]=O.useState(!1);O.useEffect(()=>{s&&(d(!0),setTimeout(()=>d(!1),5e3))},[s]);const h=()=>{let g=o;if(e.input_type==="boolean")g=!0;else if(e.input_type==="numeric"&&(g=parseFloat(o),isNaN(g))){d(!0);return}n(g)},m=()=>{switch(e.step_type){case"measurement":return i.jsx(br,{className:"w-6 h-6"});case"checklist":return i.jsx(s$,{className:"w-6 h-6"});case"photo":return i.jsx(MC,{className:"w-6 h-6"});case"confirmation":return i.jsx(ga,{className:"w-6 h-6"});default:return i.jsx(bo,{className:"w-6 h-6"})}},p=t?.status==="completed";return i.jsxs(de.div,{layout:!0,className:`rounded-2xl border-2 transition-all ${r?"bg-zinc-800/80 border-blue-500 shadow-lg shadow-blue-500/20":p?"bg-zinc-800/50 border-emerald-500/50":"bg-zinc-900/50 border-zinc-700/50 opacity-50"}`,children:[i.jsx("div",{className:`p-4 border-b ${r?"border-blue-500/30":"border-zinc-700/50"}`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-xl ${p?"bg-emerald-500/20 text-emerald-400":r?"bg-blue-500/20 text-blue-400":"bg-zinc-700/50 text-zinc-500"}`,children:p?i.jsx(ut,{className:"w-6 h-6"}):m()}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-medium text-zinc-500",children:["Passo ",e.sequence]}),e.is_critical&&i.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs font-medium rounded",children:"CRTICO"}),e.is_quality_check&&i.jsx("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs font-medium rounded",children:"QUALIDADE"})]}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:e.title})]})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("p",{className:"text-zinc-300",children:e.description}),e.visual_references.length>0&&i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:e.visual_references.map((g,y)=>i.jsx("div",{className:"flex-shrink-0 w-32 h-24 bg-zinc-700 rounded-lg overflow-hidden flex items-center justify-center",children:i.jsx(VK,{className:"w-8 h-8 text-zinc-500"})},y))}),e.tolerance&&i.jsx(KNe,{tolerance:e.tolerance,value:t?.input_value!==void 0?parseFloat(t.input_value):void 0}),r&&!p&&i.jsxs("div",{className:"space-y-3",children:[e.input_type==="numeric"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Valor medido:"}),i.jsx("input",{type:"number",step:"0.1",value:o,onChange:g=>l(g.target.value),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-600 rounded-lg text-white text-lg focus:border-blue-500 focus:outline-none",placeholder:e.tolerance?`${e.tolerance.nominal} ${e.tolerance.unit}`:"Inserir valor",autoFocus:!0})]}),e.input_type==="text"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Inserir:"}),i.jsx("input",{type:"text",value:o,onChange:g=>l(g.target.value),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",placeholder:"Inserir texto",autoFocus:!0})]}),e.input_type==="select"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Selecionar:"}),i.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",children:[i.jsx("option",{value:"",children:"Escolher..."}),e.options.map(g=>i.jsx("option",{value:g,children:g},g))]})]}),e.input_type==="photo"&&i.jsxs("button",{className:"w-full py-4 bg-zinc-700 hover:bg-zinc-600 rounded-lg flex items-center justify-center gap-2 text-zinc-300",children:[i.jsx(MC,{className:"w-5 h-5"}),"Tirar Foto"]}),i.jsx(pt,{children:(u||s)&&i.jsxs(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg flex items-center gap-2 text-red-400",children:[i.jsx(Nl,{className:"w-5 h-5"}),s||"Valor invlido"]})}),i.jsx("button",{onClick:h,disabled:a||e.required&&e.input_type!=="boolean"&&e.input_type!=="none"&&!o,className:"w-full py-4 bg-emerald-500 hover:bg-emerald-600 disabled:bg-zinc-700 disabled:text-zinc-500 rounded-lg font-semibold text-white flex items-center justify-center gap-2 transition-all",children:a?i.jsx(us,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(ut,{className:"w-5 h-5"}),e.input_type==="boolean"?"Confirmar":"Concluir Passo"]})})]}),p&&t&&i.jsx("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[i.jsx(ut,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Concludo"}),t.input_value!==void 0&&i.jsxs("span",{className:"ml-auto text-zinc-400",children:["Valor: ",i.jsx("span",{className:"text-white font-mono",children:String(t.input_value)})]})]})})]})]})},YNe=({checks:e,executionId:t,onCheckRecorded:r})=>{const[n,a]=O.useState({}),[s,o]=O.useState(null),l=async(u,d)=>{o(u);try{await VNe(t,u,d),a(h=>({...h,[u]:d})),r()}catch(h){console.error(h)}o(null)};return i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl border border-zinc-700/50 p-4",children:[i.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(s$,{className:"w-5 h-5 text-amber-500"}),"Checklist de Qualidade"]}),i.jsx("div",{className:"space-y-3",children:e.map(u=>{const d=n[u.check_id],h=s===u.check_id;return i.jsx("div",{className:`p-3 rounded-lg border ${d==="ok"?"bg-emerald-500/10 border-emerald-500/30":d==="nok"?"bg-red-500/10 border-red-500/30":"bg-zinc-900/50 border-zinc-700/50"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[u.is_critical&&i.jsx(Te,{className:"w-4 h-4 text-amber-500"}),i.jsx("span",{className:"text-zinc-300",children:u.question})]}),d?i.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium ${d==="ok"?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:d.toUpperCase()}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>l(u.check_id,"ok"),disabled:h,className:"p-2 bg-emerald-500/20 hover:bg-emerald-500/30 rounded-lg text-emerald-400",children:i.jsx(h$,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>l(u.check_id,"nok"),disabled:h,className:"p-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg text-red-400",children:i.jsx(f$,{className:"w-4 h-4"})})]})]})},u.check_id)})})]})},P8=()=>{const[e,t]=O.useState(null),[r,n]=O.useState("");Nt();const{data:a}=xe({queryKey:["wi-status"],queryFn:zNe}),s=qe({mutationFn:async()=>{const h=await qNe();return BNe(h.instruction_id)},onSuccess:h=>t(h)}),o=qe({mutationFn:async({stepId:h,value:m})=>{if(!e)throw new Error("No execution");return UNe(e.execution_id,h,m)},onSuccess:h=>{t(h),n("")},onError:h=>n(h.message)}),l=async()=>{if(e){const h=await WNe(e.execution_id);t(h)}},u=e?.instruction,d=e?.current_step;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-zinc-900 to-zinc-950",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-zinc-900/90 backdrop-blur border-b border-zinc-800 px-6 py-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl",children:i.jsx(RC,{className:"w-6 h-6 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-white",children:"Work Instructions"}),i.jsx("p",{className:"text-sm text-zinc-400",children:u?u.title:"Instrues de Trabalho Digitais"})]})]}),e&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-zinc-500",children:"Progresso"}),i.jsxs("p",{className:"text-xl font-bold text-white",children:[e.progress_percent,"%"]})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.status==="completed"?"bg-emerald-500/20 text-emerald-400":e.status==="paused"?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:e.status==="completed"?"Concludo":e.status==="paused"?"Pausado":"Em Progresso"})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[!e&&i.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl flex items-center justify-center",children:i.jsx(RC,{className:"w-10 h-10 text-blue-500"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Instrues de Trabalho"}),i.jsx("p",{className:"text-zinc-400 mb-8 max-w-md mx-auto",children:"Sistema de instrues passo-a-passo com validaes poka-yoke e captura de evidncias."}),i.jsxs("button",{onClick:()=>s.mutate(),disabled:s.isPending,className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold text-white flex items-center gap-2 mx-auto",children:[s.isPending?i.jsx(us,{className:"w-5 h-5 animate-spin"}):i.jsx(vi,{className:"w-5 h-5"}),"Iniciar Demo"]})]}),e&&u&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm text-zinc-400",children:["Passo ",e.completed_steps+(e.status==="completed"?0:1)," de ",e.total_steps]}),i.jsx("span",{className:"text-sm text-zinc-400",children:e.nok_count>0&&i.jsxs("span",{className:"text-red-400",children:[e.nok_count," NOK"]})})]}),i.jsx(HNe,{current:e.current_step_index,total:e.total_steps,executions:e.step_executions})]}),e.status==="paused"&&i.jsxs(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-amber-500/20 border border-amber-500/50 rounded-xl flex items-center gap-3",children:[i.jsx(A2,{className:"w-6 h-6 text-amber-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-amber-400",children:"Execuo Pausada"}),i.jsx("p",{className:"text-sm text-amber-300/70",children:"Quality check NOK detectado. Verificar com supervisor."})]})]}),e.status==="completed"&&i.jsxs(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-6 bg-emerald-500/20 border border-emerald-500/50 rounded-xl text-center",children:[i.jsx(ut,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),i.jsx("h3",{className:"text-xl font-bold text-emerald-400 mb-1",children:"Instruo Concluda!"}),i.jsx("p",{className:"text-emerald-300/70",children:"Todos os passos foram executados com sucesso."})]}),d&&e.status==="in_progress"&&i.jsx(GNe,{step:d,execution:e.step_executions.find(h=>h.step_id===d.step_id),isActive:!0,onComplete:h=>o.mutate({stepId:d.step_id,value:h}),isCompleting:o.isPending,error:r}),e.completed_steps>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-zinc-500 flex items-center gap-2",children:[i.jsx(ga,{className:"w-4 h-4"}),"Passos Concludos (",e.completed_steps,")"]}),i.jsx("div",{className:"space-y-2",children:u.steps.filter((h,m)=>e.step_executions[m]?.status==="completed").map((h,m)=>i.jsxs("div",{className:"p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-lg flex items-center gap-3",children:[i.jsx(ut,{className:"w-5 h-5 text-emerald-500"}),i.jsxs("span",{className:"text-zinc-400",children:[h.sequence,". ",h.title]}),e.step_executions.find(p=>p.step_id===h.step_id)?.input_value!==void 0&&i.jsx("span",{className:"ml-auto font-mono text-sm text-zinc-500",children:String(e.step_executions.find(p=>p.step_id===h.step_id)?.input_value)})]},h.step_id))})]}),u.quality_checks.length>0&&e.status!=="not_started"&&i.jsx(YNe,{checks:u.quality_checks,executionId:e.execution_id,onCheckRecorded:l})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-zinc-900/90 backdrop-blur border-t border-zinc-800 px-6 py-3",children:i.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between text-xs text-zinc-500",children:[i.jsx("span",{children:"Work Instructions v1.0  Poka-Yoke Digital"}),i.jsx("span",{children:"R&D / SIFIDE: WP1 - Digital Twin & Shopfloor"})]})})]})},QNe=Object.freeze(Object.defineProperty({__proto__:null,default:P8},Symbol.toStringTag,{value:"Module"})),Eo="http://127.0.0.1:8000/guard",XNe=async()=>{const e=await fetch(`${Eo}/status`);if(!e.ok)throw new Error("Failed");return e.json()},JNe=async()=>{const e=await fetch(`${Eo}/rules`);if(!e.ok)throw new Error("Failed");return e.json()},ZNe=async()=>{const e=await fetch(`${Eo}/exceptions/pending`);if(!e.ok)throw new Error("Failed");return e.json()},e2e=async()=>{const e=await fetch(`${Eo}/events?limit=50`);if(!e.ok)throw new Error("Failed");return e.json()},t2e=async()=>{const e=await fetch(`${Eo}/demo`,{method:"POST"});if(!e.ok)throw new Error("Failed");return e.json()},r2e=async({id:e,by:t})=>{const r=await fetch(`${Eo}/exceptions/${e}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolved_by:t,note:"Approved via dashboard"})});if(!r.ok)throw new Error("Failed");return r.json()},n2e=async({id:e,by:t})=>{const r=await fetch(`${Eo}/exceptions/${e}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolved_by:t,note:"Rejected via dashboard"})});if(!r.ok)throw new Error("Failed");return r.json()},ku=({label:e,value:t,icon:r,color:n,subtext:a})=>i.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700/50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${n}`,children:r}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:t}),i.jsx("p",{className:"text-sm text-zinc-400",children:e}),a&&i.jsx("p",{className:"text-xs text-zinc-500",children:a})]})]})}),C8=({severity:e})=>{const t={info:"bg-blue-500/20 text-blue-400 border-blue-500/30",warning:"bg-amber-500/20 text-amber-400 border-amber-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",critical:"bg-red-600/30 text-red-300 border-red-500/50"};return i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${t[e]||t.info}`,children:e.toUpperCase()})},E8=({action:e})=>{const t={allow:"bg-green-500/20 text-green-400",warn:"bg-amber-500/20 text-amber-400",block:"bg-red-500/20 text-red-400",approval_required:"bg-purple-500/20 text-purple-400"};return i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t[e]||t.allow}`,children:e.replace("_"," ")})},i2e=({level:e,probability:t})=>{const r={low:"#22c55e",medium:"#f59e0b",high:"#ef4444",critical:"#dc2626"},n=r[e]||r.low,a=Math.round(t*100);return i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative w-24 h-24",children:[i.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#333",strokeWidth:"8",fill:"none"}),i.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:n,strokeWidth:"8",fill:"none",strokeDasharray:`${a*2.51} 251`,strokeLinecap:"round"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:"text-xl font-bold",style:{color:n},children:[a,"%"]})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold uppercase",style:{color:n},children:e}),i.jsx("p",{className:"text-sm text-zinc-400",children:"Defect Risk"})]})]})},ZR=({issue:e})=>i.jsxs("div",{className:`p-3 rounded-lg border ${e.resolved?"bg-zinc-900/30 border-zinc-700/30 opacity-60":"bg-zinc-800/50 border-zinc-700/50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[i.jsx("span",{className:"font-medium text-white text-sm",children:e.rule_name}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(C8,{severity:e.severity}),i.jsx(E8,{action:e.action})]})]}),i.jsx("p",{className:"text-sm text-zinc-400",children:e.message}),e.resolved&&i.jsxs("p",{className:"text-xs text-emerald-400 mt-1 flex items-center gap-1",children:[i.jsx(ut,{className:"w-3 h-3"})," Resolved"]})]}),a2e=()=>{const[e,t]=O.useState("overview"),[r,n]=O.useState(null),a=Nt(),{data:s,refetch:o}=xe({queryKey:["guard-status"],queryFn:XNe}),{data:l}=xe({queryKey:["guard-rules"],queryFn:JNe}),{data:u,refetch:d}=xe({queryKey:["guard-exceptions"],queryFn:ZNe}),{data:h}=xe({queryKey:["guard-events"],queryFn:e2e}),m=qe({mutationFn:t2e,onSuccess:b=>{n(b),o(),a.invalidateQueries({queryKey:["guard-events"]})}}),p=qe({mutationFn:r2e,onSuccess:()=>{d(),o(),a.invalidateQueries({queryKey:["guard-events"]})}}),g=qe({mutationFn:n2e,onSuccess:()=>{d(),o()}}),y=s?.statistics,v=[{id:"overview",label:"Overview",icon:i.jsx(da,{className:"w-4 h-4"})},{id:"rules",label:"Rules",icon:i.jsx(qg,{className:"w-4 h-4"})},{id:"exceptions",label:"Exceptions",icon:i.jsx(Bg,{className:"w-4 h-4"}),badge:y?.pending_exceptions},{id:"events",label:"Events",icon:i.jsx(gi,{className:"w-4 h-4"})}];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-zinc-900 to-zinc-950 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-xl",children:i.jsx(Oh,{className:"w-8 h-8 text-emerald-500"})}),"Prevention Guard"]}),i.jsx("p",{className:"text-zinc-400",children:"Sistema de preveno de erros e validao de qualidade"})]}),i.jsxs("button",{onClick:()=>m.mutate(),disabled:m.isPending,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 rounded-lg",children:[m.isPending?i.jsx(us,{className:"w-4 h-4 animate-spin"}):i.jsx(vi,{className:"w-4 h-4"}),"Run Demo"]})]}),i.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[i.jsx(ku,{label:"Validaes",value:y?.validations_performed||0,icon:i.jsx(qg,{className:"w-5 h-5"}),color:"bg-blue-500/20 text-blue-400"}),i.jsx(ku,{label:"Issues Detectados",value:y?.issues_detected||0,icon:i.jsx(Te,{className:"w-5 h-5"}),color:"bg-amber-500/20 text-amber-400"}),i.jsx(ku,{label:"Erros Prevenidos",value:y?.errors_prevented||0,icon:i.jsx(Oh,{className:"w-5 h-5"}),color:"bg-emerald-500/20 text-emerald-400"}),i.jsx(ku,{label:"Excees Pendentes",value:y?.pending_exceptions||0,icon:i.jsx(Bg,{className:"w-5 h-5"}),color:y?.pending_exceptions?"bg-red-500/20 text-red-400":"bg-zinc-500/20 text-zinc-400"}),i.jsx(ku,{label:"Regras Ativas",value:(y?.active_rules.pdm||0)+(y?.active_rules.shopfloor||0),icon:i.jsx(br,{className:"w-5 h-5"}),color:"bg-purple-500/20 text-purple-400",subtext:`PDM: ${y?.active_rules.pdm||0} | Shopfloor: ${y?.active_rules.shopfloor||0}`})]}),i.jsx("div",{className:"flex gap-2 mb-6",children:v.map(b=>i.jsxs("button",{onClick:()=>t(b.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e===b.id?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-zinc-800/50 text-zinc-400 hover:bg-zinc-700/50"}`,children:[b.icon,b.label,b.badge?i.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-red-500/30 text-red-400 text-xs rounded-full",children:b.badge}):null]},b.id))}),i.jsxs("div",{className:"bg-zinc-900/50 rounded-xl border border-zinc-800 p-6",children:[e==="overview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(da,{className:"w-5 h-5 text-emerald-500"}),"Validation Overview"]}),r?i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium text-white",children:"Product Release Validation"}),r.results.product_release.passed?i.jsxs("span",{className:"flex items-center gap-1 text-emerald-400 text-sm",children:[i.jsx(ut,{className:"w-4 h-4"})," Passed"]}):i.jsxs("span",{className:"flex items-center gap-1 text-red-400 text-sm",children:[i.jsx(kl,{className:"w-4 h-4"})," Failed"]})]}),i.jsxs("div",{className:"flex gap-4 mb-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-400",children:r.results.product_release.errors}),i.jsx("p",{className:"text-xs text-zinc-500",children:"Errors"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-amber-400",children:r.results.product_release.warnings}),i.jsx("p",{className:"text-xs text-zinc-500",children:"Warnings"})]})]}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.results.product_release.issues.map(b=>i.jsx(ZR,{issue:b},b.issue_id))})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium text-white",children:"Order Start Validation"}),r.results.order_start.validation.passed?i.jsxs("span",{className:"flex items-center gap-1 text-emerald-400 text-sm",children:[i.jsx(ut,{className:"w-4 h-4"})," Passed"]}):i.jsxs("span",{className:"flex items-center gap-1 text-red-400 text-sm",children:[i.jsx(kl,{className:"w-4 h-4"})," Failed"]})]}),i.jsxs("div",{className:"mb-4 p-3 bg-zinc-900/50 rounded-lg",children:[i.jsx(i2e,{level:r.results.order_start.risk.risk_level,probability:r.results.order_start.risk.defect_probability}),r.results.order_start.risk.recommendations?.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[i.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"Recommendations:"}),i.jsx("ul",{className:"space-y-1",children:r.results.order_start.risk.recommendations.map((b,w)=>i.jsxs("li",{className:"text-xs text-amber-400 flex items-start gap-1",children:[i.jsx(Zr,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),b]},w))})]})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.results.order_start.validation.issues.map(b=>i.jsx(ZR,{issue:b},b.issue_id))})]})]}):i.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[i.jsx(da,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Execute o demo para ver validaes em ao"})]})]}),e==="rules"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(qg,{className:"w-5 h-5 text-blue-500"}),"Validation Rules (",l?.rules.length||0,")"]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:l?.rules.map(b=>i.jsxs("div",{className:`p-4 rounded-lg border ${b.enabled?"bg-zinc-800/50 border-zinc-700/50":"bg-zinc-900/30 border-zinc-800/30 opacity-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-mono text-xs text-zinc-500",children:b.rule_id}),i.jsx("p",{className:"font-medium text-white",children:b.name})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(C8,{severity:b.severity}),i.jsx(E8,{action:b.action})]})]}),i.jsx("p",{className:"text-sm text-zinc-400",children:b.description}),i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx("span",{className:"px-2 py-0.5 bg-zinc-700/50 text-zinc-400 text-xs rounded",children:b.category}),b.enabled?i.jsxs("span",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[i.jsx(ga,{className:"w-3 h-3"})," Enabled"]}):i.jsxs("span",{className:"text-xs text-zinc-500 flex items-center gap-1",children:[i.jsx(YK,{className:"w-3 h-3"})," Disabled"]})]})]},b.rule_id))})]}),e==="exceptions"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(Bg,{className:"w-5 h-5 text-amber-500"}),"Pending Exceptions (",u?.exceptions.length||0,")"]}),u&&u.exceptions.length>0?i.jsx("div",{className:"space-y-4",children:u.exceptions.map(b=>i.jsxs("div",{className:"p-4 bg-zinc-800/50 rounded-lg border border-amber-500/20",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-mono text-xs text-zinc-500",children:b.exception_id}),i.jsxs("p",{className:"font-medium text-white",children:["Order: ",b.order_id]}),i.jsxs("p",{className:"text-sm text-zinc-400",children:["Requested by: ",b.requested_by]})]}),i.jsx("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs rounded",children:b.status.toUpperCase()})]}),i.jsx("p",{className:"text-sm text-zinc-300 mb-3",children:b.reason}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>p.mutate({id:b.exception_id,by:"supervisor"}),disabled:p.isPending,className:"flex items-center gap-1 px-3 py-1.5 bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 rounded text-sm",children:[i.jsx(h$,{className:"w-4 h-4"})," Approve"]}),i.jsxs("button",{onClick:()=>g.mutate({id:b.exception_id,by:"supervisor"}),disabled:g.isPending,className:"flex items-center gap-1 px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded text-sm",children:[i.jsx(f$,{className:"w-4 h-4"})," Reject"]})]})]},b.exception_id))}):i.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[i.jsx(Oh,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhuma exceo pendente"})]})]}),e==="events"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(gi,{className:"w-5 h-5 text-zinc-500"}),"Event Log"]}),i.jsxs("button",{onClick:()=>a.invalidateQueries({queryKey:["guard-events"]}),className:"flex items-center gap-1 px-3 py-1 bg-zinc-700/50 hover:bg-zinc-600/50 text-zinc-300 rounded text-sm",children:[i.jsx(De,{className:"w-3 h-3"})," Refresh"]})]}),h&&h.events.length>0?i.jsx("div",{className:"space-y-2",children:h.events.map(b=>{const w={validation_passed:"text-emerald-400",validation_failed:"text-red-400",risk_alert:"text-amber-400",exception_requested:"text-purple-400",exception_resolved:"text-blue-400",error_prevented:"text-emerald-400"};return i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-zinc-800/30 rounded-lg",children:[i.jsxs("div",{className:`mt-1 ${w[b.event_type]||"text-zinc-400"}`,children:[b.event_type==="validation_passed"&&i.jsx(ut,{className:"w-4 h-4"}),b.event_type==="validation_failed"&&i.jsx(kl,{className:"w-4 h-4"}),b.event_type==="risk_alert"&&i.jsx(Te,{className:"w-4 h-4"}),b.event_type==="exception_requested"&&i.jsx(zK,{className:"w-4 h-4"}),b.event_type==="exception_resolved"&&i.jsx(ga,{className:"w-4 h-4"}),b.event_type==="error_prevented"&&i.jsx(Oh,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-white",children:b.message}),i.jsxs("div",{className:"flex gap-2 mt-1 text-xs text-zinc-500",children:[i.jsxs("span",{children:[b.entity_type,": ",b.entity_id]}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(b.timestamp).toLocaleString("pt-PT")})]})]})]},b.event_id)})}):i.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[i.jsx(gi,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"Nenhum evento registado"})]})]})]}),i.jsxs("div",{className:"mt-8 text-center text-xs text-zinc-600",children:[i.jsx("p",{children:"Prevention Guard: PDM Validation + Shopfloor Guard + Predictive Risk Assessment"}),i.jsx("p",{className:"mt-1",children:"R&D / SIFIDE: WP4 - Zero Defect Manufacturing"})]})]})})},s2e=new bK,o2e=[{path:"/prodplan",label:"ProdPlan",icon:$i,description:"Planeamento & Produo"},{path:"/inventory",label:"SmartInventory",icon:wr,description:"Digital Twin de Inventrio"},{path:"/duplios",label:"Duplios",icon:T2,description:"Passaportes Digitais"},{path:"/digital-twin",label:"Digital Twin",icon:Ui,description:"Sade & Qualidade"},{path:"/intelligence",label:"Inteligncia",icon:to,description:"IA & Otimizao"},{path:"/research",label:"R&D",icon:l$,description:"Investigao"}],l2e=[{path:"/digital-twin/machines",label:"Mquinas (SHI-DT)"},{path:"/digital-twin/product",label:"Produto (XAI-DT)"}],c2e=[{path:"/intelligence/causal",label:"Anlise Causal"},{path:"/intelligence/optimization",label:"Otimizao"},{path:"/intelligence/whatif",label:"What-If Avanado"}];function u2e(){const[e,t]=O.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs(de.button,{onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white rounded-full shadow-lg shadow-cyan-500/20",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(Yw,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Latif AI"})]}),i.jsx(pt,{children:e&&i.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>t(!1),children:i.jsxs(de.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-4xl h-[80vh] bg-slate-900 rounded-2xl border border-slate-700 overflow-hidden",onClick:r=>r.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center",children:i.jsx(Yw,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-white",children:"Latif AI Assistant"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Copilot de Produo"})]})]}),i.jsx("button",{onClick:()=>t(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg",children:i.jsx(va,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"h-[calc(100%-60px)]",children:i.jsx(_8,{})})]})})})]})}function d2e(){return i.jsxs("div",{className:"space-y-6",children:[i.jsx("header",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl border border-purple-500/30",children:i.jsx(Ui,{className:"w-6 h-6 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500 font-medium",children:"Digital Twin"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Sade & Qualidade"})]})]})}),i.jsx("div",{className:"flex gap-2",children:l2e.map(e=>i.jsx(qN,{to:e.path,className:({isActive:t})=>`px-4 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:e.label},e.path))}),i.jsxs(zN,{children:[i.jsx(et,{index:!0,element:i.jsx(Ar,{to:"machines",replace:!0})}),i.jsx(et,{path:"machines",element:i.jsx(Xse,{})}),i.jsx(et,{path:"product",element:i.jsx(soe,{})})]})]})}function f2e(){return i.jsxs("div",{className:"space-y-6",children:[i.jsx("header",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-xl border border-amber-500/30",children:i.jsx(to,{className:"w-6 h-6 text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-500 font-medium",children:"Inteligncia"}),i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"IA & Otimizao"})]})]})}),i.jsx("div",{className:"flex gap-2",children:c2e.map(e=>i.jsx(qN,{to:e.path,className:({isActive:t})=>`px-4 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:e.label},e.path))}),i.jsxs(zN,{children:[i.jsx(et,{index:!0,element:i.jsx(Ar,{to:"causal",replace:!0})}),i.jsx(et,{path:"causal",element:i.jsx(koe,{})}),i.jsx(et,{path:"optimization",element:i.jsx(M1e,{})}),i.jsx(et,{path:"whatif",element:i.jsx(goe,{})})]})]})}function h2e(){const[e,t]=O.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-background text-text-body",children:[i.jsxs("header",{className:"sticky top-0 z-30 border-b border-border bg-background/80 backdrop-blur-xl",children:[i.jsxs("div",{className:"container flex items-center justify-between py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-nikufra/10 text-xl text-nikufra",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-text-muted",children:"Nikufra Ops"}),i.jsx("h1",{className:"text-lg font-semibold text-text-primary",children:"ProdPlan 4.0"})]})]}),i.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 bg-nikufra hover:bg-nikufra/90 text-white rounded-lg transition text-sm font-medium",children:[i.jsx(m$,{className:"w-4 h-4"}),i.jsx("span",{children:"Carregar Dados"})]})]}),i.jsx("nav",{className:"border-t border-border",children:i.jsx("div",{className:"container flex items-center gap-1 py-3 overflow-x-auto scrollbar-thin scrollbar-thumb-slate-700",children:o2e.map(r=>i.jsx(qN,{to:r.path,className:({isActive:n})=>`group relative flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium transition-all whitespace-nowrap ${n?"bg-cyan-600/20 text-cyan-400 border border-cyan-500/30":"text-text-muted hover:text-text-primary hover:bg-slate-700/30"}`,children:({isActive:n})=>i.jsxs(i.Fragment,{children:[i.jsx(r.icon,{className:`w-4 h-4 ${n?"text-cyan-400":"text-slate-500 group-hover:text-slate-300"}`}),r.label,n&&i.jsx(de.span,{layoutId:"nav-underline-main",className:"absolute -bottom-3 left-2 right-2 h-0.5 rounded-full bg-cyan-500"})]})},r.path))})})]}),i.jsx("main",{className:"container pb-24 pt-8",children:i.jsxs(zN,{children:[i.jsx(et,{path:"/",element:i.jsx(Ar,{to:"/prodplan",replace:!0})}),i.jsx(et,{path:"/prodplan",element:i.jsx(nse,{})}),i.jsx(et,{path:"/inventory",element:i.jsx(fse,{})}),i.jsx(et,{path:"/duplios/*",element:i.jsx(Bse,{})}),i.jsx(et,{path:"/digital-twin/*",element:i.jsx(d2e,{})}),i.jsx(et,{path:"/intelligence/*",element:i.jsx(f2e,{})}),i.jsx(et,{path:"/research",element:i.jsx(X1e,{})}),i.jsx(et,{path:"/shopfloor",element:i.jsx(pNe,{})}),i.jsx(et,{path:"/shi-dt",element:i.jsx(Ar,{to:"/digital-twin/machines",replace:!0})}),i.jsx(et,{path:"/xai-dt",element:i.jsx(Ar,{to:"/digital-twin/product",replace:!0})}),i.jsx(et,{path:"/pdm",element:i.jsx(ANe,{})}),i.jsx(et,{path:"/mrp",element:i.jsx(LNe,{})}),i.jsx(et,{path:"/work-instructions",element:i.jsx(P8,{})}),i.jsx(et,{path:"/optimization",element:i.jsx(Ar,{to:"/intelligence/optimization",replace:!0})}),i.jsx(et,{path:"/prevention-guard",element:i.jsx(a2e,{})}),i.jsx(et,{path:"/whatif",element:i.jsx(Ar,{to:"/intelligence/whatif",replace:!0})}),i.jsx(et,{path:"/causal",element:i.jsx(Ar,{to:"/intelligence/causal",replace:!0})}),i.jsx(et,{path:"/chat",element:i.jsx(_8,{})}),i.jsx(et,{path:"/smart-inventory",element:i.jsx(Ar,{to:"/inventory",replace:!0})}),i.jsx(et,{path:"/advanced",element:i.jsx(Ar,{to:"/prodplan",replace:!0})}),i.jsx(et,{path:"/dashboards",element:i.jsx(Ar,{to:"/prodplan",replace:!0})}),i.jsx(et,{path:"/reports",element:i.jsx(Ar,{to:"/prodplan",replace:!0})}),i.jsx(et,{path:"/projects",element:i.jsx(Ar,{to:"/prodplan",replace:!0})}),i.jsx(et,{path:"/workforce",element:i.jsx(Ar,{to:"/prodplan",replace:!0})}),i.jsx(et,{path:"/bottlenecks",element:i.jsx(Ar,{to:"/prodplan",replace:!0})}),i.jsx(et,{path:"/suggestions",element:i.jsx(Ar,{to:"/prodplan",replace:!0})})]})}),i.jsx(u2e,{}),i.jsx(ZK,{isOpen:e,onClose:()=>t(!1)})]})}function m2e(){return i.jsx(jK,{client:s2e,children:i.jsx(h2e,{})})}MB.createRoot(document.getElementById("root")).render(i.jsxs(z.StrictMode,{children:[i.jsx(TU,{children:i.jsx(m2e,{})}),i.jsx(S9,{position:"bottom-right",toastOptions:{style:{background:"#121212",color:"#EAEAEA",border:"1px solid #262626",boxShadow:"0 4px 20px rgba(0, 230, 118, 0.08)"},success:{iconTheme:{primary:"#00E676",secondary:"#0B0B0B"}}}})]}));export{$2e as $,pt as A,dr as B,Ui as C,z as D,rt as E,qK as F,c$ as G,E2 as H,O2 as I,Wz as J,fpe as K,us as L,js as M,ot as N,ppe as O,vi as P,Ke as Q,De as R,Xr as S,ar as T,m$ as U,Km as V,p$ as W,va as X,jr as Y,zr as Z,Dt as _,gi as a,ad as a0,Dr as a1,C6 as a2,nN as a3,We as a4,Jr as a5,pN as a6,_a as a7,Yn as a8,Ai as a9,N8 as aA,zi as aB,Px as aa,ge as ab,fs as ac,af as ad,jc as ae,pi as af,Pn as ag,O_ as ah,Gxe as ai,xi as aj,ha as ak,df as al,D2e as am,rM as an,Sx as ao,nf as ap,w8 as aq,Po as ar,Co as as,F6 as at,I2e as au,T2 as av,E_ as aw,$x as ax,Vn as ay,ao as az,Te as b,me as c,_l as d,Xn as e,Zr as f,vr as g,ut as h,hc as i,i as j,kl as k,qe as l,de as m,br as n,Nt as o,da as p,to as q,O as r,Oh as s,Dl as t,xe as u,ga as v,fn as w,$u as x,bo as y,Xe as z};
